---
id: useAtomSelector
title: useAtomSelector
---

import { LiveEditor } from '../../LiveEditor'

```ts
import { useAtomSelector } from '@zedux/react'
```

A React hook that accepts an [AtomSelector](../types/AtomSelector) and registers graph dependencies on any atom instances the AtomSelector uses. Returns whatever the AtomSelector returns.

The selector will rerun every time the state of any of the dependencies it creates change. The component that uses this hook will only rerender when the selector result changes.

## Example

<LiveEditor ecosystemId="useAtomSelector/example" resultVar="Counters">{`
const countersAtom = atom('counters', () => {
  const store = injectStore({ counterA: 1, counterB: 1 })\n
  return store
})\n
function Counters() {
  const counterA = useAtomSelector(({ get }) => get(countersAtom).counterA)
  const instance = useAtomInstance(countersAtom)
  const { setState } = instance
  const rendersRef = useRef(0)
  rendersRef.current++\n
  return (
    <>
      <div>Number of renders: {rendersRef.current}</div>
      <div>Counter A (dynamic): {counterA}</div>
      <button onClick={
        () => setState(state => ({ ...state, counterA: state.counterA + 1}))
      }>
        Increment Counter A
      </button>
      <div>Counter B (static): {instance.store.getState().counterB}</div>
      <button onClick={
        () => setState(state => ({ ...state, counterB: state.counterB + 1}))
      }>
        Increment Counter B
      </button>
    </>
  )
}
`}</LiveEditor>

Miscellaneous:

```ts
// only rerender when `someField` changes:
const selectedVal = useAtomSelector(({ get }) => get(myAtom).someField)

const withParams = useAtomSelector(
  ({ get }) => get(myAtom, ['a param']).someField
)

const selectorComposition = useAtomSelector(
  ({ select }) => `${select(helloSelector)}, ${select(worldSelector)}!`
)

const staticVal = useAtomSelector(
  ({ getInstance }) => getInstance(myAtom).store.getState().someField
)

const staticValUsingEcosystem = useAtomSelector(
  ({ ecosystem }) => ecosystem.get(myAtom).someField
)
```

## Signature

```ts
useAtomSelector(atomSelectorOrConfig, ...args) => result
```

### `atomSelectorOrConfig`

The [AtomSelector](../types/AtomSelector) to run or an [AtomSelectorConfig object](../types/AtomSelector#atomselectorconfig) with the AtomSelector as the `selector` property.

### `args`

The extra arguments to pass to the AtomSelector (besides the first AtomGetters arg, which Zedux passes for you). In TypeScript, all of the AtomSelector's required arguments are required here.

### `result`

Whatever the AtomSelector returns.
