---
id: AtomInstanceProvider
title: AtomInstanceProvider
---

```ts
import { AtomInstanceProvider } from '@zedux/react'
```

A component that provides one or more [atom instances](../classes/AtomInstance) over React context.

To consume the provided instances, use [`useAtomConsumer()`](../hooks/useAtomConsumer).

## Example

```tsx live ecosystemId=AtomInstanceProvider/example resultVar=Parent
const secondsAtom = atom('seconds', (start: number) => {
  const store = injectStore(start)

  injectEffect(() => {
    const intervalId = setInterval(() => store.setState(val => val + 1), 1000)

    return () => clearInterval(intervalId)
  }, [])

  return store
})

function Child() {
  const instance = useAtomConsumer(secondsAtom) // no need to pass params
  const state = useAtomValue(instance) // subscribe

  return <div>Child's Seconds: {state}</div>
}

function Parent() {
  const instance = useAtomInstance(secondsAtom, [100])

  return (
    <AtomInstanceProvider instance={instance}>
      <Child />
    </AtomInstanceProvider>
  )
}
```

Providing multiple instances:

```tsx
<AtomInstanceProvider instances={[instanceA, instanceB]}>
  {children}
</AtomInstanceProvider>
```

## Props

AtomInstanceProvider accepts **either** an `instance` prop with a single atom instance OR an `instances` prop with an array of instances. You must pass one or the other.

### `instance`

Optional. A single [atom instance](../classes/AtomInstance). This instance will be provided over React context.

### `instances`

Optional. An array of atom instances. Each instance will be provided with a separate React context provider.
