---
id: injectInvalidate
title: injectInvalidate
---

```ts
import { injectInvalidate } from '@zedux/react'
```

An [injector](../glossary#injector) that returns an `invalidate()` function. This `invalidate()` function can be used to force a reevaluation of the current atom instance.

In general, try to avoid impure, mutation-oriented, or generally non-reactive patterns that might require manual invalidation. However, there are some use cases for it.

## Examples

```tsx live ecosystemId=injectInvalidate/example resultVar=Coin
const coinTossAtom = atom('coinToss', () => {
  const isHeads = Math.random() < 0.5
  const invalidate = injectInvalidate()

  return api(isHeads).setExports({
    flip: invalidate,
  })
})

function Coin() {
  const isHeads = useAtomValue(coinTossAtom)
  const { flip } = useAtomInstance(coinTossAtom).exports

  return <button onClick={flip}>{isHeads ? 'Heads' : 'Tails'}</button>
}
```

`injectInvalidate` is the equivalent of the following pattern in React:

```ts
const [, forceRender] = useState()
...
forceRender({})
```

(Here's the above example in atom form):

```ts
const invalidate = injectInvalidate()
...
invalidate()
```

## Signature

```ts
injectInvalidate() => invalidate
```

Returns the `invalidate()` function whose signature is

```ts
invalidate() => void
```

Nuthin' special.
