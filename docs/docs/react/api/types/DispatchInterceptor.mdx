---
id: DispatchInterceptor
title: DispatchInterceptor
---

A function that intercepts [`instance.dispatch()`](../classes/AtomInstance#dispatch) calls.

These interceptors function like middleware. They will be called every time `instance.dispatch()` is called and can cancel the dispatch or reroute it.

## Definition

```ts
type DispatchInterceptor<State = any> = (
  action: ActionChain,
  next: (action: ActionChain) => State
) => State
```

Accepts an [ActionChain](ActionChain) object and a `next` function. Must return the new state (or the current state if no change).

## Example

```ts
const store = injectStore()

const myApi = api(store).addDispatchInterceptor(
  (action, next) => {
    const currentState = store.getState()

    // make sure you return the state!
    if (isBad(currentState)) return currentState // cancel the dispatch

    // return the new state
    return next(action) // proceed with the dispatch
  }
)
```

See [AtomApi](../classes/AtomApi) for more info.
