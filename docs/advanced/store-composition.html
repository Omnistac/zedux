<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-advanced/store-composition">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Store Composition | Zedux</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://omnistac.github.io/zedux/docs/advanced/store-composition"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Store Composition | Zedux"><meta data-rh="true" name="description" content="This guide is very low-level. Treat it as an FYI that you&#x27;ll probably never need to fully understand."><meta data-rh="true" property="og:description" content="This guide is very low-level. Treat it as an FYI that you&#x27;ll probably never need to fully understand."><link data-rh="true" rel="icon" href="/zedux/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://omnistac.github.io/zedux/docs/advanced/store-composition"><link data-rh="true" rel="alternate" href="https://omnistac.github.io/zedux/docs/advanced/store-composition" hreflang="en"><link data-rh="true" rel="alternate" href="https://omnistac.github.io/zedux/docs/advanced/store-composition" hreflang="x-default"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap"><link rel="stylesheet" href="/zedux/assets/css/styles.d55b1102.css">
<link rel="preload" href="/zedux/assets/js/runtime~main.80e0083a.js" as="script">
<link rel="preload" href="/zedux/assets/js/main.03fdec76.js" as="script">
<style data-ssc="true">.s_zedux_docs_advanced_store_composition0{background:#474c54;border-radius:12px;box-shadow:10px 10px 7px rgba(0, 0, 0, 0.4);display:grid;grid-template-columns:minmax(180px, 13fr) minmax(140px, 6fr);grid-template-rows:auto auto;line-height:1.45;margin:0 0 2em}
@container (min-width: 400px) {.s_zedux_docs_advanced_store_composition0{margin-left:-1rem;margin-right:-1rem}}
@container (min-width: 760px) {.s_zedux_docs_advanced_store_composition0{margin-left:-3rem;margin-right:-3rem}}
@media (max-width: 996px) {.s_zedux_docs_advanced_store_composition0{margin-left:0;margin-right:0}}
.s_zedux_docs_advanced_store_composition1{align-items:center;background:#ffa359;border-radius:12px 12px 0 0;color:#fff;display:flex;flex-flow:row nowrap;gap:1rem;grid-column:span 2;padding:0.5rem}
.s_zedux_docs_advanced_store_composition1 > img{filter:brightness(0) invert(1);font-size:0;height:1rem}
.s_zedux_docs_advanced_store_composition2{flex:1}
.s_zedux_docs_advanced_store_composition3{display:flex;flex-flow:row nowrap;gap:1rem}
.s_zedux_docs_advanced_store_composition4{border:1px solid #fff;border-radius:3px;display:flex;flex-flow:row nowrap;font-size:0.8em;position:relative}
.s_zedux_docs_advanced_store_composition4 > button{padding:2px 0.8rem}
.s_zedux_docs_advanced_store_composition4 > button:hover{background:#fff4}
.s_zedux_docs_advanced_store_composition5{align-items:center;background:transparent;border:none;color:#fff;cursor:pointer;display:flex;flex-flow:row nowrap;font-size:inherit;gap:0.5rem}
.s_zedux_docs_advanced_store_composition6{background:#fff;border:none;border-radius:3px;color:#ff4545;cursor:pointer;font-size:0.8em;padding:2px 1rem}
.s_zedux_docs_advanced_store_composition6:hover{background:#fffb}
.s_zedux_docs_advanced_store_composition7{display:flex;flex-flow:row nowrap;font-family:'Source Code Pro', monospace;font-size:var(--ifm-code-font-size);letter-spacing:-0.3px;max-height:500px;overflow-y:auto}
.s_zedux_docs_advanced_store_composition8{border-bottom-left-radius:12px;display:flex;flex-flow:column nowrap;height:fit-content;min-height:100%;min-width:1.7rem;padding:0.5rem 5px 1rem;text-align:right}
.s_zedux_docs_advanced_store_composition8 > span{color:#fffb;transform:scale(0.8);white-space:nowrap}
.s_zedux_docs_advanced_store_composition9{background:#2b313a;flex:1;height:fit-content;min-height:100%;overflow-x:auto;padding:0.5rem 0.5rem 1rem;white-space:pre !important}
.s_zedux_docs_advanced_store_composition9 > div{min-width:fit-content;padding-right:0.5rem}
.s_zedux_docs_advanced_store_composition9 .token{color:#d7dfec}
.s_zedux_docs_advanced_store_composition9 .token.comment{color:rgb(105, 112, 152);font-style:italic}
.s_zedux_docs_advanced_store_composition9 .token.string{color:rgb(195, 232, 141)}
.s_zedux_docs_advanced_store_composition9 .token.inserted{color:rgb(195, 232, 141)}
.s_zedux_docs_advanced_store_composition9 .token.number{color:rgb(247, 140, 108)}
.s_zedux_docs_advanced_store_composition9 .token.builtin{color:rgb(130, 170, 255)}
.s_zedux_docs_advanced_store_composition9 .token.char{color:rgb(130, 170, 255)}
.s_zedux_docs_advanced_store_composition9 .token.constant{color:rgb(130, 170, 255)}
.s_zedux_docs_advanced_store_composition9 .token.function{color:rgb(130, 170, 255)}
.s_zedux_docs_advanced_store_composition9 .token.punctuation{color:rgb(199, 146, 234)}
.s_zedux_docs_advanced_store_composition9 .token.selector{color:rgb(199, 146, 234)}
.s_zedux_docs_advanced_store_composition9 .token.variable{color:rgb(191, 199, 213)}
.s_zedux_docs_advanced_store_composition9 .token.class-name{color:rgb(255, 203, 107)}
.s_zedux_docs_advanced_store_composition9 .token.attr-name{color:rgb(255, 203, 107)}
.s_zedux_docs_advanced_store_composition9 .token.tag{color:rgb(255, 85, 114)}
.s_zedux_docs_advanced_store_composition9 .token.deleted{color:rgb(255, 85, 114)}
.s_zedux_docs_advanced_store_composition9 .token.operator{color:rgb(137, 221, 255)}
.s_zedux_docs_advanced_store_composition9 .token.boolean{color:rgb(255, 88, 116)}
.s_zedux_docs_advanced_store_composition9 .token.keyword{font-style:italic}
.s_zedux_docs_advanced_store_composition9 .token.doctype{color:rgb(199, 146, 234);font-style:italic}
.s_zedux_docs_advanced_store_composition9 .token.namespace{color:rgb(178, 204, 214)}
.s_zedux_docs_advanced_store_composition9 .token.url{color:rgb(221, 221, 221)}
.s_zedux_docs_advanced_store_composition9 .token.comment{font-style:italic}
.s_zedux_docs_advanced_store_composition9 .token.keyword{color:#e08a57}
.s_zedux_docs_advanced_store_composition10{background:#fff;border-bottom-right-radius:12px;box-shadow:inset 4px 4px 6px #888;color:#1c1e21;color-scheme:light;max-height:500px;overflow:auto;padding:0.5rem;position:relative}</style></head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zedux/"><div class="navbar__logo"><img src="/zedux/img/logo.png" alt="Zedux Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/zedux/img/logo.png" alt="Zedux Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__item--highlighted navbar__link--active" href="/zedux/docs/walkthrough/quick-start"><span>Docs</span><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="active" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"></path></svg><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="inactive" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg></a><a class="navbar__item navbar__link" href="/zedux/examples">Examples</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link navbar__item--highlighted" href="https://github.com/Omnistac/zedux" rel="noreferrer" style="margin-right:10px" target="_blank"><span>GitHub</span><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" style="font-size:1.4em" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><div class="searchBox_ZlJk"><button aria-label="Search" class="EnhancedSearch EnhancedSearch__middle EnhancedSearch__round"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg><span class="EnhancedSearch__Placeholder">Search</span><div class="EnhancedSearch__IconsContainer"><div class="EnhancedSearch__KeyContainer EnhancedSearch__KeyContainer__middle"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M6 14c-2.206 0-4 1.794-4 4s1.794 4 4 4a4.003 4.003 0 0 0 3.998-3.98H10V16h4v2.039h.004A4.002 4.002 0 0 0 18 22c2.206 0 4-1.794 4-4s-1.794-4-4-4h-2v-4h2c2.206 0 4-1.794 4-4s-1.794-4-4-4-4 1.794-4 4v2h-4V5.98h-.002A4.003 4.003 0 0 0 6 2C3.794 2 2 3.794 2 6s1.794 4 4 4h2v4H6zm2 4c0 1.122-.879 2-2 2s-2-.878-2-2 .879-2 2-2h2v2zm10-2c1.121 0 2 .878 2 2s-.879 2-2 2-2-.878-2-2v-2h2zM16 6c0-1.122.879-2 2-2s2 .878 2 2-.879 2-2 2h-2V6zM6 8c-1.121 0-2-.878-2-2s.879-2 2-2 2 .878 2 2v2H6zm4 2h4v4h-4v-4z"></path></svg></div><div class="EnhancedSearch__KeyContainer EnhancedSearch__KeyContainer__middle">K</div></div></button></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zedux/docs/about/introduction">About</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zedux/docs/walkthrough/quick-start">Walkthrough</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/zedux/docs/advanced/batching">Advanced</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/advanced/batching">Batching</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/advanced/complex-params">Complex Params</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/advanced/more-patterns">More Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/advanced/persistence">Persistence</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/advanced/plugins">Plugins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/advanced/ssr">SSR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zedux/docs/advanced/store-composition">Store Composition</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/advanced/time-travel">Time Travel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/advanced/typescript-tips">TypeScript Tips</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zedux/docs/api/api-overview">API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zedux/docs/packages/immer">Packages</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/zedux/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Advanced</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Store Composition</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Store Composition</h1></header><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>low-level warning</div><div class="admonitionContent_S0QG"><p>This guide is very low-level. Treat it as an FYI that you&#x27;ll probably never need to fully understand.</p><p>If you&#x27;re new here, you probably don&#x27;t want to read this doc yet.</p></div></div><p>Zedux&#x27;s store composition model is unique, powerful, and, as you can probably guess, pretty complex. This guide will try to break down exactly how Zedux achieves the lofty goal of composable stores.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>you will learn:</div><div class="admonitionContent_S0QG"><ul><li>How changes propagate up and down the store tree.</li><li>What ActionChains do.</li><li>How Zedux makes every state update reproducible.</li><li>Some quirks and how schedulers fix them.</li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="from-the-top">From the Top<a href="#from-the-top" class="hash-link" aria-label="Direct link to From the Top" title="Direct link to From the Top">​</a></h2><p>Let&#x27;s take a giant step back and look at a picture:</p><p><img loading="lazy" alt="store composition setup A -&amp;gt; AA, A -&amp;gt; AB, AB -&amp;gt; ABA, AB -&amp;gt; ABB" src="/zedux/assets/images/sc-setup-47ea7311a2caad7ea473e5eda8785368.png" width="1684" height="1412" class="img_ev3q">.</p><p>This guide will break down the store setup in this image, so let&#x27;s make sure it&#x27;s clear:</p><p>This is a tree of composed stores. Store A is the &quot;root&quot; or &quot;parent&quot; store. It has 2 child stores: AA and AB. Store AB has 2 children of its own: ABA and ABB.</p><p>When we say a store is a &quot;child&quot; of another store, we mean that the child store appears <em>somewhere</em> in the <a href="/zedux/docs/api/types/HierarchyDescriptor">hierarchy descriptor</a> of the parent store. For example:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> parent </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">createStore</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> child </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">createStore</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">parent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">use</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">child</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// the child controls the parent&#x27;s entire state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">parent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">use</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  child</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// the child store controls only this state slice</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  otherSlice</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> anotherStoreOrReducer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">parent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">use</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  deeply</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    nested</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      child</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// the child store can be anywhere in the hierarchy</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Thus the simplest way to create the above image&#x27;s store setup would look like this:</p><section class="section26 s_zedux_docs_advanced_store_composition0"><div class="div20 s_zedux_docs_advanced_store_composition1"><img src="/zedux/img/zedux-icon-75x75.png"><span class="span22 s_zedux_docs_advanced_store_composition2">Live Sandbox</span><span class="span21 s_zedux_docs_advanced_store_composition3"><span class="span17 s_zedux_docs_advanced_store_composition4"><button class="button14 s_zedux_docs_advanced_store_composition5"><span>Log</span><svg xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8"><path fill="transparent" stroke="#fff" d="M0 0 L 6 8 L 12 0"></path></svg></button></span><button class="button23 s_zedux_docs_advanced_store_composition6">Reset</button></span></div><div class="div18 s_zedux_docs_advanced_store_composition7"><div class="div19 s_zedux_docs_advanced_store_composition8"><span>1</span><span>2</span><span>3</span><span>4</span><span>5</span><span>6</span><span>7</span><span>8</span><span>9</span><span>10</span><span>11</span><span>12</span><span>13</span><span>14</span><span>15</span></div><div role="textbox" aria-multiline="true" class="Editable25 s_zedux_docs_advanced_store_composition9" data-slate-editor="true" data-slate-editor-id="20" data-slate-node="value" contenteditable="true" zindex="-1"><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> a </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> aa </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> ab </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> aba </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> abb </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">a</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">use</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  aa</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  ab</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> ab</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">use</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    aba</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    abb</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> output </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> a</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">getState</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div></div></div><div class="div24 s_zedux_docs_advanced_store_composition10"><span></span></div></section><p>This is the setup we&#x27;ll assume in this guide, but the principles apply for all child stores no matter where they are in a hierarchy descriptor.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>As you can see in the above sandbox&#x27;s output, child stores with <code>undefined</code> state don&#x27;t show up in the parent store. Try modifying the code to set the state of some of the child stores and you&#x27;ll see them appear in the output.</p></div></div><p>Alright! The first step to cracking this nut is to learn how stores communicate with each other.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="actionchains">ActionChains<a href="#actionchains" class="hash-link" aria-label="Direct link to ActionChains" title="Direct link to ActionChains">​</a></h2><p>Zedux&#x27;s store composition model works by making actions themselves composable objects called <a href="/zedux/docs/api/types/ActionChain">ActionChains</a>. The ActionChain contains needed metadata for Zedux to perform its store composition magic.</p><p>ActionChains consist of any number of &quot;meta nodes&quot; and the wrapped action. The action is always the last node in the chain.</p><p>Meta nodes contain special instructions that Zedux understands. We&#x27;ll look at some of these instructions now:</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="inherit">Inherit<a href="#inherit" class="hash-link" aria-label="Direct link to Inherit" title="Direct link to Inherit">​</a></h2><p>When a parent store receives a dispatched action, it handles it like any store would - passing it to its reducers. Child stores are wrapped in special reducers. These reducers pass the action along to all child stores. But before they do that, they wrap it in a meta node.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>A &quot;dispatched action&quot; could be a real action dispatched by calling <code>store.dispatch()</code> or a <a href="/zedux/docs/api/glossary#pseudo-action">pseudo action</a> &quot;dispatched&quot; by calling <code>store.setState()</code> or <code>store.setStateDeep()</code>.</p></div></div><p>This particular meta node is called <a href="/zedux/docs/api/utils/internalTypes#inherit"><code>inherit</code></a>. It looks like this:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// given this action:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> type</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;addTodo&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// an `inherit` action chain would like:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  metaType</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@@zedux/inherit&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  payload</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> type</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;addTodo&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The child store receives this action chain, unwraps it, and dispatches the unwrapped action to its own reducers (if it has any).</p><p>If the child has children, it will rewrap the unwrapped action in a new <code>inherit</code> meta node. This recurses down through the store tree.</p><p>So back to the picture. That looks like this:</p><p><img loading="lazy" alt="A wraps action and dispatches that to AA and AB; AB unwraps action, rewraps it, and dispatches that to ABA and ABB" src="/zedux/assets/images/sc-inherit-a14ca5afae6c9a6bbbd37686248b43b0.png" width="1684" height="1412" class="img_ev3q">.</p><p>When an action is dispatched to the root store, it is also dispatched to every child store, grandchild store, and so on.</p><p>These are full-on dispatches, as if you&#x27;d called <code>store.dispatch()</code> yourself with each child store. However, the <code>inherit</code> node tells Zedux it doesn&#x27;t need to notify the parent of this action. We&#x27;ll look at parent notification next.</p><p>But first, inheritance in code form:</p><section class="section26 s_zedux_docs_advanced_store_composition0"><div class="div20 s_zedux_docs_advanced_store_composition1"><img src="/zedux/img/zedux-icon-75x75.png"><span class="span22 s_zedux_docs_advanced_store_composition2">Live Sandbox</span><span class="span21 s_zedux_docs_advanced_store_composition3"><span class="span17 s_zedux_docs_advanced_store_composition4"><button class="button14 s_zedux_docs_advanced_store_composition5"><span>Log</span><svg xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8"><path fill="transparent" stroke="#fff" d="M0 0 L 6 8 L 12 0"></path></svg></button></span><button class="button23 s_zedux_docs_advanced_store_composition6">Reset</button></span></div><div class="div18 s_zedux_docs_advanced_store_composition7"><div class="div19 s_zedux_docs_advanced_store_composition8"><span>1</span><span>2</span><span>3</span><span>4</span><span>5</span><span>6</span><span>7</span><span>8</span><span>9</span><span>10</span><span>11</span><span>12</span><span>13</span><span>14</span><span>15</span><span>16</span><span>17</span><span>18</span><span>19</span><span>20</span><span>21</span><span>22</span><span>23</span></div><div role="textbox" aria-multiline="true" class="Editable25 s_zedux_docs_advanced_store_composition9" data-slate-editor="true" data-slate-editor-id="21" data-slate-node="value" contenteditable="true" zindex="-1"><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> a </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> aa </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> ab </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> aba </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> abb </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">a</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">use</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  aa</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  ab</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> ab</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">use</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    aba</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    abb</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">let</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> output</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">aba</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">subscribe</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token function-variable" data-slate-leaf="true"><span data-slate-string="true">effects</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    output </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">a</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">dispatch</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> type</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token string" data-slate-leaf="true"><span data-slate-string="true">&#x27;addTodo&#x27;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div></div></div><div class="div24 s_zedux_docs_advanced_store_composition10"><span></span></div></section><p><code>inherit</code> nodes are never nested more than once. Child stores don&#x27;t care how many layers deep they are in a hierarchy - they only care whether the action is from <em>some</em> parent.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="notify">Notify<a href="#notify" class="hash-link" aria-label="Direct link to Notify" title="Direct link to Notify">​</a></h2><p>Child stores don&#x27;t dispatch actions to their parent, but they will notify their parent of state updates and the action that caused them. Parent stores register special subscriptions with their child stores to receive these notifications.</p><p>The child store wraps the action in a <a href="/zedux/docs/api/utils/internalTypes#delegate"><code>delegate</code></a> meta node before passing that to its parent. If that parent has parents, it will wrap the wrapped action again in another <code>delegate</code> meta node before notifying them. This recurses up through the store tree.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Unlike <code>inherit</code> nodes, <code>delegate</code> nodes can be nested indefinitely.</p></div></div><p><code>delegate</code> nodes look like this:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// given this action:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> type</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;addTodo&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// a `delegate` action chain would like:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  metaType</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@@zedux/delegate&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  metaData</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;aba&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  payload</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> type</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;addTodo&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>metaData</code> property records the key path where the child store is located in the parent store&#x27;s hierarchy. For example, with this setup:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> parent </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">createStore</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> child </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">createStore</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">parent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">use</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  deeply</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    nested</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> child </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>An action dispatched to <code>child</code> would be wrapped in a <code>delegate</code> node like this:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  metaType</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@@zedux/delegate&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  metaData</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;deeply&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;nested&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;child&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  payload</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> type</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;addTodo&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This action chain is the <code>action</code> object that the parent store&#x27;s <a href="/zedux/docs/api/types/Subscriber#effects">effects subscribers</a> would receive.</p><p>Back to the picture, here&#x27;s what happens when dispatching an action to a grandchild store:</p><p><img loading="lazy" alt="Action dispatched to ABA; ABA wraps it in a &amp;quot;delegate to ABA&amp;quot; node notifies AB; AB wraps it again in a &amp;quot;delegate to AB&amp;quot; node and notifies A" src="/zedux/assets/images/sc-notify-956fd57e14a5e68180fdda5f2bf4af4d.png" width="1684" height="1412" class="img_ev3q">.</p><p>Breakdown:</p><ul><li><p>ABA passes the action to its reducers (if any), allowing them to change state. Or, if this &quot;dispatch&quot; is from a <code>.setState()</code> or similar call, it handles the state change accordingly.</p></li><li><p>If this is a <code>.setState()</code> or <code>.setStateDeep()</code> call and no state was changed, nothing else happens. Otherwise:</p></li><li><p>ABA notifies its subscribers of the dispatch and state change (if it changed).</p></li><li><p>Before passing the action to AB, its parent, ABA wraps the action in a <code>delegate</code> node and passes that to AB.</p></li><li><p>AB <strong>does not pass the action to its reducers</strong>, it simply receives the <code>delegate</code>-wrapped action and relays it to its own subscribers.</p></li><li><p>Before passing the <code>delegate</code>-wrapped action to A, its parent, AB wraps the action <em>again</em> in another <code>delegate</code> node.</p></li><li><p>A also <strong>does not pass the action to its reducers</strong>, it simply relays the received double-wrapped action to its own subscribers.</p></li></ul><p>You are perhaps starting to see why this guide is buried in the &quot;Advanced&quot; section 😅</p><p>If you&#x27;re still here, here&#x27;s the code version:</p><section class="section26 s_zedux_docs_advanced_store_composition0"><div class="div20 s_zedux_docs_advanced_store_composition1"><img src="/zedux/img/zedux-icon-75x75.png"><span class="span22 s_zedux_docs_advanced_store_composition2">Live Sandbox</span><span class="span21 s_zedux_docs_advanced_store_composition3"><span class="span17 s_zedux_docs_advanced_store_composition4"><button class="button14 s_zedux_docs_advanced_store_composition5"><span>Log</span><svg xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8"><path fill="transparent" stroke="#fff" d="M0 0 L 6 8 L 12 0"></path></svg></button></span><button class="button23 s_zedux_docs_advanced_store_composition6">Reset</button></span></div><div class="div18 s_zedux_docs_advanced_store_composition7"><div class="div19 s_zedux_docs_advanced_store_composition8"><span>1</span><span>2</span><span>3</span><span>4</span><span>5</span><span>6</span><span>7</span><span>8</span><span>9</span><span>10</span><span>11</span><span>12</span><span>13</span><span>14</span><span>15</span><span>16</span><span>17</span><span>18</span><span>19</span><span>20</span><span>21</span><span>22</span><span>23</span></div><div role="textbox" aria-multiline="true" class="Editable25 s_zedux_docs_advanced_store_composition9" data-slate-editor="true" data-slate-editor-id="22" data-slate-node="value" contenteditable="true" zindex="-1"><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> a </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> aa </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> ab </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> aba </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> abb </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">a</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">use</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  aa</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  ab</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> ab</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">use</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    aba</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    abb</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">let</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> output</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">a</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">subscribe</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token function-variable" data-slate-leaf="true"><span data-slate-string="true">effects</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    output </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">aba</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">dispatch</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> type</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token string" data-slate-leaf="true"><span data-slate-string="true">&#x27;addTodo&#x27;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div></div></div><div class="div24 s_zedux_docs_advanced_store_composition10"><span></span></div></section><h2 class="anchor anchorWithStickyNavbar_LWe7" id="delegate">Delegate<a href="#delegate" class="hash-link" aria-label="Direct link to Delegate" title="Direct link to Delegate">​</a></h2><p>Why is the node called <code>delegate</code> instead of <code>notify</code> or <code>propagate</code> or something bubbly? The purpose of <code>delegate</code> nodes is to tell parent stores <em>exactly</em> how to reproduce this state change <strong>from their perspective</strong>.</p><p>That&#x27;s right, dispatching a <code>delegate</code> action chain to a parent store is <em>exactly</em> the same as dispatching the unwrapped action to the child store. <code>delegate</code> action chains tell Zedux to reroute the action to a different store. The action skips the parent store entirely - it will not be dispatched to the parent store&#x27;s reducers or any of its other children.</p><p>Observe:</p><p><img loading="lazy" alt="&amp;quot;delegate&amp;quot; node dispatched to A, unwrapped and delegated to AB, unwrapped again and delegated to ABA" src="/zedux/assets/images/sc-delegate-e858597525a2476ca8d84056e9922424.png" width="1684" height="1412" class="img_ev3q">.</p><p>After reaching store ABA, the action is dispatched <em>exactly</em> as if you&#x27;d dispatched it to ABA directly. It is not wrapped in an <code>inherit</code> meta node. This means that unlike <code>inherit</code>ed actions, the action will notify the delegating parent store of the dispatch.</p><p>Yep, the <code>inherit</code> flow happens again:</p><p><img loading="lazy" alt="Action dispatched to ABA; ABA wraps it in a &amp;quot;delegate to ABA&amp;quot; node notifies AB; AB wraps it again in a &amp;quot;delegate to AB&amp;quot; node and notifies A" src="/zedux/assets/images/sc-notify-956fd57e14a5e68180fdda5f2bf4af4d.png" width="1684" height="1412" class="img_ev3q">.</p><p>Notice that Stores AA and ABB are <em>completely unaffected</em> throughout the whole delegation process.</p><p>This feature is used to implement replayable actions in dev tools. We&#x27;ll look at using this power to implement time travel in the <a href="/zedux/docs/advanced/time-travel">time travel guide</a>.</p><p>Now, in code form:</p><section class="section26 s_zedux_docs_advanced_store_composition0"><div class="div20 s_zedux_docs_advanced_store_composition1"><img src="/zedux/img/zedux-icon-75x75.png"><span class="span22 s_zedux_docs_advanced_store_composition2">Live Sandbox</span><span class="span21 s_zedux_docs_advanced_store_composition3"><span class="span17 s_zedux_docs_advanced_store_composition4"><button class="button14 s_zedux_docs_advanced_store_composition5"><span>Log</span><svg xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8"><path fill="transparent" stroke="#fff" d="M0 0 L 6 8 L 12 0"></path></svg></button></span><button class="button23 s_zedux_docs_advanced_store_composition6">Reset</button></span></div><div class="div18 s_zedux_docs_advanced_store_composition7"><div class="div19 s_zedux_docs_advanced_store_composition8"><span>1</span><span>2</span><span>3</span><span>4</span><span>5</span><span>6</span><span>7</span><span>8</span><span>9</span><span>10</span><span>11</span><span>12</span><span>13</span><span>14</span><span>15</span><span>16</span><span>17</span><span>18</span><span>19</span><span>20</span><span>21</span><span>22</span><span>23</span><span>24</span><span>25</span><span>26</span><span>27</span><span>28</span><span>29</span><span>30</span><span>31</span><span>32</span><span>33</span><span>34</span><span>35</span><span>36</span><span>37</span></div><div role="textbox" aria-multiline="true" class="Editable25 s_zedux_docs_advanced_store_composition9" data-slate-editor="true" data-slate-editor-id="23" data-slate-node="value" contenteditable="true" zindex="-1"><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> a </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> aa </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> ab </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> aba </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> abb </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">a</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">use</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  aa</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  ab</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> ab</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">use</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    aba</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    abb</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> output </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">a</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">subscribe</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token function-variable" data-slate-leaf="true"><span data-slate-string="true">effects</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    output</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">aReceived </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">aba</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">subscribe</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token function-variable" data-slate-leaf="true"><span data-slate-string="true">effects</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    output</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">abaReceived </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">a</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">dispatch</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  metaType</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token string" data-slate-leaf="true"><span data-slate-string="true">&#x27;@@zedux/delegate&#x27;</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  metaData</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">[</span></span><span class="token string" data-slate-leaf="true"><span data-slate-string="true">&#x27;ab&#x27;</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">]</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  payload</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    metaType</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token string" data-slate-leaf="true"><span data-slate-string="true">&#x27;@@zedux/delegate&#x27;</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    metaData</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">[</span></span><span class="token string" data-slate-leaf="true"><span data-slate-string="true">&#x27;aba&#x27;</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">]</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    payload</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> type</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token string" data-slate-leaf="true"><span data-slate-string="true">&#x27;addTodo&#x27;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div></div></div><div class="div24 s_zedux_docs_advanced_store_composition10"><span></span></div></section><p>Notice that the <code>aba</code> subscriber is called first. Let&#x27;s take a closer look at why.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="subscription-order">Subscription Order<a href="#subscription-order" class="hash-link" aria-label="Direct link to Subscription Order" title="Direct link to Subscription Order">​</a></h2><p>The default subscriber notification order goes something like this:</p><ol><li>action dispatched to parent store.</li><li>action dispatched to first child store.</li><li>repeat step 2 until reaching a &quot;leaf node&quot; (a store with no own children).</li><li>when the action reaches a leaf node, that store finishes its dispatch and immediately notifies its own subscribers.</li><li>repeat steps 2-4 with all remaining child stores.</li><li>when the parent has allowed all its children to dispatch and notify their own subscribers, it does the same.</li><li>repeat step 6 all the way back up the tree.</li></ol><p>In short, subscribers are notified starting at leaf nodes, coming all the way back up a branch before proceeding to the next branch.</p><p>Example:</p><section class="section26 s_zedux_docs_advanced_store_composition0"><div class="div20 s_zedux_docs_advanced_store_composition1"><img src="/zedux/img/zedux-icon-75x75.png"><span class="span22 s_zedux_docs_advanced_store_composition2">Live Sandbox</span><span class="span21 s_zedux_docs_advanced_store_composition3"><span class="span17 s_zedux_docs_advanced_store_composition4"><button class="button14 s_zedux_docs_advanced_store_composition5"><span>Log</span><svg xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8"><path fill="transparent" stroke="#fff" d="M0 0 L 6 8 L 12 0"></path></svg></button></span><button class="button23 s_zedux_docs_advanced_store_composition6">Reset</button></span></div><div class="div18 s_zedux_docs_advanced_store_composition7"><div class="div19 s_zedux_docs_advanced_store_composition8"><span>1</span><span>2</span><span>3</span><span>4</span><span>5</span><span>6</span><span>7</span><span>8</span><span>9</span><span>10</span><span>11</span><span>12</span><span>13</span><span>14</span><span>15</span><span>16</span><span>17</span><span>18</span><span>19</span><span>20</span><span>21</span><span>22</span><span>23</span><span>24</span><span>25</span><span>26</span><span>27</span><span>28</span><span>29</span><span>30</span><span>31</span><span>32</span><span>33</span><span>34</span></div><div role="textbox" aria-multiline="true" class="Editable25 s_zedux_docs_advanced_store_composition9" data-slate-editor="true" data-slate-editor-id="24" data-slate-node="value" contenteditable="true" zindex="-1"><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token comment" data-slate-leaf="true"><span data-slate-string="true">// give leaf nodes a reducer now:</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> a </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> aa </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">state </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token number" data-slate-leaf="true"><span data-slate-string="true">0</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> state </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">+</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token number" data-slate-leaf="true"><span data-slate-string="true">1</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> ab </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> aba </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">state </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token number" data-slate-leaf="true"><span data-slate-string="true">0</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> state </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">+</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token number" data-slate-leaf="true"><span data-slate-string="true">1</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> abb </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">state </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token number" data-slate-leaf="true"><span data-slate-string="true">0</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> state </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">+</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token number" data-slate-leaf="true"><span data-slate-string="true">1</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">a</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">use</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  ab</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> ab</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">use</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    aba</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    abb</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  aa</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token comment" data-slate-leaf="true"><span data-slate-string="true">// switch the order for this example</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> output </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">a</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">subscribe</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function-variable" data-slate-leaf="true"><span data-slate-string="true">effects</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">output</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">aReceived </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">aa</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">subscribe</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function-variable" data-slate-leaf="true"><span data-slate-string="true">effects</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">output</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">aaReceived </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">ab</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">subscribe</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token function-variable" data-slate-leaf="true"><span data-slate-string="true">effects</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    output</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">abReceived </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    </span></span><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">try</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">      a</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">getState</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token comment" data-slate-leaf="true"><span data-slate-string="true">// try to read parent state</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">      output</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">tearingDetected </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token boolean" data-slate-leaf="true"><span data-slate-string="true">false</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">catch</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">err</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">      output</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">tearingDetected </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token boolean" data-slate-leaf="true"><span data-slate-string="true">true</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">aba</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">subscribe</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function-variable" data-slate-leaf="true"><span data-slate-string="true">effects</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">output</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">abaReceived </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">abb</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">subscribe</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function-variable" data-slate-leaf="true"><span data-slate-string="true">effects</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">output</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">abbReceived </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">a</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">dispatch</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> type</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token string" data-slate-leaf="true"><span data-slate-string="true">&#x27;addTodo&#x27;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div></div></div><div class="div24 s_zedux_docs_advanced_store_composition10"><span></span></div></section><p>Notice we switched the order of <code>aa</code> and <code>ab</code> for this example, so you can see the full branch finishing before the next branch starts.</p><p>Now, what&#x27;s with that <code>try ... catch</code>?</p><p>This default order is simple, but can be problematic. If a subscriber in the middle of the tree tries reading a parent store&#x27;s state, it&#x27;ll see that the state is temporarily out of sync between the stores. 😮 Big yikes!</p><p>As shown in the above example, Zedux disallows the read and throws an error instead. So at least you&#x27;ll know about it. But that&#x27;s no solution.</p><p>This is called &quot;tearing&quot;. And fortunately, it isn&#x27;t a problem you&#x27;ll run into when using stores inside atoms. This is because all stores created in atoms use the ecosystem&#x27;s scheduler to fix this. This includes stores created via <a href="/zedux/docs/api/injectors/injectStore"><code>injectStore()</code></a> or manually created via <a href="/zedux/docs/api/factories/createStore"><code>createStore()</code></a> <em>during atom evaluation</em>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="schedulers">Schedulers<a href="#schedulers" class="hash-link" aria-label="Direct link to Schedulers" title="Direct link to Schedulers">​</a></h3><p>The subscription order can be changed. Stores can be configured with a scheduler that can order the notifications however you want. This is so low-level and subject to change that we&#x27;re not documenting that now. But:</p><p>All stores created in atoms use the ecosystem&#x27;s scheduler by default. This scheduler changes the subscription order. It ensures that no subscribers anywhere in the tree are notified until the entire composed store has been updated and is in-sync again.</p><p>After the update has been fully propagated throughout the store tree, subscribers are notified starting from the leaves, proceeding up each branch to the root. Effectively, the order should appear the same as the default order.</p><p>That looks like this:</p><section class="section26 s_zedux_docs_advanced_store_composition0"><div class="div20 s_zedux_docs_advanced_store_composition1"><img src="/zedux/img/zedux-icon-75x75.png"><span class="span22 s_zedux_docs_advanced_store_composition2">Live Sandbox</span><span class="span21 s_zedux_docs_advanced_store_composition3"><span class="span17 s_zedux_docs_advanced_store_composition4"><button class="button14 s_zedux_docs_advanced_store_composition5"><span>Log</span><svg xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8"><path fill="transparent" stroke="#fff" d="M0 0 L 6 8 L 12 0"></path></svg></button></span><button class="button23 s_zedux_docs_advanced_store_composition6">Reset</button></span></div><div class="div18 s_zedux_docs_advanced_store_composition7"><div class="div19 s_zedux_docs_advanced_store_composition8"><span>1</span><span>2</span><span>3</span><span>4</span><span>5</span><span>6</span><span>7</span><span>8</span><span>9</span><span>10</span><span>11</span><span>12</span><span>13</span><span>14</span><span>15</span><span>16</span><span>17</span><span>18</span><span>19</span><span>20</span><span>21</span><span>22</span><span>23</span><span>24</span><span>25</span><span>26</span><span>27</span><span>28</span><span>29</span><span>30</span><span>31</span><span>32</span><span>33</span><span>34</span><span>35</span></div><div role="textbox" aria-multiline="true" class="Editable25 s_zedux_docs_advanced_store_composition9" data-slate-editor="true" data-slate-editor-id="25" data-slate-node="value" contenteditable="true" zindex="-1"><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token comment" data-slate-leaf="true"><span data-slate-string="true">// this is the low-level stuff; don&#x27;t worry about it:</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> ecosystem </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createEcosystem</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> id</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token string" data-slate-leaf="true"><span data-slate-string="true">&#x27;change-subscription-order&#x27;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">Store</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">_scheduler </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> ecosystem</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">_scheduler</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> a </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> aa </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">state </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token number" data-slate-leaf="true"><span data-slate-string="true">0</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> state </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">+</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token number" data-slate-leaf="true"><span data-slate-string="true">1</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> ab </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> aba </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">state </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token number" data-slate-leaf="true"><span data-slate-string="true">0</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> state </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">+</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token number" data-slate-leaf="true"><span data-slate-string="true">1</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> abb </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">createStore</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">state </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token number" data-slate-leaf="true"><span data-slate-string="true">0</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> state </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">+</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token number" data-slate-leaf="true"><span data-slate-string="true">1</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">a</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">use</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  ab</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> ab</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">use</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    aba</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    abb</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  aa</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token comment" data-slate-leaf="true"><span data-slate-string="true">// switch the order for this example</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> output </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">a</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">subscribe</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function-variable" data-slate-leaf="true"><span data-slate-string="true">effects</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">output</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">aReceived </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">aa</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">subscribe</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function-variable" data-slate-leaf="true"><span data-slate-string="true">effects</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">output</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">aaReceived </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">ab</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">subscribe</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token function-variable" data-slate-leaf="true"><span data-slate-string="true">effects</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> newState </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    output</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">abReceived </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    output</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">noMoreTearing </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> a</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">getState</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token comment" data-slate-leaf="true"><span data-slate-string="true">// all good now :)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">aba</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">subscribe</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function-variable" data-slate-leaf="true"><span data-slate-string="true">effects</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">output</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">abaReceived </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">abb</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">subscribe</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function-variable" data-slate-leaf="true"><span data-slate-string="true">effects</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">output</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">abbReceived </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> action</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">a</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">dispatch</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> type</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token string" data-slate-leaf="true"><span data-slate-string="true">&#x27;addTodo&#x27;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token comment" data-slate-leaf="true"><span data-slate-string="true">// clean up our mess:</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">Store</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">_scheduler </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">undefined</span></span></span></div></div></div><div class="div24 s_zedux_docs_advanced_store_composition10"><span></span></div></section><p>Now all subscribers are completely safe from tearing. They&#x27;re also safe from another edge case we haven&#x27;t mentioned yet:</p><p>If a subscriber in the middle of the tree dispatches another action to its store, the parent store&#x27;s subscribers will be notified of events <em>out of order</em>. This can be handled and isn&#x27;t a straight-up error, but can obviously be very problematic. Schedulers fix this too.</p><p>In summary: Just use stores inside atoms and you&#x27;ll be fine.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="in-the-middle">In The Middle<a href="#in-the-middle" class="hash-link" aria-label="Direct link to In The Middle" title="Direct link to In The Middle">​</a></h2><p>This last example shows what happens when an action is dispatched in the middle of the tree. You should be able to use your newfound store composition expertise to figure this out yourself. But just in case you&#x27;re dying to see it, here you go:</p><p><img loading="lazy" alt="Action dispatched to ABA; ABA wraps it in a &amp;quot;delegate to ABA&amp;quot; node notifies AB; AB wraps it again in a &amp;quot;delegate to AB&amp;quot; node and notifies A" src="/zedux/assets/images/sc-notify-and-inherit-55ade349dd8cf23d61b3c5b03209dd3e.png" width="1684" height="1412" class="img_ev3q">.</p><p>Notifications bubble up while inherited actions bubble down. A thing of beauty, really.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="caveats">Caveats<a href="#caveats" class="hash-link" aria-label="Direct link to Caveats" title="Direct link to Caveats">​</a></h2><p>Surely with great power comes great shortcomings. Zedux stores have some imperfections, but overall they&#x27;re exactly the powerhouse of a state management primitive that we needed at Omnistac. The downsides:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dead-stores">Dead Stores<a href="#dead-stores" class="hash-link" aria-label="Direct link to Dead Stores" title="Direct link to Dead Stores">​</a></h3><p>You need to be conscious of &quot;dead stores&quot; (frankenstores anyone?). Stores can&#x27;t actually be dead, but atom instances can. When you compose stores together from multiple atom instances, you have to be wary of force-destruction ripping the atom instance and its store out from under you. A simple <code>store.use({ child: newChildStoreReference })</code> fixes that right up.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance">Performance<a href="#performance" class="hash-link" aria-label="Direct link to Performance" title="Direct link to Performance">​</a></h3><p>Performance-wise, Zedux stores are plenty fast. Some metrics beat out most other tools handily - for example, zero-config store creation time. However, most dispatches and subscriber notifications are slower than other tools. This is because Zedux has to run a little logic to work its store composition magic.</p><p>The (huge) trade-off is that Zedux stores are more modular. Especially when combined with the atomic model, your stores will be tiny compared to a Redux store, for example. This scales extremely well. Indefinitely, in fact.</p><p>The bottom line is that Zedux <em>should</em> be more and more performant, relatively, the bigger your app gets. And it&#x27;s only when your app gets bigger that you start to care about performance.</p><p>In other words, Zedux should be a great fit performance-wise for every app. #ZeduxScales</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="recap">Recap<a href="#recap" class="hash-link" aria-label="Direct link to Recap" title="Direct link to Recap">​</a></h2><ul><li><code>inherit</code> action chains bubble down through the store tree.</li><li><code>delegate</code> action chains bubble up through the store tree.</li><li>Actions are only dispatched to reducers in the target store and its children, <strong>not</strong> its parents.</li><li>Dispatching a <code>delegate</code> action chain to a parent store is <em>exactly</em> the same as dispatching the wrapped action to the child store.</li><li>Use stores inside atoms to prevent subscription order surprises.</li><li>Happy coding!</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Omnistac/zedux/tree/master/docs/advanced/store-composition.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/zedux/docs/advanced/ssr"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">SSR</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zedux/docs/advanced/time-travel"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Time Travel</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#from-the-top" class="table-of-contents__link toc-highlight">From the Top</a></li><li><a href="#actionchains" class="table-of-contents__link toc-highlight">ActionChains</a></li><li><a href="#inherit" class="table-of-contents__link toc-highlight">Inherit</a></li><li><a href="#notify" class="table-of-contents__link toc-highlight">Notify</a></li><li><a href="#delegate" class="table-of-contents__link toc-highlight">Delegate</a></li><li><a href="#subscription-order" class="table-of-contents__link toc-highlight">Subscription Order</a><ul><li><a href="#schedulers" class="table-of-contents__link toc-highlight">Schedulers</a></li></ul></li><li><a href="#in-the-middle" class="table-of-contents__link toc-highlight">In The Middle</a></li><li><a href="#caveats" class="table-of-contents__link toc-highlight">Caveats</a><ul><li><a href="#dead-stores" class="table-of-contents__link toc-highlight">Dead Stores</a></li><li><a href="#performance" class="table-of-contents__link toc-highlight">Performance</a></li></ul></li><li><a href="#recap" class="table-of-contents__link toc-highlight">Recap</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zedux/docs/walkthrough/quick-start">Walkthrough</a></li><li class="footer__item"><a class="footer__link-item" href="/zedux/docs/api/api-overview">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Omnistac/zedux" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/josh_claunch" target="_blank" rel="noopener noreferrer" class="footer__link-item">Lead Maintainer&#x27;s Twitter (DMs open!)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2017-2023 Omnistac. Built with Docusaurus.</div></div></div></footer></div>
<script src="/zedux/assets/js/runtime~main.80e0083a.js"></script>
<script src="/zedux/assets/js/main.03fdec76.js"></script>
</body>
</html>