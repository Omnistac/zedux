<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-walkthrough/using-atoms">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Using Atoms | Zedux</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://omnistac.github.io/zedux/docs/walkthrough/using-atoms"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Using Atoms | Zedux"><meta data-rh="true" name="description" content="Atoms can be consumed and composed in many ways."><meta data-rh="true" property="og:description" content="Atoms can be consumed and composed in many ways."><link data-rh="true" rel="icon" href="/zedux/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://omnistac.github.io/zedux/docs/walkthrough/using-atoms"><link data-rh="true" rel="alternate" href="https://omnistac.github.io/zedux/docs/walkthrough/using-atoms" hreflang="en"><link data-rh="true" rel="alternate" href="https://omnistac.github.io/zedux/docs/walkthrough/using-atoms" hreflang="x-default"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap">
<script src="https://unpkg.com/typescript@latest/lib/typescriptServices.js"></script><link rel="stylesheet" href="/zedux/assets/css/styles.325ec9f0.css">
<link rel="preload" href="/zedux/assets/js/runtime~main.a61e96d6.js" as="script">
<link rel="preload" href="/zedux/assets/js/main.42fd8463.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div class="ssc-hide" style="display:contents"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zedux/"><div class="navbar__logo"><img src="/zedux/img/logo.png" alt="Zedux Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/zedux/img/logo.png" alt="Zedux Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zedux/docs/walkthrough/quick-start">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Omnistac/zedux" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Using Atoms</h1></header><p>Atoms can be consumed and composed in many ways.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>you will learn</div><div class="admonitionContent_S0QG"><ul><li>What an atom instance looks like</li><li>The basics of Zedux&#x27; graph model and how to control it</li><li>The difference between static and dynamic graph edges</li><li>How to use hooks and injectors to create different types of graph edges.</li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dynamic-hooks--injectors">Dynamic Hooks &amp; Injectors<a class="hash-link" href="#dynamic-hooks--injectors" title="Direct link to heading">​</a></h2><p>Some hooks create a <a href="/zedux/docs/api/glossary#dynamic-graph-dependency">dynamic graph dependency</a> on the atom. This means that when the atom instance&#x27;s store&#x27;s state changes, components that use these hooks will rerender.</p><p>All these hooks have equivalent injectors for use in atoms. When the injected atom instance&#x27;s state changes, atoms that use these injectors will reevaluate.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="useatomvalue"><code>useAtomValue</code><a class="hash-link" href="#useatomvalue" title="Direct link to heading">​</a></h3><p>The simplest way to consume an atom&#x27;s state. Returns an atom instance&#x27;s value. Creates a dynamic graph dependency on the resolved atom instance. This means that the component will rerender when the resolved atom instance&#x27;s state changes.</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_using_atoms0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">function</span><span class="token"> </span><span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token punctuation">{</span><span class="token">
  </span><span class="token comment">// whenever these atom instances update, this component will rerender</span><span class="token">
  </span><span class="token keyword">const</span><span class="token"> currentState </span><span class="token operator">=</span><span class="token"> </span><span class="token function">useAtomValue</span><span class="token punctuation">(</span><span class="token">myAtom</span><span class="token punctuation">)</span><span class="token">
  </span><span class="token keyword">const</span><span class="token"> paramless </span><span class="token operator">=</span><span class="token"> </span><span class="token function">useAtomValue</span><span class="token punctuation">(</span><span class="token">withParams</span><span class="token punctuation">,</span><span class="token"> </span><span class="token punctuation">[</span><span class="token string">&#x27;param 1&#x27;</span><span class="token punctuation">,</span><span class="token"> </span><span class="token string">&#x27;param 2&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token">
  </span><span class="token operator">...</span><span class="token">
</span><span class="token punctuation">}</span><span class="token">
</span></code></pre></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="injectatomvalue"><code>injectAtomValue</code><a class="hash-link" href="#injectatomvalue" title="Direct link to heading">​</a></h4><p>The injector equivalent of <code>useAtomValue</code>. Returns an atom instance&#x27;s value. Creates a dynamic graph dependency on the resolved atom instance. This means that the current atom instance will reevaluate when the resolved atom instance&#x27;s state changes.</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_using_atoms0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">const</span><span class="token"> dependentAtom </span><span class="token operator">=</span><span class="token"> </span><span class="token function">atom</span><span class="token punctuation">(</span><span class="token string">&#x27;dependent&#x27;</span><span class="token punctuation">,</span><span class="token"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token operator">=&gt;</span><span class="token"> </span><span class="token punctuation">{</span><span class="token">
  </span><span class="token comment">// whenever myAtom&#x27;s state changes, this dependentAtom will reevaluate</span><span class="token">
  </span><span class="token keyword">const</span><span class="token"> currentState </span><span class="token operator">=</span><span class="token"> </span><span class="token function">injectAtomValue</span><span class="token punctuation">(</span><span class="token">myAtom</span><span class="token punctuation">)</span><span class="token">
  </span><span class="token operator">...</span><span class="token">
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token">
</span></code></pre></div></div><p>This injector is your main tool for Dependency Injection.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="useatomstate"><code>useAtomState</code><a class="hash-link" href="#useatomstate" title="Direct link to heading">​</a></h3><p><code>useAtomState()</code> is similar to React&#x27;s <code>useState()</code> hook.</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_using_atoms0 language-tsx codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">import</span><span class="token"> </span><span class="token punctuation">{</span><span class="token"> useAtomState </span><span class="token punctuation">}</span><span class="token"> </span><span class="token keyword">from</span><span class="token"> </span><span class="token string">&#x27;@zedux/react&#x27;</span><span class="token">

</span><span class="token keyword">function</span><span class="token"> </span><span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token punctuation">{</span><span class="token">
  </span><span class="token comment">// whenever these atom instances update, this component will rerender</span><span class="token">
  </span><span class="token keyword">const</span><span class="token"> </span><span class="token punctuation">[</span><span class="token">state</span><span class="token punctuation">,</span><span class="token"> setState</span><span class="token punctuation">]</span><span class="token"> </span><span class="token operator">=</span><span class="token"> </span><span class="token function">useAtomState</span><span class="token punctuation">(</span><span class="token">myAtom</span><span class="token punctuation">)</span><span class="token">
  </span><span class="token keyword">const</span><span class="token"> </span><span class="token punctuation">[</span><span class="token">withParams</span><span class="token punctuation">,</span><span class="token"> setWithParams</span><span class="token punctuation">]</span><span class="token"> </span><span class="token operator">=</span><span class="token"> </span><span class="token function">useAtomState</span><span class="token punctuation">(</span><span class="token">anotherAtom</span><span class="token punctuation">,</span><span class="token"> </span><span class="token punctuation">[</span><span class="token string">&#x27;a param&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token">
  </span><span class="token operator">...</span><span class="token">
</span><span class="token punctuation">}</span><span class="token">
</span></code></pre></div></div><p><code>setState</code> is a reference to the <code>setState</code> function on the atom instance, which wraps the <code>setState</code> function of the instance&#x27;s store. It functions like a React state setter.</p><p>To get a reference to <code>setState</code> without creating a dynamic dependency, use <a href="#useatominstance"><code>useAtomInstance()</code></a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="injectatomstate"><code>injectAtomState</code><a class="hash-link" href="#injectatomstate" title="Direct link to heading">​</a></h4><p>The injector equivalent of <code>useAtomState</code> - for use in atoms.</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_using_atoms0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">const</span><span class="token"> userAtom </span><span class="token operator">=</span><span class="token"> </span><span class="token function">atom</span><span class="token punctuation">(</span><span class="token string">&#x27;user&#x27;</span><span class="token punctuation">,</span><span class="token"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token operator">=&gt;</span><span class="token"> </span><span class="token punctuation">{</span><span class="token">
  </span><span class="token keyword">const</span><span class="token"> </span><span class="token punctuation">[</span><span class="token">auth</span><span class="token punctuation">,</span><span class="token"> setAuth</span><span class="token punctuation">]</span><span class="token"> </span><span class="token operator">=</span><span class="token"> </span><span class="token function">injectAtomState</span><span class="token punctuation">(</span><span class="token">authAtom</span><span class="token punctuation">)</span><span class="token">
  </span><span class="token operator">...</span><span class="token">
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token">
</span></code></pre></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="useatomselector"><code>useAtomSelector</code><a class="hash-link" href="#useatomselector" title="Direct link to heading">​</a></h3><p>Runs an AtomSelector. Ensures that the component only reevaluates when the selector&#x27;s result changes. Similar to Redux&#x27; <a href="https://react-redux.js.org/api/hooks#useselector" target="_blank" rel="noopener noreferrer"><code>useSelector()</code></a>.</p><section class="section21 s_zedux_docs_walkthrough_using_atoms1"><div class="div15 s_zedux_docs_walkthrough_using_atoms2"><img src="/zedux/img/zedux-icon-75x75.png"><span class="span17 s_zedux_docs_walkthrough_using_atoms3">Live Sandbox</span><span class="span16 s_zedux_docs_walkthrough_using_atoms4"><span class="span12 s_zedux_docs_walkthrough_using_atoms5"><button class="button9 s_zedux_docs_walkthrough_using_atoms6"><span>Log</span><svg xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8"><path fill="transparent" stroke="#fff" d="M0 0 L 6 8 L 12 0"></path></svg></button></span><button class="button18 s_zedux_docs_walkthrough_using_atoms7">Reset</button></span></div><div class="div13 s_zedux_docs_walkthrough_using_atoms8"><div class="div14 s_zedux_docs_walkthrough_using_atoms9"><span>1</span><span>2</span><span>3</span><span>4</span><span>5</span><span>6</span><span>7</span><span>8</span><span>9</span><span>10</span><span>11</span><span>12</span><span>13</span><span>14</span><span>15</span><span>16</span><span>17</span><span>18</span><span>19</span><span>20</span><span>21</span><span>22</span><span>23</span><span>24</span><span>25</span></div><div role="textbox" aria-multiline="true" class="Editable20 s_zedux_docs_walkthrough_using_atoms10" data-slate-editor="true" data-slate-editor-id="100" data-slate-node="value" contenteditable="true" zindex="-1"><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> countersAtom </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">atom</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token string" data-slate-leaf="true"><span data-slate-string="true">&#x27;counters&#x27;</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  a</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token number" data-slate-leaf="true"><span data-slate-string="true">0</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  b</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token number" data-slate-leaf="true"><span data-slate-string="true">0</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">function</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">SelectorSerenity</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token comment" data-slate-leaf="true"><span data-slate-string="true">// whenever countersAtom&#x27;s state changes, this selector will run.</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token comment" data-slate-leaf="true"><span data-slate-string="true">// If the selector returns a new value, this component will rerender.</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> counterA </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">useAtomSelector</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> get </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">get</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">countersAtom</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">a</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> instance </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">useAtomInstance</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">countersAtom</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> setState </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> instance</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">return</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&lt;</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&gt;</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">      </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&lt;</span></span><span class="token tag" data-slate-leaf="true"><span data-slate-string="true">div</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">Counter </span></span><span class="token constant" data-slate-leaf="true"><span data-slate-string="true">A</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">counterA</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&lt;/</span></span><span class="token tag" data-slate-leaf="true"><span data-slate-string="true">div</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&gt;</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">      </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&lt;</span></span><span class="token tag" data-slate-leaf="true"><span data-slate-string="true">button</span></span><span class="token tag" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token attr-name" data-slate-leaf="true"><span data-slate-string="true">onClick</span></span><span class="token script-punctuation" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">setState</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true">val </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">...</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true">val</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true"> a</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true"> val</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true">a </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">+</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token number" data-slate-leaf="true"><span data-slate-string="true">1</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&gt;</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">        Increment Counter </span></span><span class="token constant" data-slate-leaf="true"><span data-slate-string="true">A</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">triggers rerender</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">      </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&lt;/</span></span><span class="token tag" data-slate-leaf="true"><span data-slate-string="true">button</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&gt;</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">      </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&lt;</span></span><span class="token tag" data-slate-leaf="true"><span data-slate-string="true">div</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">Counter </span></span><span class="token constant" data-slate-leaf="true"><span data-slate-string="true">B</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">instance</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">getState</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">b</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&lt;/</span></span><span class="token tag" data-slate-leaf="true"><span data-slate-string="true">div</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&gt;</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">      </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&lt;</span></span><span class="token tag" data-slate-leaf="true"><span data-slate-string="true">button</span></span><span class="token tag" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token attr-name" data-slate-leaf="true"><span data-slate-string="true">onClick</span></span><span class="token script-punctuation" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">setState</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true">val </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">...</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true">val</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true"> b</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true"> val</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true">b </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">+</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token number" data-slate-leaf="true"><span data-slate-string="true">1</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&gt;</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">        Increment Counter </span></span><span class="token constant" data-slate-leaf="true"><span data-slate-string="true">B</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">no rerender</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">      </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&lt;/</span></span><span class="token tag" data-slate-leaf="true"><span data-slate-string="true">button</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&gt;</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&lt;/</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&gt;</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span></span></div></div></div><div class="div19 s_zedux_docs_walkthrough_using_atoms11"><span></span></div></section><p>If the AtomSelector takes params, pass those after the selector itself:</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_using_atoms0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">const</span><span class="token"> </span><span class="token function-variable">getUsersByRole</span><span class="token"> </span><span class="token operator">=</span><span class="token"> </span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token"> get </span><span class="token punctuation">}</span><span class="token operator">:</span><span class="token"> AtomGetters</span><span class="token punctuation">,</span><span class="token"> role</span><span class="token operator">:</span><span class="token"> </span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token"> </span><span class="token operator">=&gt;</span><span class="token">
  </span><span class="token function">get</span><span class="token punctuation">(</span><span class="token">usersAtom</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token">user </span><span class="token operator">=&gt;</span><span class="token"> user</span><span class="token punctuation">.</span><span class="token">role </span><span class="token operator">===</span><span class="token"> role</span><span class="token punctuation">)</span><span class="token">

</span><span class="token keyword">function</span><span class="token"> </span><span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token punctuation">{</span><span class="token">
  </span><span class="token keyword">const</span><span class="token"> adminUsers </span><span class="token operator">=</span><span class="token"> </span><span class="token function">useAtomSelector</span><span class="token punctuation">(</span><span class="token">
    getUsersByRole</span><span class="token punctuation">,</span><span class="token">
    </span><span class="token comment">// highlight-next-line</span><span class="token">
    </span><span class="token string">&#x27;admin&#x27;</span><span class="token punctuation">,</span><span class="token">
  </span><span class="token punctuation">)</span><span class="token">

  </span><span class="token keyword">const</span><span class="token"> guestUsers </span><span class="token operator">=</span><span class="token"> </span><span class="token function">useAtomSelector</span><span class="token punctuation">(</span><span class="token">
    getUsersByRole</span><span class="token punctuation">,</span><span class="token">
    </span><span class="token comment">// highlight-next-line</span><span class="token">
    </span><span class="token string">&#x27;guest&#x27;</span><span class="token punctuation">,</span><span class="token">
  </span><span class="token punctuation">)</span><span class="token">
  </span><span class="token operator">...</span><span class="token">
</span><span class="token punctuation">}</span><span class="token">
</span></code></pre></div></div><p>Selectors are so cool they get <a href="/zedux/docs/walkthrough/selectors">their own walkthrough</a>.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Note that while you can use a selector memoizing library like <a href="https://github.com/reduxjs/reselect" target="_blank" rel="noopener noreferrer">reselect</a>, it isn&#x27;t necessary in Zedux. If more sophisticated selector behavior is required, use <a href="/zedux/docs/api/classes/Ion">ions</a> (or any atom).</p><p>Ion&#x27;s are composable, memoized by default, and the cache size and ttl are configurable too - all because they&#x27;re atoms. The memoization details can even be handled more granularly using <a href="/zedux/docs/api/injectors/injectMemo"><code>injectMemo()</code></a>.</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="injectatomselector"><code>injectAtomSelector</code><a class="hash-link" href="#injectatomselector" title="Direct link to heading">​</a></h4><p>The injector equivalent of <code>useAtomSelector</code> - for use in atoms:</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_using_atoms0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">const</span><span class="token"> userAtom </span><span class="token operator">=</span><span class="token"> </span><span class="token function">atom</span><span class="token punctuation">(</span><span class="token string">&#x27;user&#x27;</span><span class="token punctuation">,</span><span class="token"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token operator">=&gt;</span><span class="token"> </span><span class="token punctuation">{</span><span class="token">
  </span><span class="token keyword">const</span><span class="token"> token </span><span class="token operator">=</span><span class="token"> </span><span class="token function">injectAtomSelector</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token"> get </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token"> </span><span class="token operator">=&gt;</span><span class="token"> </span><span class="token function">get</span><span class="token punctuation">(</span><span class="token">authAtom</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token">token</span><span class="token punctuation">)</span><span class="token">
  </span><span class="token operator">...</span><span class="token">
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token">
</span></code></pre></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="static-hooks--injectors">Static Hooks &amp; Injectors<a class="hash-link" href="#static-hooks--injectors" title="Direct link to heading">​</a></h2><p>The following hooks/injectors do not cause rerenders/reevaluations when the resolved atom instance&#x27;s state changes. They do, however, register static graph dependencies on the resolved atom instance. This means that Zedux will prevent the instance from being cleaned up as long as the dependent depends on it.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="useatomconsumer"><code>useAtomConsumer</code><a class="hash-link" href="#useatomconsumer" title="Direct link to heading">​</a></h3><p>Used in conjuction with <code>useAtomInstance</code> to consume atom instances provided over React context.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>This hook does not have an injector equivalent! There is no such thing as <code>injectAtomConsumer</code>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="useatominstance"><code>useAtomInstance</code><a class="hash-link" href="#useatominstance" title="Direct link to heading">​</a></h3><p>Returns a reference to an instance of the atom. Atom instances have many features.</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_using_atoms0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">import</span><span class="token"> </span><span class="token punctuation">{</span><span class="token"> useAtomInstance</span><span class="token punctuation">,</span><span class="token"> useAtomValue </span><span class="token punctuation">}</span><span class="token"> </span><span class="token keyword">from</span><span class="token"> </span><span class="token string">&#x27;@zedux/react&#x27;</span><span class="token">

</span><span class="token keyword">function</span><span class="token"> </span><span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token punctuation">{</span><span class="token">
  </span><span class="token keyword">const</span><span class="token"> instance </span><span class="token operator">=</span><span class="token"> </span><span class="token function">useAtomInstance</span><span class="token punctuation">(</span><span class="token">myAtom</span><span class="token punctuation">)</span><span class="token">
  </span><span class="token keyword">const</span><span class="token"> value </span><span class="token operator">=</span><span class="token"> </span><span class="token function">useAtomValue</span><span class="token punctuation">(</span><span class="token">instance</span><span class="token punctuation">)</span><span class="token"> </span><span class="token comment">// useAtomValue accepts an instance</span><span class="token">
</span><span class="token punctuation">}</span><span class="token">
</span></code></pre></div></div><p>In this example, when we use <code>useAtomInstance()</code>, it creates a static dependency. This means MyComponent will not rerender when the instance&#x27;s state changes. However, we then use another hook - <code>useAtomValue()</code> - to make the dependency dynamic.</p><p><code>useAtomInstance()</code> can also be used in conjunction with <code>useAtomConsumer()</code> to provide an instance over React context, so deeply nested children don&#x27;t need to know the params of a specific atom instance they want to reuse:</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_using_atoms0 language-tsx codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">import</span><span class="token"> </span><span class="token punctuation">{</span><span class="token">
  AtomInstanceProvider</span><span class="token punctuation">,</span><span class="token">
  useAtomConsumer</span><span class="token punctuation">,</span><span class="token">
  useAtomInstance
</span><span class="token punctuation">}</span><span class="token"> </span><span class="token keyword">from</span><span class="token"> </span><span class="token string">&#x27;@zedux/react&#x27;</span><span class="token">

</span><span class="token keyword">function</span><span class="token"> </span><span class="token function">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token punctuation">{</span><span class="token">
  </span><span class="token keyword">const</span><span class="token"> instance </span><span class="token operator">=</span><span class="token"> </span><span class="token function">useAtomInstance</span><span class="token punctuation">(</span><span class="token">myAtom</span><span class="token punctuation">,</span><span class="token"> </span><span class="token punctuation">[</span><span class="token string">&#x27;some&#x27;</span><span class="token punctuation">,</span><span class="token"> </span><span class="token string">&#x27;params&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token">

  </span><span class="token keyword">return</span><span class="token"> </span><span class="token punctuation">(</span><span class="token">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">AtomInstanceProvider</span></span><span class="token"> </span><span class="token attr-name"><span class="token">instance</span></span><span class="token script"><span class="token script-punctuation">=</span><span class="token punctuation">{</span><span class="token">instance</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Child</span></span><span class="token"> </span><span class="token punctuation">/&gt;</span></span><span class="token">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">AtomInstanceProvider</span></span><span class="token punctuation">&gt;</span></span><span class="token">
  </span><span class="token punctuation">)</span><span class="token">
</span><span class="token punctuation">}</span><span class="token">

</span><span class="token keyword">function</span><span class="token"> </span><span class="token function">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token punctuation">{</span><span class="token">
  </span><span class="token keyword">const</span><span class="token"> instance </span><span class="token operator">=</span><span class="token"> </span><span class="token function">useAtomConsumer</span><span class="token punctuation">(</span><span class="token">myAtom</span><span class="token punctuation">)</span><span class="token"> </span><span class="token comment">// no need to pass params here</span><span class="token">
  </span><span class="token keyword">const</span><span class="token"> value </span><span class="token operator">=</span><span class="token"> </span><span class="token function">useAtomValue</span><span class="token punctuation">(</span><span class="token">instance</span><span class="token punctuation">)</span><span class="token"> </span><span class="token comment">// subscribe to the instance</span><span class="token">
  </span><span class="token operator">...</span><span class="token">
</span><span class="token punctuation">}</span><span class="token">
</span></code></pre></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>While <code>useAtomConsumer()</code> creates a static dependency, <code>useAtomValue()</code> makes it dynamic.</p></div></div><p>Instances also expose lots of extra, low-level functionality. We&#x27;ll cover more of that in the <a href="/zedux/not-done">instances walkthrough</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="injectatominstance"><code>injectAtomInstance</code><a class="hash-link" href="#injectatominstance" title="Direct link to heading">​</a></h4><p>The injector equivalent of <code>useAtomInstance</code> - for use in atoms.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="useecosystem"><code>useEcosystem</code><a class="hash-link" href="#useecosystem" title="Direct link to heading">​</a></h3><p>Returns an <a href="/zedux/docs/api/classes/Ecosystem">ecosystem object</a> that can be used to dynamically create/retrieve atom instances. We&#x27;ll cover ecosystems in-depth <a href="/zedux/docs/walkthrough/ecosystems">later</a> but for now: Ecosystems have a <code>getInstance</code> method. You can use this to preload atoms, e.g. for kicking off Render-as-You-Fetch React suspense flows.</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_using_atoms0 language-tsx codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">import</span><span class="token"> </span><span class="token punctuation">{</span><span class="token"> useEcosystem </span><span class="token punctuation">}</span><span class="token"> </span><span class="token keyword">from</span><span class="token"> </span><span class="token string">&#x27;@zedux/react&#x27;</span><span class="token">

</span><span class="token keyword">function</span><span class="token"> </span><span class="token function">BlogPostThumbnail</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token"> id </span><span class="token punctuation">}</span><span class="token operator">:</span><span class="token"> </span><span class="token punctuation">{</span><span class="token"> id</span><span class="token operator">:</span><span class="token"> </span><span class="token builtin">string</span><span class="token"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token"> </span><span class="token punctuation">{</span><span class="token">
  </span><span class="token keyword">const</span><span class="token"> ecosystem </span><span class="token operator">=</span><span class="token"> </span><span class="token function">useEcosystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token">

  </span><span class="token keyword">return</span><span class="token"> </span><span class="token punctuation">(</span><span class="token">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token">button</span></span><span class="token">
      </span><span class="token attr-name"><span class="token">onClick</span></span><span class="token script"><span class="token script-punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token operator">=&gt;</span><span class="token"> </span><span class="token punctuation">{</span><span class="token">
        </span><span class="token comment">// lazy load the blogPostAtom (Render-as-You-Fetch)</span><span class="token">
        ecosystem</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token">blogPostAtom</span><span class="token punctuation">,</span><span class="token"> </span><span class="token punctuation">[</span><span class="token">id</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token">
      </span><span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token">
    </span><span class="token punctuation">&gt;</span></span><span class="token">
      View Post
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token">button</span></span><span class="token punctuation">&gt;</span></span><span class="token">
  </span><span class="token punctuation">)</span><span class="token">
</span><span class="token punctuation">}</span><span class="token">
</span></code></pre></div></div><p>Calling the loader function instantiates the atom, if no instance has been created for the given params yet, and returns the instance.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="injectatomgetters"><code>injectAtomGetters</code><a class="hash-link" href="#injectatomgetters" title="Direct link to heading">​</a></h4><p>The injector equivalent of <code>useEcosystem</code> - for use in atoms. Returns an <a href="/zedux/docs/api/types/AtomGetters">AtomGetters</a> object which has an <code>ecosystem</code> property. Besides <code>ecosystem</code>, the other AtomGetters (<code>get</code>, <code>getInstance</code>, and <code>select</code>) can also be used to dynamically register graph dependencies when called during synchronous atom or <a href="/zedux/docs/api/types/AtomSelector">AtomSelector</a> evaluation.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="instances">Instances<a class="hash-link" href="#instances" title="Direct link to heading">​</a></h2><p>You&#x27;ll often interact with <a href="/zedux/docs/api/classes/AtomInstance">atom instances</a> directly. Atom instances have many useful properties.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="store"><code>.store</code><a class="hash-link" href="#store" title="Direct link to heading">​</a></h3><p>A reference to the underlying store of this atom instance. Don&#x27;t use this directly if you can avoid it. That said, there are many cases where it can be useful. We&#x27;ll cover some of these in the <a href="/zedux/docs/walkthrough/side-effects">side effects walkthrough</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setstate"><code>.setState()</code><a class="hash-link" href="#setstate" title="Direct link to heading">​</a></h3><p>The most common way to set an atom instance&#x27;s state. The tuple returned by <code>useAtomState</code> contains a reference to this function. <code>.setState()</code> accepts either the new state or a function that receives the current state and returns the new state.</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_using_atoms0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">const</span><span class="token"> instance </span><span class="token operator">=</span><span class="token"> </span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token">myAtom</span><span class="token punctuation">)</span><span class="token">
instance</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token">newState</span><span class="token punctuation">)</span><span class="token">
instance</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token">currentState </span><span class="token operator">=&gt;</span><span class="token"> newState</span><span class="token punctuation">)</span><span class="token">
</span></code></pre></div></div><p>This <code>.setState()</code> function is <strong>not</strong> a reference to the instance&#x27;s store&#x27;s <code>.setState()</code> function. <code>instance.setState()</code> is a wrapper around <code>instance.store.setState()</code>. This is important because <code>instance.setState()</code> allows interceptors to run before calling <code>.store.setState()</code>.</p><div class="theme-admonition theme-admonition-important alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Always prefer calling <code>instance.setState()</code> over <code>instance.store.setState()</code></p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dispatch"><code>.dispatch()</code><a class="hash-link" href="#dispatch" title="Direct link to heading">​</a></h3><p>The recommended way to dispatch actions to the instance&#x27;s store.</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_using_atoms0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">const</span><span class="token"> instance </span><span class="token operator">=</span><span class="token"> </span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token">myAtom</span><span class="token punctuation">)</span><span class="token">
instance</span><span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token"> type</span><span class="token operator">:</span><span class="token"> </span><span class="token string">&#x27;some-type&#x27;</span><span class="token"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token">
</span></code></pre></div></div><p>Similar to <code>instance.setState()</code>, <code>instance.dispatch()</code> is a wrapper around <code>instance.store.dispatch()</code>. The difference is that <code>instance.dispatch()</code> allows dispatch interceptors to run before calling <code>.store.dispatch()</code>.</p><div class="theme-admonition theme-admonition-important alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Always prefer calling <code>instance.dispatch()</code> over <code>instance.store.dispatch()</code></p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="exports"><code>.exports</code><a class="hash-link" href="#exports" title="Direct link to heading">​</a></h3><p>A reference to the exports of the atom.</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_using_atoms0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">const</span><span class="token"> instance </span><span class="token operator">=</span><span class="token"> </span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token">myAtom</span><span class="token punctuation">)</span><span class="token">
</span><span class="token keyword">const</span><span class="token"> </span><span class="token punctuation">{</span><span class="token"> someExport </span><span class="token punctuation">}</span><span class="token"> </span><span class="token operator">=</span><span class="token"> instance</span><span class="token punctuation">.</span><span class="token">exports
</span></code></pre></div></div><p>These exports are constant - they are set the first time an atom instance evaluates and they will not change on subsequent evaluations.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="invalidate"><code>.invalidate()</code><a class="hash-link" href="#invalidate" title="Direct link to heading">​</a></h3><p>Call this to force the atom instance to reevaluate. Outside of testing, there shouldn&#x27;t be a need for this. Unless you know what you&#x27;re doing, avoid impure or mutation-oriented patterns that require you to manually invalidate atom instances.</p><section class="section21 s_zedux_docs_walkthrough_using_atoms1"><div class="div15 s_zedux_docs_walkthrough_using_atoms2"><img src="/zedux/img/zedux-icon-75x75.png"><span class="span17 s_zedux_docs_walkthrough_using_atoms3">Live Sandbox</span><span class="span16 s_zedux_docs_walkthrough_using_atoms4"><span class="span12 s_zedux_docs_walkthrough_using_atoms5"><button class="button9 s_zedux_docs_walkthrough_using_atoms6"><span>Log</span><svg xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8"><path fill="transparent" stroke="#fff" d="M0 0 L 6 8 L 12 0"></path></svg></button></span><button class="button18 s_zedux_docs_walkthrough_using_atoms7">Reset</button></span></div><div class="div13 s_zedux_docs_walkthrough_using_atoms8"><div class="div14 s_zedux_docs_walkthrough_using_atoms9"><span>1</span><span>2</span><span>3</span><span>4</span><span>5</span><span>6</span><span>7</span><span>8</span><span>9</span><span>10</span><span>11</span><span>12</span><span>13</span></div><div role="textbox" aria-multiline="true" class="Editable20 s_zedux_docs_walkthrough_using_atoms10" data-slate-editor="true" data-slate-editor-id="101" data-slate-node="value" contenteditable="true" zindex="-1"><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> randomNumAtom </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">atom</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token string" data-slate-leaf="true"><span data-slate-string="true">&#x27;randomNum&#x27;</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">,</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> Math</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">floor</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">Math</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">random</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">*</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token number" data-slate-leaf="true"><span data-slate-string="true">100</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">function</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">RandomNum</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> instance </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">useAtomInstance</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">randomNumAtom</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">const</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> value </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">useAtomValue</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">randomNumAtom</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-zero-width="n" data-slate-length="0">﻿<br></span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token keyword" data-slate-leaf="true"><span data-slate-string="true">return</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&lt;</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&gt;</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">      </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&lt;</span></span><span class="token tag" data-slate-leaf="true"><span data-slate-string="true">div</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">Random Number</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">:</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">value</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&lt;/</span></span><span class="token tag" data-slate-leaf="true"><span data-slate-string="true">div</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&gt;</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">      </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&lt;</span></span><span class="token tag" data-slate-leaf="true"><span data-slate-string="true">button</span></span><span class="token tag" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token attr-name" data-slate-leaf="true"><span data-slate-string="true">onClick</span></span><span class="token script-punctuation" data-slate-leaf="true"><span data-slate-string="true">=</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">{</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true"> </span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">=&gt;</span></span><span class="token script" data-slate-leaf="true"><span data-slate-string="true"> instance</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">.</span></span><span class="token function" data-slate-leaf="true"><span data-slate-string="true">invalidate</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">(</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&gt;</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">Re</span></span><span class="token operator" data-slate-leaf="true"><span data-slate-string="true">-</span></span><span class="token" data-slate-leaf="true"><span data-slate-string="true">roll</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&lt;/</span></span><span class="token tag" data-slate-leaf="true"><span data-slate-string="true">button</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&gt;</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">    </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&lt;/</span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">&gt;</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token" data-slate-leaf="true"><span data-slate-string="true">  </span></span><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">)</span></span></span></div><div data-slate-node="element" style="position:relative"><span data-slate-node="text"><span class="token punctuation" data-slate-leaf="true"><span data-slate-string="true">}</span></span></span></div></div></div><div class="div19 s_zedux_docs_walkthrough_using_atoms11"><span></span></div></section><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hooks-and-injectors">Hooks and Injectors<a class="hash-link" href="#hooks-and-injectors" title="Direct link to heading">​</a></h3><p>Most hooks and injectors that return an atom instance create a static graph dependency on that instance. To turn that into a dynamic dependency (one that&#x27;ll cause rerenders/reevaluations when the instance&#x27;s state updates), we need to pass the instance to another hook/injector.</p><p>It just so happens that instances can be passed directly to <code>useAtomSelector</code>, <code>useAtomState</code>, <code>useAtomValue</code>, and their corresponding injectors. Yep, we&#x27;ve already seen all of those 💪.</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_using_atoms0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">function</span><span class="token"> </span><span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token punctuation">{</span><span class="token">
  </span><span class="token keyword">const</span><span class="token"> instance </span><span class="token operator">=</span><span class="token"> </span><span class="token function">useAtomInstance</span><span class="token punctuation">(</span><span class="token">myAtom</span><span class="token punctuation">)</span><span class="token"> </span><span class="token comment">// static dep 😢</span><span class="token">
  </span><span class="token keyword">const</span><span class="token"> val </span><span class="token operator">=</span><span class="token"> </span><span class="token function">useAtomValue</span><span class="token punctuation">(</span><span class="token">instance</span><span class="token punctuation">)</span><span class="token"> </span><span class="token comment">// dynamic dep 🎉</span><span class="token">
  </span><span class="token operator">...</span><span class="token">
</span><span class="token punctuation">}</span><span class="token">
</span></code></pre></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="recap">Recap<a class="hash-link" href="#recap" title="Direct link to heading">​</a></h2><ul><li><p>Every atom instance has an underlying Zedux store.</p></li><li><p><code>useAtomSelector</code>, <code>useAtomState</code>, <code>useAtomValue</code>, and their corresponding injectors all create dynamic graph dependencies that trigger updates when the resolved atom instance&#x27;s state changes.</p></li><li><p><code>useAtomInstance</code> and <code>useAtomConsumer</code> can be used together to provide and consume atom instances over React context.</p></li><li><p><code>useEcosystem</code> returns an ecosystem object whose <code>getInstance</code> method can preload or lazy-load atoms.</p></li><li><p>Atom instances have <code>.store</code>, <code>.setState</code>, <code>.dispatch</code>, <code>.exports</code>, and <code>.invalidate</code> properties that can be used directly.</p></li><li><p><code>useAtomSelector</code>, <code>useAtomState</code>, <code>useAtomValue</code>, and their corresponding injectors all accept atom instances too.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next Steps<a class="hash-link" href="#next-steps" title="Direct link to heading">​</a></h2><p>Now we know how to create and consume atoms. Next we&#x27;ll learn how to create and configure isolated atom environments using <a href="/zedux/docs/walkthrough/ecosystems">ecosystems</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Omnistac/zedux/tree/master/docs/walkthrough/using-atoms.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#dynamic-hooks--injectors" class="table-of-contents__link toc-highlight">Dynamic Hooks &amp; Injectors</a><ul><li><a href="#useatomvalue" class="table-of-contents__link toc-highlight"><code>useAtomValue</code></a></li><li><a href="#useatomstate" class="table-of-contents__link toc-highlight"><code>useAtomState</code></a></li><li><a href="#useatomselector" class="table-of-contents__link toc-highlight"><code>useAtomSelector</code></a></li></ul></li><li><a href="#static-hooks--injectors" class="table-of-contents__link toc-highlight">Static Hooks &amp; Injectors</a><ul><li><a href="#useatomconsumer" class="table-of-contents__link toc-highlight"><code>useAtomConsumer</code></a></li><li><a href="#useatominstance" class="table-of-contents__link toc-highlight"><code>useAtomInstance</code></a></li><li><a href="#useecosystem" class="table-of-contents__link toc-highlight"><code>useEcosystem</code></a></li></ul></li><li><a href="#instances" class="table-of-contents__link toc-highlight">Instances</a><ul><li><a href="#store" class="table-of-contents__link toc-highlight"><code>.store</code></a></li><li><a href="#setstate" class="table-of-contents__link toc-highlight"><code>.setState()</code></a></li><li><a href="#dispatch" class="table-of-contents__link toc-highlight"><code>.dispatch()</code></a></li><li><a href="#exports" class="table-of-contents__link toc-highlight"><code>.exports</code></a></li><li><a href="#invalidate" class="table-of-contents__link toc-highlight"><code>.invalidate()</code></a></li><li><a href="#hooks-and-injectors" class="table-of-contents__link toc-highlight">Hooks and Injectors</a></li></ul></li><li><a href="#recap" class="table-of-contents__link toc-highlight">Recap</a></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next Steps</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zedux/docs/walkthrough/quick-start">React</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Omnistac/zedux" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/josh_claunch" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2017-2023 Joshua Claunch. Built with Docusaurus.</div></div></div></footer></div></div>
<script src="/zedux/assets/js/runtime~main.a61e96d6.js"></script>
<script src="/zedux/assets/js/main.42fd8463.js"></script>
</body>
</html>