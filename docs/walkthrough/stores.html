<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-walkthrough/stores">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Stores | Zedux</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://omnistac.github.io/zedux/docs/walkthrough/stores"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Stores | Zedux"><meta data-rh="true" name="description" content="The store is the heart of Zedux. Zedux uses a unique and unprecedented composable store model. These stores are light-weight, powerful, and fast."><meta data-rh="true" property="og:description" content="The store is the heart of Zedux. Zedux uses a unique and unprecedented composable store model. These stores are light-weight, powerful, and fast."><link data-rh="true" rel="icon" href="/zedux/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://omnistac.github.io/zedux/docs/walkthrough/stores"><link data-rh="true" rel="alternate" href="https://omnistac.github.io/zedux/docs/walkthrough/stores" hreflang="en"><link data-rh="true" rel="alternate" href="https://omnistac.github.io/zedux/docs/walkthrough/stores" hreflang="x-default"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap">
<script src="https://unpkg.com/typescript@latest/lib/typescriptServices.js"></script><link rel="stylesheet" href="/zedux/assets/css/styles.86e2e91c.css">
<link rel="preload" href="/zedux/assets/js/runtime~main.4a4c29d4.js" as="script">
<link rel="preload" href="/zedux/assets/js/main.42fd8463.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div class="ssc-hide" style="display:contents"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zedux/"><div class="navbar__logo"><img src="/zedux/img/logo.png" alt="Zedux Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/zedux/img/logo.png" alt="Zedux Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zedux/docs/walkthrough/quick-start">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Omnistac/zedux" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zedux/docs/about/introduction">About</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/zedux/docs/walkthrough/quick-start">Walkthrough</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/walkthrough/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/walkthrough/atom-state">Atom State</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/walkthrough/atom-instances">Atom Instances</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/walkthrough/atom-apis">Atom APIs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/walkthrough/ecosystems">Ecosystems</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/walkthrough/the-graph">The Graph</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/walkthrough/overrides">Overrides</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/walkthrough/configuring-atoms">Configuring Atoms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/walkthrough/atom-getters">Atom Getters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/walkthrough/selectors">Selectors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/walkthrough/destruction">Destruction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/walkthrough/react-context">React Context</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/walkthrough/suspense">Suspense</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/walkthrough/query-atoms">Query Atoms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zedux/docs/walkthrough/stores">Stores</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/walkthrough/side-effects">Side Effects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/walkthrough/custom-injectors">Custom Injectors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/walkthrough/resets">Resets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zedux/docs/walkthrough/state-machines">State Machines</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zedux/docs/advanced/complex-params">Advanced</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zedux/docs/api/classes/Atom">API</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/zedux/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Walkthrough</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Stores</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Stores</h1></header><p>The store is the heart of Zedux. Zedux uses a unique and unprecedented composable store model. These stores are light-weight, powerful, and fast.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>you will learn:</div><div class="admonitionContent_S0QG"><ul><li>How to configure stores with a reducer hierarchy</li><li>How to &quot;split&quot; reducers</li><li>The different types of store subscribers</li><li>More about store composition and its applications</li><li>How to set state without triggering state update loops</li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="zero-config">Zero Config<a class="hash-link" href="#zero-config" title="Direct link to heading">​</a></h2><p>The Zedux store is opinionated but configurable. Config is optional. This means you don&#x27;t have to set up a reducer hierarchy with action creators for every store. In fact, you may never use configured stores; zero config stores are by far the most common in Zedux due to their simplicity.</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">import</span><span class="token"> </span><span class="token punctuation">{</span><span class="token"> createStore </span><span class="token punctuation">}</span><span class="token"> </span><span class="token keyword">from</span><span class="token"> </span><span class="token string">&#x27;@zedux/react&#x27;</span><span class="token">

</span><span class="token keyword">const</span><span class="token"> easySauceStore </span><span class="token operator">=</span><span class="token"> </span><span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>That&#x27;s it! Updating state is usually done with <code>.setState()</code>, which works like React&#x27;s state setters:</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token">easySauceStore</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token"> </span><span class="token comment">// set state straight-up</span><span class="token">
easySauceStore</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token">currentState </span><span class="token operator">=&gt;</span><span class="token"> </span><span class="token operator">!</span><span class="token">currentState</span><span class="token punctuation">)</span><span class="token"> </span><span class="token comment">// function overload</span><span class="token">

easySauceStore</span><span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token comment">// false</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>With zero config stores, you can also use <code>.setStateDeep()</code> to recursively merge new state into existing state:</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">const</span><span class="token"> nestedStore </span><span class="token operator">=</span><span class="token"> </span><span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token">
nestedStore</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token"> a</span><span class="token operator">:</span><span class="token"> </span><span class="token punctuation">{</span><span class="token"> b</span><span class="token operator">:</span><span class="token"> </span><span class="token string">&#x27;c&#x27;</span><span class="token"> </span><span class="token punctuation">}</span><span class="token"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token">

</span><span class="token comment">// no need for object spreading!</span><span class="token">
</span><span class="token comment">// highlight-next-line</span><span class="token">
nestedStore</span><span class="token punctuation">.</span><span class="token function">setStateDeep</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token"> a</span><span class="token operator">:</span><span class="token"> </span><span class="token punctuation">{</span><span class="token"> d</span><span class="token operator">:</span><span class="token"> </span><span class="token string">&#x27;e&#x27;</span><span class="token"> </span><span class="token punctuation">}</span><span class="token"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token">
nestedStore</span><span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token comment">// { a: { b: &#x27;c&#x27;, d: &#x27;e&#x27; } }</span><span class="token">

</span><span class="token comment">// function overload:</span><span class="token">
</span><span class="token comment">// highlight-next-line</span><span class="token">
nestedStore</span><span class="token punctuation">.</span><span class="token function">setStateDeep</span><span class="token punctuation">(</span><span class="token">state </span><span class="token operator">=&gt;</span><span class="token"> </span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token"> a</span><span class="token operator">:</span><span class="token"> </span><span class="token punctuation">{</span><span class="token"> b</span><span class="token operator">:</span><span class="token"> state</span><span class="token punctuation">.</span><span class="token">a</span><span class="token punctuation">.</span><span class="token">b </span><span class="token operator">+</span><span class="token"> </span><span class="token string">&#x27;f&#x27;</span><span class="token"> </span><span class="token punctuation">}</span><span class="token"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token">
nestedStore</span><span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token comment">// { a: { b: &#x27;cf&#x27;, d: &#x27;e&#x27; } }</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p><code>.setStateDeep()</code> can only be used to update state. It can never be used to delete keys! Use <code>.setState()</code> instead when deletion is needed.</p><p>This is the number one cause of bugs in Zedux apps. Don&#x27;t forget!</p></div></div><p>It may seem that you lose out on unidirectional data flow and predictable, reproducible state updates with the zero config approach. You actually don&#x27;t lose anything! We&#x27;ll learn all about it in <a href="/zedux/docs/advanced/time-travel">the time travel walkthrough</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hydration">Hydration<a class="hash-link" href="#hydration" title="Direct link to heading">​</a></h2><p><code>createStore()</code> takes an optional second argument - <code>initialState</code>:</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">const</span><span class="token"> store </span><span class="token operator">=</span><span class="token"> </span><span class="token function">createStore</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token"> </span><span class="token string">&#x27;initial state&#x27;</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For zero config stores, pass <code>null</code> as the first argument (we&#x27;ll look at this first argument next). You can also hydrate a store&#x27;s state with <code>.setState()</code>:</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token">store</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token string">&#x27;initial state&#x27;</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reducer-hierarchy">Reducer Hierarchy<a class="hash-link" href="#reducer-hierarchy" title="Direct link to heading">​</a></h2><p>Zedux stores can be configured with Redux-style reducer hierarchies. Simply pass your root reducer as the first argument to <code>createStore()</code>.</p><p>Of course, Zedux also provides high-level methods for action and reducer creation:</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">import</span><span class="token"> </span><span class="token punctuation">{</span><span class="token"> actionFactory</span><span class="token punctuation">,</span><span class="token"> createReducer</span><span class="token punctuation">,</span><span class="token"> createStore </span><span class="token punctuation">}</span><span class="token"> </span><span class="token keyword">from</span><span class="token"> </span><span class="token string">&#x27;@zedux/react&#x27;</span><span class="token">

</span><span class="token keyword">const</span><span class="token"> addTodo </span><span class="token operator">=</span><span class="token"> </span><span class="token generic-function"><span class="token function">actionFactory</span><span class="token generic"><span class="token operator">&lt;</span><span class="token">Todo</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&#x27;addTodo&#x27;</span><span class="token punctuation">)</span><span class="token">
</span><span class="token keyword">const</span><span class="token"> removeTodo </span><span class="token operator">=</span><span class="token"> </span><span class="token generic-function"><span class="token function">actionFactory</span><span class="token generic"><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&#x27;removeTodo&#x27;</span><span class="token punctuation">)</span><span class="token">

</span><span class="token keyword">const</span><span class="token"> reducer </span><span class="token operator">=</span><span class="token"> </span><span class="token function">createReducer</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token">
  </span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token">addTodo</span><span class="token punctuation">,</span><span class="token"> </span><span class="token punctuation">(</span><span class="token">state</span><span class="token punctuation">,</span><span class="token"> todo</span><span class="token punctuation">)</span><span class="token"> </span><span class="token operator">=&gt;</span><span class="token"> </span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token">state</span><span class="token punctuation">,</span><span class="token"> todo</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token">
  </span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token">removeTodo</span><span class="token punctuation">,</span><span class="token"> </span><span class="token punctuation">(</span><span class="token">state</span><span class="token punctuation">,</span><span class="token"> id</span><span class="token punctuation">)</span><span class="token"> </span><span class="token operator">=&gt;</span><span class="token"> state</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token">todo </span><span class="token operator">=&gt;</span><span class="token"> todo</span><span class="token punctuation">.</span><span class="token">id </span><span class="token operator">!==</span><span class="token"> id</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token">

</span><span class="token keyword">const</span><span class="token"> store </span><span class="token operator">=</span><span class="token"> </span><span class="token function">createStore</span><span class="token punctuation">(</span><span class="token">reducer</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>These high-level APIs are optional. You can of course use old-school switch statements and string constants if you wish, or any other means of creating reducers and actions.</p></div></div><p>Updating the state of reducer-driven stores is usually done with <code>.dispatch()</code>. Just like Redux. Zedux actions must have a string <code>type</code> property and can have optional <code>payload</code> and <code>meta</code> properties.</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token comment">// ... continuing the above example:</span><span class="token">
store</span><span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">addTodo</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token"> id</span><span class="token operator">:</span><span class="token"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token"> isDone</span><span class="token operator">:</span><span class="token"> </span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token"> text</span><span class="token operator">:</span><span class="token"> </span><span class="token string">&#x27;Be More Awesome&#x27;</span><span class="token"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token">

store</span><span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token">
</span><span class="token comment">// [{ id: 1, isDone: false, text: &#x27;Be More Awesome&#x27; }]</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reducer-splitting">Reducer Splitting<a class="hash-link" href="#reducer-splitting" title="Direct link to heading">​</a></h2><p>The first argument to <code>createStore()</code> doesn&#x27;t have to be a reducer. It can be a reducer, another store, or an object of reducers, stores, or objects of reducers, stores ... yeah, it&#x27;s recursive. It&#x27;s called a hierarchy descriptor.</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">type</span><span class="token"> </span><span class="token class-name"><span class="token">Branch</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token"> </span><span class="token operator">=</span><span class="token"> </span><span class="token builtin">any</span><span class="token operator">&gt;</span></span><span class="token"> </span><span class="token operator">=</span><span class="token"> </span><span class="token punctuation">{</span><span class="token">
  </span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token"> </span><span class="token keyword">in</span><span class="token"> </span><span class="token keyword">keyof</span><span class="token"> </span><span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token"> HierarchyDescriptor</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token">
</span><span class="token punctuation">}</span><span class="token">

</span><span class="token keyword">type</span><span class="token"> </span><span class="token class-name"><span class="token">HierarchyDescriptor</span><span class="token operator">&lt;</span><span class="token">State </span><span class="token operator">=</span><span class="token"> </span><span class="token builtin">any</span><span class="token operator">&gt;</span></span><span class="token"> </span><span class="token operator">=</span><span class="token">
  </span><span class="token operator">|</span><span class="token"> Branch</span><span class="token operator">&lt;</span><span class="token">State</span><span class="token operator">&gt;</span><span class="token">
  </span><span class="token operator">|</span><span class="token"> Store</span><span class="token operator">&lt;</span><span class="token">State</span><span class="token operator">&gt;</span><span class="token">
  </span><span class="token operator">|</span><span class="token"> Reducer</span><span class="token operator">&lt;</span><span class="token">State</span><span class="token operator">&gt;</span><span class="token">
  </span><span class="token operator">|</span><span class="token"> </span><span class="token keyword">null</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Passing an object (&quot;branch&quot;) containing multiple reducers will automatically create a &quot;branch&quot; reducer. This is similar to Redux&#x27; <a href="https://redux.js.org/api/combinereducers" target="_blank" rel="noopener noreferrer"><code>combineReducers()</code></a>.</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">const</span><span class="token"> complexStore </span><span class="token operator">=</span><span class="token"> </span><span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token">
  entities</span><span class="token operator">:</span><span class="token"> </span><span class="token punctuation">{</span><span class="token">
    posts</span><span class="token operator">:</span><span class="token"> postsReducer</span><span class="token punctuation">,</span><span class="token">
    users</span><span class="token operator">:</span><span class="token"> usersReducer</span><span class="token punctuation">,</span><span class="token">
  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token">
  forms</span><span class="token operator">:</span><span class="token"> formsStore</span><span class="token punctuation">,</span><span class="token">
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token">

complexStore</span><span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token">
</span><span class="token comment">/*
{
  entities: {
    posts: &lt;postsReducer initial state&gt;,
    users: &lt;usersReducer initial state&gt;
  },
  forms: &lt;formsStore initial state&gt;
}
*/</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="store-composition">Store Composition<a class="hash-link" href="#store-composition" title="Direct link to heading">​</a></h2><p>Zedux stores are composable. This means that a store can control part or all of the state of another store. This is an extremely unique and powerful feature that sets Zedux apart from other state management tools.</p><p>What does store composition look like? Well quite simply:</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">import</span><span class="token"> </span><span class="token punctuation">{</span><span class="token"> createStore </span><span class="token punctuation">}</span><span class="token"> </span><span class="token keyword">from</span><span class="token"> </span><span class="token string">&#x27;@zedux/react&#x27;</span><span class="token">

</span><span class="token keyword">const</span><span class="token"> childStore </span><span class="token operator">=</span><span class="token"> </span><span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token">
</span><span class="token keyword">const</span><span class="token"> parentStore </span><span class="token operator">=</span><span class="token"> </span><span class="token function">createStore</span><span class="token punctuation">(</span><span class="token">childStore</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Easy, right? The <code>parentStore</code>&#x27;s state is now controlled by <code>childStore</code>.</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token">childStore</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token string">&#x27;initial value&#x27;</span><span class="token punctuation">)</span><span class="token">
parentStore</span><span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token comment">// &#x27;initial value&#x27;</span><span class="token">

parentStore</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token string">&#x27;a new value&#x27;</span><span class="token punctuation">)</span><span class="token">
childStore</span><span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token comment">// &#x27;a new value&#x27;</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When we set the child store&#x27;s state, that change propagated to the parent store.</p><p>When we set the parent store&#x27;s state, the parent store recognized that the relevant state was controlled by a child store and <a href="/zedux/not-done">delegated</a> that action to the child store. The child store then updated its state and propagated that change back up to the parent store.</p><p>Now what can you do with that?</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">import</span><span class="token"> </span><span class="token punctuation">{</span><span class="token"> createStore </span><span class="token punctuation">}</span><span class="token"> </span><span class="token keyword">from</span><span class="token"> </span><span class="token string">&#x27;@zedux/react&#x27;</span><span class="token">

</span><span class="token keyword">const</span><span class="token"> rootStore </span><span class="token operator">=</span><span class="token"> </span><span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token">
</span><span class="token keyword">const</span><span class="token"> todosStore </span><span class="token operator">=</span><span class="token"> </span><span class="token function">createStore</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token">
</span><span class="token keyword">const</span><span class="token"> toNotDosStore </span><span class="token operator">=</span><span class="token"> </span><span class="token function">createStore</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token">

</span><span class="token comment">// The composition magic! Since we already created the store, we can use</span><span class="token">
</span><span class="token comment">// `.use()` to update its hierarchy</span><span class="token">
rootStore</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token">
  todos</span><span class="token operator">:</span><span class="token"> todosStore</span><span class="token punctuation">,</span><span class="token">
  toNotDos</span><span class="token operator">:</span><span class="token"> toNotDosStore</span><span class="token punctuation">,</span><span class="token">
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token">

toNotDos</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token">state </span><span class="token operator">=&gt;</span><span class="token"> </span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token">state</span><span class="token punctuation">,</span><span class="token"> </span><span class="token string">&#x27;be layzee&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token">
toNotDos</span><span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token comment">// [&#x27;be layzee&#x27;]</span><span class="token">
rootStore</span><span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token">
</span><span class="token comment">// {</span><span class="token">
</span><span class="token comment">//   todos: [],</span><span class="token">
</span><span class="token comment">//   toNotDos: [&#x27;be layzee&#x27;]</span><span class="token">
</span><span class="token comment">// }</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As you can imagine, this composable store model is extremely powerful. But before you start imagining Higher-Order Stores and code splitting heaven, remember that stores are actually a pretty low-level detail in Zedux. Prefer using atoms to organize your state and leave stores as implementation details of your atoms.</p><p>The main purpose of store composition is for cases when you find yourself working with multiple stores in an atom. This can happen, for example, when using custom injectors that configure their own stores:</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">const</span><span class="token"> storeA </span><span class="token operator">=</span><span class="token"> </span><span class="token function">injectMyConfiguredStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token">
</span><span class="token keyword">const</span><span class="token"> storeB </span><span class="token operator">=</span><span class="token"> </span><span class="token function">injectAnotherFancyStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Remember that you can only return a single store from a state factory. Composition allows you to combine all the stores into a single &quot;parent&quot; store:</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token comment">// we use the function overload of injectStore to create our own store:</span><span class="token">
</span><span class="token keyword">const</span><span class="token"> combinedStore </span><span class="token operator">=</span><span class="token"> </span><span class="token function">injectStore</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token operator">=&gt;</span><span class="token"> </span><span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token"> a</span><span class="token operator">:</span><span class="token"> storeA</span><span class="token punctuation">,</span><span class="token"> b</span><span class="token operator">:</span><span class="token"> storeB </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Composition is powerful. There&#x27;s a lot of potential for many more advanced patterns with store composition. In general though, you shouldn&#x27;t need much more than what we did in these examples. You can check out the <a href="/zedux/not-done">store composition guide</a> to learn more.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="subscribing">Subscribing<a class="hash-link" href="#subscribing" title="Direct link to heading">​</a></h2><p>You can register several types of subscribers using <code>.subscribe()</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="normal-subscribers">Normal Subscribers<a class="hash-link" href="#normal-subscribers" title="Direct link to heading">​</a></h3><p>These subscribers will be called on every state change.</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">const</span><span class="token"> subscription </span><span class="token operator">=</span><span class="token"> myStore</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token">newState</span><span class="token punctuation">,</span><span class="token"> oldState</span><span class="token punctuation">)</span><span class="token"> </span><span class="token operator">=&gt;</span><span class="token"> </span><span class="token punctuation">{</span><span class="token">
  </span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;store went from&#x27;</span><span class="token punctuation">,</span><span class="token"> oldState</span><span class="token punctuation">,</span><span class="token"> </span><span class="token string">&#x27;to&#x27;</span><span class="token punctuation">,</span><span class="token"> newState</span><span class="token punctuation">)</span><span class="token">
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Normal subscribers receive the new state, the old state, and the action responsible for the update as arguments.</p><p>The returned subscription object has a single property - <code>unsubscribe()</code>. Be sure to call this in <code>useEffect()</code> and <code>injectEffect()</code> cleanup:</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token operator">=&gt;</span><span class="token"> </span><span class="token punctuation">{</span><span class="token">
  </span><span class="token keyword">const</span><span class="token"> subscription </span><span class="token operator">=</span><span class="token"> myStore</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token">mySubscriber</span><span class="token punctuation">)</span><span class="token">
  </span><span class="token keyword">return</span><span class="token"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token operator">=&gt;</span><span class="token"> subscription</span><span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token">
</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token"> </span><span class="token punctuation">[</span><span class="token">myStore</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="error-subscribers">Error Subscribers<a class="hash-link" href="#error-subscribers" title="Direct link to heading">​</a></h3><p>These subscribers will be called if a dispatched action ever raises an error.</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token">myStore</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token">
  </span><span class="token function-variable">error</span><span class="token operator">:</span><span class="token"> err </span><span class="token operator">=&gt;</span><span class="token"> </span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;caught error!&#x27;</span><span class="token punctuation">,</span><span class="token"> err</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token">
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token">

myStore</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token operator">=&gt;</span><span class="token"> </span><span class="token punctuation">{</span><span class="token">
  </span><span class="token keyword">throw</span><span class="token"> </span><span class="token string">&#x27;muahahahaha&#x27;</span><span class="token">
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="effects-subscribers">Effects Subscribers<a class="hash-link" href="#effects-subscribers" title="Direct link to heading">​</a></h3><p>These effects subscribers are meant to kick off side effects, including running observables, generators, or other async flows.</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token">myStore</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token">
  </span><span class="token function-variable">effects</span><span class="token operator">:</span><span class="token"> </span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token"> action</span><span class="token punctuation">,</span><span class="token"> effect</span><span class="token punctuation">,</span><span class="token"> error</span><span class="token punctuation">,</span><span class="token"> newState</span><span class="token punctuation">,</span><span class="token"> oldState</span><span class="token punctuation">,</span><span class="token"> store </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token"> </span><span class="token operator">=&gt;</span><span class="token"> </span><span class="token operator">...</span><span class="token">
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>unlimited power!!!</div><div class="admonitionContent_S0QG"><p>Effects subscribers receive all the info needed to implement time travel for the store. This includes all info needed to undo and replicate all state changes in all child stores 😮. More on this in <a href="/zedux/docs/advanced/time-travel">the time travel walkthrough</a>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="combined-subscribers">Combined Subscribers<a class="hash-link" href="#combined-subscribers" title="Direct link to heading">​</a></h3><p>Any combination of these subscriber types can be added in one subscription:</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token">myStore</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token">
  effects</span><span class="token operator">:</span><span class="token"> myEffectsSubscriber</span><span class="token punctuation">,</span><span class="token">
  error</span><span class="token operator">:</span><span class="token"> myErrorSubscriber</span><span class="token punctuation">,</span><span class="token">
  next</span><span class="token operator">:</span><span class="token"> myNextSubscriber</span><span class="token punctuation">,</span><span class="token"> </span><span class="token comment">// a normal subscriber</span><span class="token">
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="stores-in-atoms">Stores in Atoms<a class="hash-link" href="#stores-in-atoms" title="Direct link to heading">​</a></h2><p>We learned how to create stores to give atoms control over their own state in <a href="/zedux/docs/walkthrough/atom-state">the atom state walkthrough</a>. But now that we understand stores, we can look at some more advanced patterns.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="injectstore"><code>injectStore</code><a class="hash-link" href="#injectstore" title="Direct link to heading">​</a></h3><p>Let&#x27;s combine our knowledge of this hook with what we just learned about reducers and store composition.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-reducer-driven-store">Creating a reducer-driven store<a class="hash-link" href="#creating-a-reducer-driven-store" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">const</span><span class="token"> store </span><span class="token operator">=</span><span class="token"> </span><span class="token function">injectStore</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token operator">=&gt;</span><span class="token"> </span><span class="token function">createStore</span><span class="token punctuation">(</span><span class="token">rootReducer</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="composing-stores">Composing stores<a class="hash-link" href="#composing-stores" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">const</span><span class="token"> storeA </span><span class="token operator">=</span><span class="token"> </span><span class="token function">injectStore</span><span class="token punctuation">(</span><span class="token string">&#x27;a&#x27;</span><span class="token punctuation">)</span><span class="token">
</span><span class="token keyword">const</span><span class="token"> storeB </span><span class="token operator">=</span><span class="token"> </span><span class="token function">injectStore</span><span class="token punctuation">(</span><span class="token string">&#x27;b&#x27;</span><span class="token punctuation">)</span><span class="token">
</span><span class="token keyword">const</span><span class="token"> store </span><span class="token operator">=</span><span class="token"> </span><span class="token function">injectStore</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token operator">=&gt;</span><span class="token"> </span><span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token"> a</span><span class="token operator">:</span><span class="token"> storeA</span><span class="token punctuation">,</span><span class="token"> b</span><span class="token operator">:</span><span class="token"> storeB </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="mixing-stores-and-reducers">Mixing stores and reducers<a class="hash-link" href="#mixing-stores-and-reducers" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">const</span><span class="token"> store </span><span class="token operator">=</span><span class="token"> </span><span class="token function">injectStore</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token operator">=&gt;</span><span class="token">
  </span><span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token">
    a</span><span class="token operator">:</span><span class="token"> myStore</span><span class="token punctuation">,</span><span class="token">
    b</span><span class="token operator">:</span><span class="token"> myReducer</span><span class="token punctuation">,</span><span class="token">
  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token">
</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setting-state-during-evaluation">Setting state during evaluation<a class="hash-link" href="#setting-state-during-evaluation" title="Direct link to heading">​</a></h3><p>You can set a store&#x27;s state during atom evaluation.</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">const</span><span class="token"> exampleAtom </span><span class="token operator">=</span><span class="token"> </span><span class="token function">atom</span><span class="token punctuation">(</span><span class="token string">&#x27;example&#x27;</span><span class="token punctuation">,</span><span class="token"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token operator">=&gt;</span><span class="token"> </span><span class="token punctuation">{</span><span class="token">
  </span><span class="token keyword">const</span><span class="token"> store </span><span class="token operator">=</span><span class="token"> </span><span class="token function">injectStore</span><span class="token punctuation">(</span><span class="token string">&#x27;initial state&#x27;</span><span class="token punctuation">)</span><span class="token">
  </span><span class="token keyword">const</span><span class="token"> otherVal </span><span class="token operator">=</span><span class="token"> </span><span class="token function">injectAtomValue</span><span class="token punctuation">(</span><span class="token">otherAtom</span><span class="token punctuation">)</span><span class="token">

  store</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token function">deriveStuffFrom</span><span class="token punctuation">(</span><span class="token">otherVal</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token"> </span><span class="token comment">// surely bad! .. Right?</span><span class="token">

  </span><span class="token keyword">return</span><span class="token"> store
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>But wouldn&#x27;t this would cause a reevaluation loop??</p><p>Turns out, this is fine! <code>injectStore</code> detects if the store&#x27;s state is updated while its atom instance is being evaluated and doesn&#x27;t trigger a new evaluation. This means, however, that you may need to be conscious of when you set state:</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">const</span><span class="token"> store </span><span class="token operator">=</span><span class="token"> </span><span class="token function">injectStore</span><span class="token punctuation">(</span><span class="token string">&#x27;initial state&#x27;</span><span class="token punctuation">)</span><span class="token">

</span><span class="token comment">// store&#x27;s state hasn&#x27;t been updated yet!</span><span class="token">
</span><span class="token function">injectEffect</span><span class="token punctuation">(</span><span class="token">someSideEffect</span><span class="token punctuation">,</span><span class="token"> </span><span class="token punctuation">[</span><span class="token">store</span><span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token">

</span><span class="token comment">// won&#x27;t trigger the above effect (which is fine if that&#x27;s what we want)</span><span class="token">
store</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token function">injectSomeDerivation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Since <code>store.setState()</code> and <code>store.dispatch()</code> return the new state, we can pass that return value as a dep to <code>injectEffect</code> if needed:</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">const</span><span class="token"> store </span><span class="token operator">=</span><span class="token"> </span><span class="token function">injectStore</span><span class="token punctuation">(</span><span class="token string">&#x27;initial state&#x27;</span><span class="token punctuation">)</span><span class="token">
</span><span class="token keyword">const</span><span class="token"> newstate </span><span class="token operator">=</span><span class="token"> store</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token function">injectSomeDerivation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token"> </span><span class="token comment">// update synchronously</span><span class="token">

</span><span class="token comment">// pass this newState as the dep, instead of store.getState()</span><span class="token">
</span><span class="token function">injectEffect</span><span class="token punctuation">(</span><span class="token">someSideEffect</span><span class="token punctuation">,</span><span class="token"> </span><span class="token punctuation">[</span><span class="token">newState</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Sometimes you will encounter an asynchronous evaluation loop, e.g. with <code>injectEffect</code>, where an effect needs to set the store&#x27;s state but then the effect also reruns every time the state changes.</p><p>Since the above only applies during synchronous evaluation, these situations require something extra. It may be possible in some cases to fix this by narrowing your effect&#x27;s dependency so that only a piece of state causes the effect to rerun. Or you may be able to reorganize your state so that the effect updates a separate store than the one it depends on.</p><p>If all else fails, you can pass <a href="/zedux/docs/api/constants/metaTypes#skip_evaluation"><code>metaTypes.SKIP_EVALUATION</code></a> as an action&#x27;s <code>meta</code> property to prevent Zedux from reevaluating this atom on this particular state change.</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">import</span><span class="token"> </span><span class="token punctuation">{</span><span class="token"> metaTypes </span><span class="token punctuation">}</span><span class="token"> </span><span class="token keyword">from</span><span class="token"> </span><span class="token string">&#x27;@zedux/react&#x27;</span><span class="token">

myStore</span><span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token"> type</span><span class="token operator">:</span><span class="token"> </span><span class="token string">&#x27;my-action-type&#x27;</span><span class="token punctuation">,</span><span class="token"> meta</span><span class="token operator">:</span><span class="token"> metaTypes</span><span class="token punctuation">.</span><span class="token constant">SKIP_EVALUATION</span><span class="token"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token">

</span><span class="token comment">// metadata can be passed as the second argument to .setState():</span><span class="token">
myStore</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token">newState</span><span class="token punctuation">,</span><span class="token"> metaTypes</span><span class="token punctuation">.</span><span class="token constant">SKIP_EVALUATION</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-important alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>anti-pattern warning</div><div class="admonitionContent_S0QG"><p>Use this <em>extremely</em> sparingly. It can cause hard-to-find bugs.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="replacing-store-references">Replacing Store References<a class="hash-link" href="#replacing-store-references" title="Direct link to heading">​</a></h3><p>When composing multiple stores together inside a single atom, you may find situations where one or more of the child stores can change across evaluations. Consider:</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">const</span><span class="token"> localStore </span><span class="token operator">=</span><span class="token"> </span><span class="token function">injectStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token comment">// constant store reference</span><span class="token">
</span><span class="token keyword">const</span><span class="token"> externalStore </span><span class="token operator">=</span><span class="token"> </span><span class="token function">injectAtomInstance</span><span class="token punctuation">(</span><span class="token">otherAtom</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token">store </span><span class="token comment">// unstable!</span><span class="token">

</span><span class="token keyword">const</span><span class="token"> store </span><span class="token operator">=</span><span class="token"> </span><span class="token function">injectStore</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token"> </span><span class="token operator">=&gt;</span><span class="token">
  </span><span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token"> local</span><span class="token operator">:</span><span class="token"> localStore</span><span class="token punctuation">,</span><span class="token"> external</span><span class="token operator">:</span><span class="token"> externalStore </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token">
</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The store from <code>otherAtom</code> is technically an unstable reference because <code>otherAtom</code> could be force-destroyed, which would trigger recreation with a completely different store reference. If that happens, our composed store will hold onto the old reference forever!</p><p>The fix is very simple. Instead of using <code>createStore</code> inside <code>injectStore</code> for one-time configuration of the store, use <code>.use()</code> inline:</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">const</span><span class="token"> store </span><span class="token operator">=</span><span class="token"> </span><span class="token function">injectStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token">
store</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token"> local</span><span class="token operator">:</span><span class="token"> localStore</span><span class="token punctuation">,</span><span class="token"> external</span><span class="token operator">:</span><span class="token"> externalStore </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>store.use()</code> triggers a state update in the store, but remember that state updates during evaluation don&#x27;t trigger a reevaluation. Now if <code>externalStore</code>&#x27;s reference changes, we&#x27;ll immediately update its reference in the composed store and trigger a state update. And if the new hierarchy exactly matches the old one, <code>store.use()</code> will do nothing.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="wrapper-atoms">Wrapper Atoms<a class="hash-link" href="#wrapper-atoms" title="Direct link to heading">​</a></h3><p>Sometimes we&#x27;ll have an atom that doesn&#x27;t hold any state itself, but may wrap some functionality around another atom. There is (currently) no rule that says an atom instance can&#x27;t reuse another atom instance&#x27;s store.</p><p>However, remember that such injected stores are technically unstable references. To make them stable, be sure to compose the store (essentially creating a local &quot;copy&quot; that Zedux keeps in sync with the original).</p><div class="codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><pre tabindex="0" class="prism-code codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar"><code class="code22 s_zedux_docs_walkthrough_stores0 language-ts codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><span class="token keyword">const</span><span class="token"> wrappedInstance </span><span class="token operator">=</span><span class="token"> </span><span class="token function">injectAtomInstance</span><span class="token punctuation">(</span><span class="token">wrappedAtom</span><span class="token punctuation">)</span><span class="token">
</span><span class="token keyword">const</span><span class="token"> store </span><span class="token operator">=</span><span class="token"> </span><span class="token function">injectStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token">
store</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token">wrappedInstance</span><span class="token punctuation">.</span><span class="token">store</span><span class="token punctuation">)</span><span class="token">

</span><span class="token keyword">return</span><span class="token"> </span><span class="token function">api</span><span class="token punctuation">(</span><span class="token">wrappedInstance</span><span class="token punctuation">.</span><span class="token">store</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setExports</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token"> </span><span class="token operator">...</span><span class="token"> </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token">
</span></code></pre><div class="buttonGroup_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg class="wordWrapButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-WordWrapButton-styles-module" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" aria-hidden="true"><svg class="copyButtonIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-CopyButton-styles-module" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>Try to avoid this pattern, as this bypasses Zedux&#x27; internal graph algorithm. For simple use cases, this should be fine. We are exploring a few potential solutions to allow composed stores from different atom instances to respect the atom graph when propagating updates.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="recap">Recap<a class="hash-link" href="#recap" title="Direct link to heading">​</a></h2><p>Stores are the backbone of Zedux. They&#x27;re composable state containers that promote isolation and modularity, manage side effects, and work well in feature-based, micro-frontend, or otherwise code-split architectures. Learning to use stores effectively is the key to unlocking Zedux&#x27; power.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next Steps<a class="hash-link" href="#next-steps" title="Direct link to heading">​</a></h2><p>Now that we know a bit about creating and subscribing to stores, we can learn how to hook into stores to run <a href="/zedux/docs/walkthrough/side-effects">side effects</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Omnistac/zedux/tree/master/docs/walkthrough/stores.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/zedux/docs/walkthrough/query-atoms"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Query Atoms</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zedux/docs/walkthrough/side-effects"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Side Effects</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#zero-config" class="table-of-contents__link toc-highlight">Zero Config</a></li><li><a href="#hydration" class="table-of-contents__link toc-highlight">Hydration</a></li><li><a href="#reducer-hierarchy" class="table-of-contents__link toc-highlight">Reducer Hierarchy</a></li><li><a href="#reducer-splitting" class="table-of-contents__link toc-highlight">Reducer Splitting</a></li><li><a href="#store-composition" class="table-of-contents__link toc-highlight">Store Composition</a></li><li><a href="#subscribing" class="table-of-contents__link toc-highlight">Subscribing</a><ul><li><a href="#normal-subscribers" class="table-of-contents__link toc-highlight">Normal Subscribers</a></li><li><a href="#error-subscribers" class="table-of-contents__link toc-highlight">Error Subscribers</a></li><li><a href="#effects-subscribers" class="table-of-contents__link toc-highlight">Effects Subscribers</a></li><li><a href="#combined-subscribers" class="table-of-contents__link toc-highlight">Combined Subscribers</a></li></ul></li><li><a href="#stores-in-atoms" class="table-of-contents__link toc-highlight">Stores in Atoms</a><ul><li><a href="#injectstore" class="table-of-contents__link toc-highlight"><code>injectStore</code></a></li><li><a href="#setting-state-during-evaluation" class="table-of-contents__link toc-highlight">Setting state during evaluation</a></li><li><a href="#replacing-store-references" class="table-of-contents__link toc-highlight">Replacing Store References</a></li><li><a href="#wrapper-atoms" class="table-of-contents__link toc-highlight">Wrapper Atoms</a></li></ul></li><li><a href="#recap" class="table-of-contents__link toc-highlight">Recap</a></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next Steps</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zedux/docs/walkthrough/quick-start">React</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Omnistac/zedux" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/josh_claunch" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2017-2023 Joshua Claunch. Built with Docusaurus.</div></div></div></footer></div></div>
<script src="/zedux/assets/js/runtime~main.4a4c29d4.js"></script>
<script src="/zedux/assets/js/main.42fd8463.js"></script>
</body>
</html>