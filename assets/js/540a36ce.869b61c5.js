"use strict";(self.webpackChunkzedux_docs=self.webpackChunkzedux_docs||[]).push([[7500],{3826:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return c},contentTitle:function(){return l},metadata:function(){return m},toc:function(){return d},default:function(){return p}});var a=n(3117),s=n(102),i=(n(7294),n(3905)),o=n(3052),r=["components"],c={id:"injectAtomValue",title:"injectAtomValue"},l=void 0,m={unversionedId:"api/injectors/injectAtomValue",id:"api/injectors/injectAtomValue",isDocsHomePage:!1,title:"injectAtomValue",description:"An injector that accepts an atom and its params and registers a dynamic graph dependency on the resolved atom instance, returning the value.",source:"@site/docs/api/injectors/injectAtomValue.mdx",sourceDirName:"api/injectors",slug:"/api/injectors/injectAtomValue",permalink:"/zedux/docs/api/injectors/injectAtomValue",editUrl:"https://github.com/Omnistac/zedux/tree/master/docs/api/injectors/injectAtomValue.mdx",tags:[],version:"current",frontMatter:{id:"injectAtomValue",title:"injectAtomValue"},sidebar:"react",previous:{title:"injectAtomState",permalink:"/zedux/docs/api/injectors/injectAtomState"},next:{title:"injectCallback",permalink:"/zedux/docs/api/injectors/injectCallback"}},d=[{value:"Example",id:"example",children:[],level:2},{value:"Signature",id:"signature",children:[{value:"Overloads",id:"overloads",children:[],level:3},{value:"<code>atom</code>",id:"atom",children:[],level:3},{value:"<code>params</code>",id:"params",children:[],level:3},{value:"<code>instance</code>",id:"instance",children:[],level:3}],level:2}],u={toc:d};function p(e){var t=e.components,n=(0,s.Z)(e,r);return(0,i.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"import { injectAtomValue } from '@zedux/react'\n")),(0,i.kt)("p",null,"An ",(0,i.kt)("a",{parentName:"p",href:"../glossary#injector"},"injector")," that accepts an atom and its params and registers a ",(0,i.kt)("a",{parentName:"p",href:"../glossary#dynamic-graph-dependency"},"dynamic graph dependency")," on the resolved atom instance, returning the value."),(0,i.kt)("p",null,"The atom instance that uses this injector will reevaluate whenever the resolved atom instance's state changes."),(0,i.kt)("h2",{id:"example"},"Example"),(0,i.kt)(o.u,{resultVar:"Seconds",mdxType:"LiveEditor"},"\nconst secondsAtom = atom('seconds', () => {\n  const store = injectStore(0)\n\n  injectEffect(() => {\n    const intervalId = setInterval(\n      () => store.setState(val => val + 1),\n      1000\n    )\n\n    return () => clearInterval(intervalId)\n  }, [])\n\n  return store\n})\n\nconst timesFiveAtom = atom('timesFive', () => {\n  const seconds = injectAtomValue(secondsAtom)\n\n  return seconds * 5\n})\n\nfunction Seconds() {\n  const state = useAtomValue(timesFiveAtom)\n\n  return <div>Seconds Times Five: {state}</div>\n}\n"),(0,i.kt)("p",null,"Miscellaneous:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"const currentState = injectAtomValue(myAtom)\n\nconst withParams = injectAtomValue(myAtom, ['param 1', 'param 2'])\n\n// passing an atom instance registers a dynamic dependency on that instance\nconst withInstance = injectAtomValue(instance)\n")),(0,i.kt)("h2",{id:"signature"},"Signature"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"injectAtomValue(atom, params?) => state\n")),(0,i.kt)("p",null,"Uses the atom + params combo to find an existing atom instance. If no instance is found, creates one. Returns the resolved atom instance's current state."),(0,i.kt)("h3",{id:"overloads"},"Overloads"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"injectAtomValue(instance) => state\n")),(0,i.kt)("h3",{id:"atom"},(0,i.kt)("inlineCode",{parentName:"h3"},"atom")),(0,i.kt)("p",null,"Required. The ",(0,i.kt)("a",{parentName:"p",href:"../classes/Atom"},"atom")," object whose key will be used to find an existing atom instance and whose definition will be used to create an atom instance if none exist yet."),(0,i.kt)("h3",{id:"params"},(0,i.kt)("inlineCode",{parentName:"h3"},"params")),(0,i.kt)("p",null,"Optional. An array of parameters that identify this atom instance. These params will be passed to the atom's ",(0,i.kt)("a",{parentName:"p",href:"../glossary#evaluator"},"evaluator function"),"."),(0,i.kt)("p",null,"TS users will be required to pass this for atoms that take params. If you don't use TS ... just don't forget to pass them."),(0,i.kt)("h3",{id:"instance"},(0,i.kt)("inlineCode",{parentName:"h3"},"instance")),(0,i.kt)("p",null,"Required (in this overload). An ",(0,i.kt)("a",{parentName:"p",href:"../classes/AtomInstance"},"atom instance"),". Will register a dynamic dependency on the passed instance and return the instance's current value."))}p.isMDXComponent=!0}}]);