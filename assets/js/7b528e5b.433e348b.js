"use strict";(self.webpackChunkzedux_docs=self.webpackChunkzedux_docs||[]).push([[2141],{3260:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "assets": function() { return /* binding */ assets; },\n/* harmony export */   "contentTitle": function() { return /* binding */ contentTitle; },\n/* harmony export */   "default": function() { return /* binding */ MDXContent; },\n/* harmony export */   "frontMatter": function() { return /* binding */ frontMatter; },\n/* harmony export */   "metadata": function() { return /* binding */ metadata; },\n/* harmony export */   "toc": function() { return /* binding */ toc; }\n/* harmony export */ });\n/* harmony import */ var _Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7462);\n/* harmony import */ var _Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_objectWithoutPropertiesLoose_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3366);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7294);\n/* harmony import */ var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3905);\nvar _excluded=["components"];/* @jsxRuntime classic */ /* @jsx mdx */ /* @jsxFrag React.Fragment */var frontMatter={id:\'atom-apis\',title:\'Atom APIs\'};var contentTitle=undefined;var metadata={"unversionedId":"walkthrough/atom-apis","id":"walkthrough/atom-apis","title":"Atom APIs","description":"The quick start showed that injectors are like hooks for atoms. But some operations don\'t fit well into the injector paradigm. Injectors, like hooks, should be composable and usable multiple times throughout an atom state factory and other injectors.","source":"@site/docs/walkthrough/atom-apis.mdx","sourceDirName":"walkthrough","slug":"/walkthrough/atom-apis","permalink":"/zedux/docs/walkthrough/atom-apis","draft":false,"editUrl":"https://github.com/Omnistac/zedux/tree/master/docs/walkthrough/atom-apis.mdx","tags":[],"version":"current","frontMatter":{"id":"atom-apis","title":"Atom APIs"},"sidebar":"react","previous":{"title":"Atom Instances","permalink":"/zedux/docs/walkthrough/atom-instances"},"next":{"title":"Ecosystems","permalink":"/zedux/docs/walkthrough/ecosystems"}};var assets={};var toc=[{value:\'<code>api()</code>\',id:\'api\',level:2},{value:\'Exports\',id:\'exports\',level:2},{value:\'Exporting Refs\',id:\'exporting-refs\',level:3},{value:\'Exporting Callbacks\',id:\'exporting-callbacks\',level:3},{value:\'Suspense\',id:\'suspense\',level:2},{value:\'Query Atoms\',id:\'query-atoms\',level:3},{value:\'Properties\',id:\'properties\',level:2},{value:\'Atom API Composition\',id:\'atom-api-composition\',level:2},{value:\'Promises\',id:\'promises\',level:3},{value:\'Recap\',id:\'recap\',level:2},{value:\'Next Steps\',id:\'next-steps\',level:2}];var layoutProps={toc:toc};var MDXLayout="wrapper";function MDXContent(_ref){var components=_ref.components,props=(0,_Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_objectWithoutPropertiesLoose_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(_ref,_excluded);return (0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)(MDXLayout,(0,_Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"The quick start showed that injectors are like hooks for atoms. But some operations don\'t fit well into the injector paradigm. Injectors, like hooks, should be composable and usable multiple times throughout an atom state factory and other injectors."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"But atoms have a few one-off operations (operations that should only be performed once). For these, we use an Atom API."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("admonition",{"title":"you will learn:","type":"tip"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",{parentName:"admonition"},"How to create an Atom API and use it to:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("ul",{parentName:"admonition"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Export anything from an atom"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Kick off React suspense"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Make Zedux control promise state"))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"api"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h2"},"api()")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"To create an Atom API, simply wrap state in a call to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"api()")," before returning it from a state factory:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"import { api, atom } from \'@zedux/react\'\\n\\nconst exampleAtom = atom(\'example\', () => \'initial state\') // before\\nconst exampleAtom = atom(\'example\', () => api(\'initial state\')) // after\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"This works with stores too:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const exampleAtom = atom(\'example\', () => {\\n  const store = injectStore()\\n\\n  return store // before\\n  return api(store) // after\\n})\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"You can create an Atom API anywhere, but only the Atom API returned from the state factory will become ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("em",{parentName:"p"},"the")," API of the atom."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"So now then ... what can an Atom API do?"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"exports"},"Exports"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Atoms can export anything via a returned Atom API:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx","metastring":"live ecosystemId=atom-apis/exports resultVar=App","live":true,"ecosystemId":"atom-apis/exports","resultVar":"App"},"const counterAtom = atom(\'counter\', () => {\\n  const store = injectStore(0)\\n\\n  // Expose methods!\\n  return api(store).setExports({\\n    decrement: () => store.setState(state => state - 1),\\n    increment: () => store.setState(state => state + 1),\\n  })\\n})\\n\\nfunction App() {\\n  const { decrement, increment } = useAtomInstance(counterAtom).exports\\n  const value = useAtomValue(counterAtom)\\n\\n  return (\\n    <>\\n      <div>Counter: {value}</div>\\n      <button onClick={increment}>Increment</button>\\n      <button onClick={decrement}>Decrement</button>\\n    </>\\n  )\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Atom APIs have a ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".setExports()")," method that defines an atom instance\'s exports (when the atom API is returned from the state factory). These exports are set on initial evaluation and ignored on evaluations after that."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"The exports are set on ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"instance.exports"),". Wherever you have an atom instance, you have access to its exports."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Exports must be an object and can contain anything. As you can imagine, exports are another big feature that sets Zedux apart from other atomic libraries."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("admonition",{"title":"important","type":"info"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",{parentName:"admonition"},"Exports are constant! This means exported variables should be stable references. Zedux won\'t update them on subsequent evaluations. In this example, ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"increment")," and ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"decrement")," are not stable references, but they don\'t reference anything except the store, which is stable. You have to be conscious of this.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("admonition",{"type":"tip"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",{parentName:"admonition"},"Think of atom exports just like module exports in JavaScript files. You never change a file\'s exports. There\'s no need to! You can, however, mutate objects and change state in the file using exported functions. That\'s exactly what you can do in atoms with injected refs and stores.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Exports are extremely powerful. Exposing an atom\'s \\"public API\\" like this is just one of their uses."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"exporting-refs"},"Exporting Refs"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Since you can export anything, refs can be used to great effect:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx"},"const gridAtom = atom(\'grid\', () => {\\n  const gridApiRef = injectRef()\\n\\n  // this atom provides universal access to the grid api once it\'s been set:\\n  return api().setExports({ gridApiRef })\\n})\\n\\nfunction Grid() {\\n  const { gridApiRef } = useAtomInstance(gridAtom).exports\\n\\n  // expose this grid component\'s api to the atom universe!\\n  return <ThirdPartyGridLibrary onLoad={api => (gridApiRef.current = api)} />\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("admonition",{"type":"tip"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",{parentName:"admonition"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"injectRef()")," is the injector equivalent of ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"useRef()"),". Exported refs can be used exactly as React refs!")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"exporting-callbacks"},"Exporting Callbacks"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Another use is to export callbacks for implementing render-as-you-fetch patterns:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx","metastring":"live ecosystemId=atom-apis/export-callbacks resultVar=Age","live":true,"ecosystemId":"atom-apis/export-callbacks","resultVar":"Age"},"// some mocks for this example:\\nconst mockFetch = data =>\\n  new Promise(resolve => {\\n    setTimeout(() => resolve(data), 1000)\\n  })\\n\\n// start here:\\nconst userNameAtom = atom(\'userName\', () => {\\n  const store = injectStore({\\n    isLoading: false,\\n    name: \'Joe\',\\n  })\\n\\n  const toggleUser = injectCallback(() => {\\n    const { isLoading, name } = store.getState()\\n    if (isLoading) return\\n\\n    store.setStateDeep({ isLoading: true })\\n\\n    mockFetch(name === \'Joe\' ? \'Bob\' : \'Joe\').then(val =>\\n      store.setState({ isLoading: false, name: val })\\n    )\\n  }, [])\\n\\n  return api(store).setExports({ toggleUser })\\n})\\n\\nfunction Age() {\\n  const { toggleUser } = useAtomInstance(userNameAtom).exports\\n  const { isLoading, name } = useAtomValue(userNameAtom)\\n\\n  return (\\n    <>\\n      <div>Current User\'s Name: {isLoading ? \'Loading...\' : name}</div>\\n      <button onClick={toggleUser}>Change User</button>\\n    </>\\n  )\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("admonition",{"type":"tip"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",{parentName:"admonition"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"injectCallback")," is the injector equivalent of ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"useCallback"),". We used it here with empty deps (",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"[]"),") to remind us that this is an export and its reference can\'t change. This means we can\'t use any dynamic values inside the callback - notice that we call ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"store.getState()")," inside the callback instead of setting it to a variable outside the callback and passing that as a dep.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"This is poor man\'s async handling. Let\'s upgrade to Suspense."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"suspense"},"Suspense"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Atoms can be used as suspending resources in React. To suspend, simply pass a promise to a returned Atom API\'s ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".setPromise()")," method:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"return api(val).setPromise(suspensePromise)\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"An atom that returns such an api will cause React to suspend until the promise resolves."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx","metastring":"live ecosystemId=atom-apis/api-set-promise resultVar=App","live":true,"ecosystemId":"atom-apis/api-set-promise","resultVar":"App"},"const mockFetch = data =>\\n  new Promise(resolve => {\\n    setTimeout(() => resolve(data), 1000)\\n  })\\n\\nconst ageAtom = atom(\'age\', () => {\\n  const store = injectStore(undefined, { subscribe: false })\\n\\n  // An inline side effect?? We\'ll cover this in the suspense walkthrough\\n  const promise = mockFetch(Math.floor(Math.random() * 100))\\n  promise.then(val => store.setState(val))\\n\\n  return api(store).setPromise(promise)\\n})\\n\\nfunction Age() {\\n  const instance = useAtomInstance(ageAtom)\\n  const age = useAtomValue(ageAtom)\\n\\n  return (\\n    <>\\n      <div>The Time Traveller\'s Age: {age}</div>\\n      <button onClick={() => instance.invalidate()}>Refresh</button>\\n    </>\\n  )\\n}\\n\\nfunction App() {\\n  return (\\n    <Suspense fallback={<div>Fetching Age...</div>}>\\n      <Age />\\n    </Suspense>\\n  )\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("admonition",{"type":"note"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",{parentName:"admonition"},"Unlike exports, the promise can change! Be sure to return a stable reference if you don\'t want the atom instance to kick off suspense again on reevaluations.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"We\'ll cover much more about suspense in ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"suspense"},"the suspense walkthrough"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"query-atoms"},"Query Atoms"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"You can also pass a promise directly to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"api()"),". This tells Zedux to take control over the atom\'s state and update it based on the promise. The state shape is similar to React Query queries. Because of this, we call such atoms \\"query atoms\\":"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx","metastring":"live ecosystemId=atom-apis/api-promise resultVar=App","live":true,"ecosystemId":"atom-apis/api-promise","resultVar":"App"},"const mockFetch = data =>\\n  new Promise(resolve => {\\n    setTimeout(() => resolve(data), 1000)\\n  })\\n\\nconst ageAtom = atom(\'age\', () => {\\n  const promise = mockFetch(Math.floor(Math.random() * 100))\\n\\n  // just pass the promise!\\n  return api(promise)\\n})\\n\\nfunction Age() {\\n  const instance = useAtomInstance(ageAtom)\\n\\n  // the promise result will be set as the state\'s `data` property.\\n  // You should recognize this if you know React Query.\\n  const { data } = useAtomValue(ageAtom)\\n\\n  return (\\n    <>\\n      <div>The Time Traveller\'s Age: {data}</div>\\n      <button onClick={() => instance.invalidate()}>Refresh</button>\\n    </>\\n  )\\n}\\n\\nfunction App() {\\n  return (\\n    <Suspense fallback={<div>Fetching Age...</div>}>\\n      <Age />\\n    </Suspense>\\n  )\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("admonition",{"type":"note"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("mdxAdmonitionTitle",{parentName:"admonition"},"why can\'t I return a promise without using ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"api()"),"?"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",{parentName:"admonition"},"In Zedux, atoms always evaluate synchronously. This allows Zedux\'s DI to be as dynamic as possible and simplifies a lot for you. It also means that state factories can\'t be asynchronous functions."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",{parentName:"admonition"},"Since returning a promise and declaring an async function are essentially the same thing (especially in Typescript\'s eyes), we found it better to disallow returning a promise directly. Just wrap your promise in ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"api(promise)"),".")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Query atoms get ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"query-atoms"},"their own walkthrough"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"properties"},"Properties"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"The object returned from ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"api()")," is an instance of ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"../api/classes/AtomApi"},"the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"a"},"AtomApi")," class"),". It has a few ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("strong",{parentName:"p"},"readonly")," properties that reference the values you set on it:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("ul",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},".value")," - The value passed to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"api()"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},".exports")," - The exports set via ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"api().setExports()")," and ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"api().addExports()"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},".promise")," - The promise set via ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"api().setPromise()"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},".store")," - The store passed to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"api()"),". If a non-store value was passed, this is ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"undefined"),".")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const myApi = api(myStore).setExports(myExports).setPromise(myPromise)\\n\\nmyApi.value === myStore\\nmyApi.exports === myExports\\nmyApi.promise === myPromise\\nmyApi.store === myStore\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"atom-api-composition"},"Atom API Composition"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"An Atom API can be cloned by passing it to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"api()"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"import { api } from \'@zedux/react\'\\n\\nconst myApi = api(\'some state\').setExports({ something })\\nconst clonedApi = api(myApi) // has the same value and exports\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Atom APIs are a convenient way to pass stores, exports, and promises around. You may find yourself working with multiple Atom APIs when using custom injectors."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Atom APIs have a ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".addExports()")," method specifically for merging exports together from multiple sources:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const complexAtom = atom(\'complex\', () => {\\n  // say these two injectors return AtomApis:\\n  const apiA = injectA()\\n  const apiB = injectB()\\n\\n  // say we want to expose apiA\'s state (or store) as the state of this atom,\\n  // but we want the exports from both APIs:\\n  return api(apiA).addExports(apiB.exports) // merge apiB\'s exports into apiA\'s\\n})\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"If you have multiple Atom APIs with stores attached, you can also use store composition to create a new Atom API from the injected APIs:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const apiA = injectA()\\nconst apiB = injectB()\\n\\nconst composedStore = injectStore()\\ncomposedStore.use({ a: apiA.store, b: apiB.store })\\n\\nreturn api(composedStore).setExports({\\n  ...apiA.exports,\\n  ...apiB.exports,\\n})\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"promises"},"Promises"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Unlike Recoil, Zedux doesn\'t provide any promise utilities like ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"waitForAll"),"/",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"waitForNone"),". This is because Zedux relinquishes all control over async flows to you, the programmer. This means you can use native Promise APIs or any other async tool (read RxJS) to control async flows."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Let\'s look at an example using ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"Promise.all()")," to \\"compose\\" promises together from multiple sources:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx","metastring":"live ecosystemId=atom-apis/promise-all resultVar=App","live":true,"ecosystemId":"atom-apis/promise-all","resultVar":"App"},"const wait = (ms: number) => new Promise(resolve => setTimeout(resolve, ms))\\n\\nconst oneSecondAtom = atom(\'oneSecond\', () =>\\n  api(\'got one!\').setPromise(wait(1000))\\n)\\n\\nconst twoSecondsAtom = atom(\'twoSeconds\', () =>\\n  api(\'got two!\').setPromise(wait(2000))\\n)\\n\\nconst bothAtom = atom(\'both\', () => {\\n  const instance1 = injectAtomInstance(oneSecondAtom)\\n  const instance2 = injectAtomInstance(twoSecondsAtom)\\n\\n  // memoize to only create a new promise when dependency promises change\\n  const promise = injectMemo(\\n    () => Promise.all([instance1.promise, instance2.promise]),\\n    [instance1.promise, instance2.promise]\\n  )\\n\\n  return api(\'got both!\').setPromise(promise)\\n})\\n\\nconst One = () => <div>{useAtomValue(oneSecondAtom)}</div>\\nconst Two = () => <div>{useAtomValue(twoSecondsAtom)}</div>\\nconst Both = () => <div>{useAtomValue(bothAtom)}</div>\\n\\nconst App = () => (\\n  <>\\n    <Suspense fallback={<div>Waiting for #1</div>}>\\n      <One />\\n    </Suspense>\\n    <Suspense fallback={<div>Waiting for #2</div>}>\\n      <Two />\\n    </Suspense>\\n    <Suspense fallback={<div>Waiting for both</div>}>\\n      <Both />\\n    </Suspense>\\n  </>\\n)\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("admonition",{"type":"tip"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",{parentName:"admonition"},"Click \\"Reset\\" in the above sandbox to see the promises cascade.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"recap"},"Recap"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("ul",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Create an Atom API with ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"api(stateOrStore)"),". Return an Atom API from a state factory to make it ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("strong",{parentName:"li"},"the")," API of the atom."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Use ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},".setExports()")," to \\"export\\" an object to the instance\'s ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},".exports")," property."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Make atoms trigger React suspense with ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},".setPromise(myPromise)"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Make Zedux control promise state by returning ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"api(myPromise)"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Clone Atom APIs with ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"api(myApi)"),".")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"next-steps"},"Next Steps"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"You\'ve now unlocked some of the stronger powers of Zedux atoms. It\'s time to zoom out and look at the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"ecosystems"},"bigger picture"),"."));};MDXContent.isMDXComponent=true;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWdDLEtBQVUsQ0FDM0ksbUVBQUksVUFBVSxDQUFDLElBQUksMEJBQTBCLDJFQUFZLFVBQVUsQ0FBQyxJQUFJLGVBQTRCLEtBQVUsQ0FDM0csQ0FDTCxtRUFDRSxJQUFJLENBQUUsWUFBWSxlQUNFLENBQ3RCLCtLQUE2RyxrRUFBRyxVQUFVLENBQUMsR0FBRyxDQUMxSCxNQUFNLENBQUUsWUFBWSxtQkFDRyxLQUFTLENBQ3hCLENBQ2hCLENBQ0EsQ0FDQUQsVUFBVSxDQUFDRyxjQUFjLENBQUcsSUFBSSIsInNvdXJjZXMiOlsid2VicGFjazovL3plZHV4LWRvY3MvLi9kb2NzL3dhbGt0aHJvdWdoL2F0b20tYXBpcy5tZHg/OGYyNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcblxuLyogQGpzeFJ1bnRpbWUgY2xhc3NpYyAqL1xuLyogQGpzeCBtZHggKi9cbi8qIEBqc3hGcmFnIFJlYWN0LkZyYWdtZW50ICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtZHggfSBmcm9tICdAbWR4LWpzL3JlYWN0JztcblxuXG5leHBvcnQgY29uc3QgZnJvbnRNYXR0ZXIgPSB7XG5cdGlkOiAnYXRvbS1hcGlzJyxcblx0dGl0bGU6ICdBdG9tIEFQSXMnXG59O1xuZXhwb3J0IGNvbnN0IGNvbnRlbnRUaXRsZSA9IHVuZGVmaW5lZDtcbmV4cG9ydCBjb25zdCBtZXRhZGF0YSA9IHtcbiAgXCJ1bnZlcnNpb25lZElkXCI6IFwid2Fsa3Rocm91Z2gvYXRvbS1hcGlzXCIsXG4gIFwiaWRcIjogXCJ3YWxrdGhyb3VnaC9hdG9tLWFwaXNcIixcbiAgXCJ0aXRsZVwiOiBcIkF0b20gQVBJc1wiLFxuICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIHF1aWNrIHN0YXJ0IHNob3dlZCB0aGF0IGluamVjdG9ycyBhcmUgbGlrZSBob29rcyBmb3IgYXRvbXMuIEJ1dCBzb21lIG9wZXJhdGlvbnMgZG9uJ3QgZml0IHdlbGwgaW50byB0aGUgaW5qZWN0b3IgcGFyYWRpZ20uIEluamVjdG9ycywgbGlrZSBob29rcywgc2hvdWxkIGJlIGNvbXBvc2FibGUgYW5kIHVzYWJsZSBtdWx0aXBsZSB0aW1lcyB0aHJvdWdob3V0IGFuIGF0b20gc3RhdGUgZmFjdG9yeSBhbmQgb3RoZXIgaW5qZWN0b3JzLlwiLFxuICBcInNvdXJjZVwiOiBcIkBzaXRlL2RvY3Mvd2Fsa3Rocm91Z2gvYXRvbS1hcGlzLm1keFwiLFxuICBcInNvdXJjZURpck5hbWVcIjogXCJ3YWxrdGhyb3VnaFwiLFxuICBcInNsdWdcIjogXCIvd2Fsa3Rocm91Z2gvYXRvbS1hcGlzXCIsXG4gIFwicGVybWFsaW5rXCI6IFwiL3plZHV4L2RvY3Mvd2Fsa3Rocm91Z2gvYXRvbS1hcGlzXCIsXG4gIFwiZHJhZnRcIjogZmFsc2UsXG4gIFwiZWRpdFVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9PbW5pc3RhYy96ZWR1eC90cmVlL21hc3Rlci9kb2NzL3dhbGt0aHJvdWdoL2F0b20tYXBpcy5tZHhcIixcbiAgXCJ0YWdzXCI6IFtdLFxuICBcInZlcnNpb25cIjogXCJjdXJyZW50XCIsXG4gIFwiZnJvbnRNYXR0ZXJcIjoge1xuICAgIFwiaWRcIjogXCJhdG9tLWFwaXNcIixcbiAgICBcInRpdGxlXCI6IFwiQXRvbSBBUElzXCJcbiAgfSxcbiAgXCJzaWRlYmFyXCI6IFwicmVhY3RcIixcbiAgXCJwcmV2aW91c1wiOiB7XG4gICAgXCJ0aXRsZVwiOiBcIkF0b20gSW5zdGFuY2VzXCIsXG4gICAgXCJwZXJtYWxpbmtcIjogXCIvemVkdXgvZG9jcy93YWxrdGhyb3VnaC9hdG9tLWluc3RhbmNlc1wiXG4gIH0sXG4gIFwibmV4dFwiOiB7XG4gICAgXCJ0aXRsZVwiOiBcIkVjb3N5c3RlbXNcIixcbiAgICBcInBlcm1hbGlua1wiOiBcIi96ZWR1eC9kb2NzL3dhbGt0aHJvdWdoL2Vjb3N5c3RlbXNcIlxuICB9XG59O1xuZXhwb3J0IGNvbnN0IGFzc2V0cyA9IHtcblxufTtcblxuXG5leHBvcnQgY29uc3QgdG9jID0gW3tcbiAgdmFsdWU6ICc8Y29kZT5hcGkoKTwvY29kZT4nLFxuICBpZDogJ2FwaScsXG4gIGxldmVsOiAyXG59LCB7XG4gIHZhbHVlOiAnRXhwb3J0cycsXG4gIGlkOiAnZXhwb3J0cycsXG4gIGxldmVsOiAyXG59LCB7XG4gIHZhbHVlOiAnRXhwb3J0aW5nIFJlZnMnLFxuICBpZDogJ2V4cG9ydGluZy1yZWZzJyxcbiAgbGV2ZWw6IDNcbn0sIHtcbiAgdmFsdWU6ICdFeHBvcnRpbmcgQ2FsbGJhY2tzJyxcbiAgaWQ6ICdleHBvcnRpbmctY2FsbGJhY2tzJyxcbiAgbGV2ZWw6IDNcbn0sIHtcbiAgdmFsdWU6ICdTdXNwZW5zZScsXG4gIGlkOiAnc3VzcGVuc2UnLFxuICBsZXZlbDogMlxufSwge1xuICB2YWx1ZTogJ1F1ZXJ5IEF0b21zJyxcbiAgaWQ6ICdxdWVyeS1hdG9tcycsXG4gIGxldmVsOiAzXG59LCB7XG4gIHZhbHVlOiAnUHJvcGVydGllcycsXG4gIGlkOiAncHJvcGVydGllcycsXG4gIGxldmVsOiAyXG59LCB7XG4gIHZhbHVlOiAnQXRvbSBBUEkgQ29tcG9zaXRpb24nLFxuICBpZDogJ2F0b20tYXBpLWNvbXBvc2l0aW9uJyxcbiAgbGV2ZWw6IDJcbn0sIHtcbiAgdmFsdWU6ICdQcm9taXNlcycsXG4gIGlkOiAncHJvbWlzZXMnLFxuICBsZXZlbDogM1xufSwge1xuICB2YWx1ZTogJ1JlY2FwJyxcbiAgaWQ6ICdyZWNhcCcsXG4gIGxldmVsOiAyXG59LCB7XG4gIHZhbHVlOiAnTmV4dCBTdGVwcycsXG4gIGlkOiAnbmV4dC1zdGVwcycsXG4gIGxldmVsOiAyXG59XTtcblxuY29uc3QgbGF5b3V0UHJvcHMgPSB7XG4gIHRvY1xufTtcbmNvbnN0IE1EWExheW91dCA9IFwid3JhcHBlclwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNRFhDb250ZW50KHtcbiAgY29tcG9uZW50cyxcbiAgLi4ucHJvcHNcbn0pIHtcbiAgcmV0dXJuIDxNRFhMYXlvdXQgey4uLmxheW91dFByb3BzfSB7Li4ucHJvcHN9IGNvbXBvbmVudHM9e2NvbXBvbmVudHN9IG1keFR5cGU9XCJNRFhMYXlvdXRcIj5cblxuICAgIDxwPntgVGhlIHF1aWNrIHN0YXJ0IHNob3dlZCB0aGF0IGluamVjdG9ycyBhcmUgbGlrZSBob29rcyBmb3IgYXRvbXMuIEJ1dCBzb21lIG9wZXJhdGlvbnMgZG9uJ3QgZml0IHdlbGwgaW50byB0aGUgaW5qZWN0b3IgcGFyYWRpZ20uIEluamVjdG9ycywgbGlrZSBob29rcywgc2hvdWxkIGJlIGNvbXBvc2FibGUgYW5kIHVzYWJsZSBtdWx0aXBsZSB0aW1lcyB0aHJvdWdob3V0IGFuIGF0b20gc3RhdGUgZmFjdG9yeSBhbmQgb3RoZXIgaW5qZWN0b3JzLmB9PC9wPlxuICAgIDxwPntgQnV0IGF0b21zIGhhdmUgYSBmZXcgb25lLW9mZiBvcGVyYXRpb25zIChvcGVyYXRpb25zIHRoYXQgc2hvdWxkIG9ubHkgYmUgcGVyZm9ybWVkIG9uY2UpLiBGb3IgdGhlc2UsIHdlIHVzZSBhbiBBdG9tIEFQSS5gfTwvcD5cbiAgICA8YWRtb25pdGlvbiB7Li4ue1xuICAgICAgXCJ0aXRsZVwiOiBcInlvdSB3aWxsIGxlYXJuOlwiLFxuICAgICAgXCJ0eXBlXCI6IFwidGlwXCJcbiAgICB9fT48cCBwYXJlbnROYW1lPVwiYWRtb25pdGlvblwiPntgSG93IHRvIGNyZWF0ZSBhbiBBdG9tIEFQSSBhbmQgdXNlIGl0IHRvOmB9PC9wPjx1bCBwYXJlbnROYW1lPVwiYWRtb25pdGlvblwiPlxuICAgICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+e2BFeHBvcnQgYW55dGhpbmcgZnJvbSBhbiBhdG9tYH08L2xpPlxuICAgICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+e2BLaWNrIG9mZiBSZWFjdCBzdXNwZW5zZWB9PC9saT5cbiAgICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPntgTWFrZSBaZWR1eCBjb250cm9sIHByb21pc2Ugc3RhdGVgfTwvbGk+XG4gICAgICA8L3VsPjwvYWRtb25pdGlvbj5cbiAgICA8aDIgey4uLntcbiAgICAgIFwiaWRcIjogXCJhcGlcIlxuICAgIH19PjxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJoMlwiPntgYXBpKClgfTwvaW5saW5lQ29kZT48L2gyPlxuICAgIDxwPntgVG8gY3JlYXRlIGFuIEF0b20gQVBJLCBzaW1wbHkgd3JhcCBzdGF0ZSBpbiBhIGNhbGwgdG8gYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgYXBpKClgfTwvaW5saW5lQ29kZT57YCBiZWZvcmUgcmV0dXJuaW5nIGl0IGZyb20gYSBzdGF0ZSBmYWN0b3J5OmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIlxuICAgICAgfX0+e2BpbXBvcnQgeyBhcGksIGF0b20gfSBmcm9tICdAemVkdXgvcmVhY3QnXG5cbmNvbnN0IGV4YW1wbGVBdG9tID0gYXRvbSgnZXhhbXBsZScsICgpID0+ICdpbml0aWFsIHN0YXRlJykgLy8gYmVmb3JlXG5jb25zdCBleGFtcGxlQXRvbSA9IGF0b20oJ2V4YW1wbGUnLCAoKSA9PiBhcGkoJ2luaXRpYWwgc3RhdGUnKSkgLy8gYWZ0ZXJcbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxwPntgVGhpcyB3b3JrcyB3aXRoIHN0b3JlcyB0b286YH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c1wiXG4gICAgICB9fT57YGNvbnN0IGV4YW1wbGVBdG9tID0gYXRvbSgnZXhhbXBsZScsICgpID0+IHtcbiAgY29uc3Qgc3RvcmUgPSBpbmplY3RTdG9yZSgpXG5cbiAgcmV0dXJuIHN0b3JlIC8vIGJlZm9yZVxuICByZXR1cm4gYXBpKHN0b3JlKSAvLyBhZnRlclxufSlcbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxwPntgWW91IGNhbiBjcmVhdGUgYW4gQXRvbSBBUEkgYW55d2hlcmUsIGJ1dCBvbmx5IHRoZSBBdG9tIEFQSSByZXR1cm5lZCBmcm9tIHRoZSBzdGF0ZSBmYWN0b3J5IHdpbGwgYmVjb21lIGB9PGVtIHBhcmVudE5hbWU9XCJwXCI+e2B0aGVgfTwvZW0+e2AgQVBJIG9mIHRoZSBhdG9tLmB9PC9wPlxuICAgIDxwPntgU28gbm93IHRoZW4gLi4uIHdoYXQgY2FuIGFuIEF0b20gQVBJIGRvP2B9PC9wPlxuICAgIDxoMiB7Li4ue1xuICAgICAgXCJpZFwiOiBcImV4cG9ydHNcIlxuICAgIH19PntgRXhwb3J0c2B9PC9oMj5cbiAgICA8cD57YEF0b21zIGNhbiBleHBvcnQgYW55dGhpbmcgdmlhIGEgcmV0dXJuZWQgQXRvbSBBUEk6YH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c3hcIixcbiAgICAgICAgXCJtZXRhc3RyaW5nXCI6IFwibGl2ZSBlY29zeXN0ZW1JZD1hdG9tLWFwaXMvZXhwb3J0cyByZXN1bHRWYXI9QXBwXCIsXG4gICAgICAgIFwibGl2ZVwiOiB0cnVlLFxuICAgICAgICBcImVjb3N5c3RlbUlkXCI6IFwiYXRvbS1hcGlzL2V4cG9ydHNcIixcbiAgICAgICAgXCJyZXN1bHRWYXJcIjogXCJBcHBcIlxuICAgICAgfX0+e2Bjb25zdCBjb3VudGVyQXRvbSA9IGF0b20oJ2NvdW50ZXInLCAoKSA9PiB7XG4gIGNvbnN0IHN0b3JlID0gaW5qZWN0U3RvcmUoMClcblxuICAvLyBFeHBvc2UgbWV0aG9kcyFcbiAgcmV0dXJuIGFwaShzdG9yZSkuc2V0RXhwb3J0cyh7XG4gICAgZGVjcmVtZW50OiAoKSA9PiBzdG9yZS5zZXRTdGF0ZShzdGF0ZSA9PiBzdGF0ZSAtIDEpLFxuICAgIGluY3JlbWVudDogKCkgPT4gc3RvcmUuc2V0U3RhdGUoc3RhdGUgPT4gc3RhdGUgKyAxKSxcbiAgfSlcbn0pXG5cbmZ1bmN0aW9uIEFwcCgpIHtcbiAgY29uc3QgeyBkZWNyZW1lbnQsIGluY3JlbWVudCB9ID0gdXNlQXRvbUluc3RhbmNlKGNvdW50ZXJBdG9tKS5leHBvcnRzXG4gIGNvbnN0IHZhbHVlID0gdXNlQXRvbVZhbHVlKGNvdW50ZXJBdG9tKVxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxkaXY+Q291bnRlcjoge3ZhbHVlfTwvZGl2PlxuICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtpbmNyZW1lbnR9PkluY3JlbWVudDwvYnV0dG9uPlxuICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtkZWNyZW1lbnR9PkRlY3JlbWVudDwvYnV0dG9uPlxuICAgIDwvPlxuICApXG59XG5gfTwvY29kZT48L3ByZT5cbiAgICA8cD57YEF0b20gQVBJcyBoYXZlIGEgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgLnNldEV4cG9ydHMoKWB9PC9pbmxpbmVDb2RlPntgIG1ldGhvZCB0aGF0IGRlZmluZXMgYW4gYXRvbSBpbnN0YW5jZSdzIGV4cG9ydHMgKHdoZW4gdGhlIGF0b20gQVBJIGlzIHJldHVybmVkIGZyb20gdGhlIHN0YXRlIGZhY3RvcnkpLiBUaGVzZSBleHBvcnRzIGFyZSBzZXQgb24gaW5pdGlhbCBldmFsdWF0aW9uIGFuZCBpZ25vcmVkIG9uIGV2YWx1YXRpb25zIGFmdGVyIHRoYXQuYH08L3A+XG4gICAgPHA+e2BUaGUgZXhwb3J0cyBhcmUgc2V0IG9uIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGluc3RhbmNlLmV4cG9ydHNgfTwvaW5saW5lQ29kZT57YC4gV2hlcmV2ZXIgeW91IGhhdmUgYW4gYXRvbSBpbnN0YW5jZSwgeW91IGhhdmUgYWNjZXNzIHRvIGl0cyBleHBvcnRzLmB9PC9wPlxuICAgIDxwPntgRXhwb3J0cyBtdXN0IGJlIGFuIG9iamVjdCBhbmQgY2FuIGNvbnRhaW4gYW55dGhpbmcuIEFzIHlvdSBjYW4gaW1hZ2luZSwgZXhwb3J0cyBhcmUgYW5vdGhlciBiaWcgZmVhdHVyZSB0aGF0IHNldHMgWmVkdXggYXBhcnQgZnJvbSBvdGhlciBhdG9taWMgbGlicmFyaWVzLmB9PC9wPlxuICAgIDxhZG1vbml0aW9uIHsuLi57XG4gICAgICBcInRpdGxlXCI6IFwiaW1wb3J0YW50XCIsXG4gICAgICBcInR5cGVcIjogXCJpbmZvXCJcbiAgICB9fT48cCBwYXJlbnROYW1lPVwiYWRtb25pdGlvblwiPntgRXhwb3J0cyBhcmUgY29uc3RhbnQhIFRoaXMgbWVhbnMgZXhwb3J0ZWQgdmFyaWFibGVzIHNob3VsZCBiZSBzdGFibGUgcmVmZXJlbmNlcy4gWmVkdXggd29uJ3QgdXBkYXRlIHRoZW0gb24gc3Vic2VxdWVudCBldmFsdWF0aW9ucy4gSW4gdGhpcyBleGFtcGxlLCBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BpbmNyZW1lbnRgfTwvaW5saW5lQ29kZT57YCBhbmQgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgZGVjcmVtZW50YH08L2lubGluZUNvZGU+e2AgYXJlIG5vdCBzdGFibGUgcmVmZXJlbmNlcywgYnV0IHRoZXkgZG9uJ3QgcmVmZXJlbmNlIGFueXRoaW5nIGV4Y2VwdCB0aGUgc3RvcmUsIHdoaWNoIGlzIHN0YWJsZS4gWW91IGhhdmUgdG8gYmUgY29uc2Npb3VzIG9mIHRoaXMuYH08L3A+PC9hZG1vbml0aW9uPlxuICAgIDxhZG1vbml0aW9uIHsuLi57XG4gICAgICBcInR5cGVcIjogXCJ0aXBcIlxuICAgIH19PjxwIHBhcmVudE5hbWU9XCJhZG1vbml0aW9uXCI+e2BUaGluayBvZiBhdG9tIGV4cG9ydHMganVzdCBsaWtlIG1vZHVsZSBleHBvcnRzIGluIEphdmFTY3JpcHQgZmlsZXMuIFlvdSBuZXZlciBjaGFuZ2UgYSBmaWxlJ3MgZXhwb3J0cy4gVGhlcmUncyBubyBuZWVkIHRvISBZb3UgY2FuLCBob3dldmVyLCBtdXRhdGUgb2JqZWN0cyBhbmQgY2hhbmdlIHN0YXRlIGluIHRoZSBmaWxlIHVzaW5nIGV4cG9ydGVkIGZ1bmN0aW9ucy4gVGhhdCdzIGV4YWN0bHkgd2hhdCB5b3UgY2FuIGRvIGluIGF0b21zIHdpdGggaW5qZWN0ZWQgcmVmcyBhbmQgc3RvcmVzLmB9PC9wPjwvYWRtb25pdGlvbj5cbiAgICA8cD57YEV4cG9ydHMgYXJlIGV4dHJlbWVseSBwb3dlcmZ1bC4gRXhwb3NpbmcgYW4gYXRvbSdzIFwicHVibGljIEFQSVwiIGxpa2UgdGhpcyBpcyBqdXN0IG9uZSBvZiB0aGVpciB1c2VzLmB9PC9wPlxuICAgIDxoMyB7Li4ue1xuICAgICAgXCJpZFwiOiBcImV4cG9ydGluZy1yZWZzXCJcbiAgICB9fT57YEV4cG9ydGluZyBSZWZzYH08L2gzPlxuICAgIDxwPntgU2luY2UgeW91IGNhbiBleHBvcnQgYW55dGhpbmcsIHJlZnMgY2FuIGJlIHVzZWQgdG8gZ3JlYXQgZWZmZWN0OmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHN4XCJcbiAgICAgIH19PntgY29uc3QgZ3JpZEF0b20gPSBhdG9tKCdncmlkJywgKCkgPT4ge1xuICBjb25zdCBncmlkQXBpUmVmID0gaW5qZWN0UmVmKClcblxuICAvLyB0aGlzIGF0b20gcHJvdmlkZXMgdW5pdmVyc2FsIGFjY2VzcyB0byB0aGUgZ3JpZCBhcGkgb25jZSBpdCdzIGJlZW4gc2V0OlxuICByZXR1cm4gYXBpKCkuc2V0RXhwb3J0cyh7IGdyaWRBcGlSZWYgfSlcbn0pXG5cbmZ1bmN0aW9uIEdyaWQoKSB7XG4gIGNvbnN0IHsgZ3JpZEFwaVJlZiB9ID0gdXNlQXRvbUluc3RhbmNlKGdyaWRBdG9tKS5leHBvcnRzXG5cbiAgLy8gZXhwb3NlIHRoaXMgZ3JpZCBjb21wb25lbnQncyBhcGkgdG8gdGhlIGF0b20gdW5pdmVyc2UhXG4gIHJldHVybiA8VGhpcmRQYXJ0eUdyaWRMaWJyYXJ5IG9uTG9hZD17YXBpID0+IChncmlkQXBpUmVmLmN1cnJlbnQgPSBhcGkpfSAvPlxufVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPGFkbW9uaXRpb24gey4uLntcbiAgICAgIFwidHlwZVwiOiBcInRpcFwiXG4gICAgfX0+PHAgcGFyZW50TmFtZT1cImFkbW9uaXRpb25cIj48aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgaW5qZWN0UmVmKClgfTwvaW5saW5lQ29kZT57YCBpcyB0aGUgaW5qZWN0b3IgZXF1aXZhbGVudCBvZiBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2B1c2VSZWYoKWB9PC9pbmxpbmVDb2RlPntgLiBFeHBvcnRlZCByZWZzIGNhbiBiZSB1c2VkIGV4YWN0bHkgYXMgUmVhY3QgcmVmcyFgfTwvcD48L2FkbW9uaXRpb24+XG4gICAgPGgzIHsuLi57XG4gICAgICBcImlkXCI6IFwiZXhwb3J0aW5nLWNhbGxiYWNrc1wiXG4gICAgfX0+e2BFeHBvcnRpbmcgQ2FsbGJhY2tzYH08L2gzPlxuICAgIDxwPntgQW5vdGhlciB1c2UgaXMgdG8gZXhwb3J0IGNhbGxiYWNrcyBmb3IgaW1wbGVtZW50aW5nIHJlbmRlci1hcy15b3UtZmV0Y2ggcGF0dGVybnM6YH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c3hcIixcbiAgICAgICAgXCJtZXRhc3RyaW5nXCI6IFwibGl2ZSBlY29zeXN0ZW1JZD1hdG9tLWFwaXMvZXhwb3J0LWNhbGxiYWNrcyByZXN1bHRWYXI9QWdlXCIsXG4gICAgICAgIFwibGl2ZVwiOiB0cnVlLFxuICAgICAgICBcImVjb3N5c3RlbUlkXCI6IFwiYXRvbS1hcGlzL2V4cG9ydC1jYWxsYmFja3NcIixcbiAgICAgICAgXCJyZXN1bHRWYXJcIjogXCJBZ2VcIlxuICAgICAgfX0+e2AvLyBzb21lIG1vY2tzIGZvciB0aGlzIGV4YW1wbGU6XG5jb25zdCBtb2NrRmV0Y2ggPSBkYXRhID0+XG4gIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZShkYXRhKSwgMTAwMClcbiAgfSlcblxuLy8gc3RhcnQgaGVyZTpcbmNvbnN0IHVzZXJOYW1lQXRvbSA9IGF0b20oJ3VzZXJOYW1lJywgKCkgPT4ge1xuICBjb25zdCBzdG9yZSA9IGluamVjdFN0b3JlKHtcbiAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgIG5hbWU6ICdKb2UnLFxuICB9KVxuXG4gIGNvbnN0IHRvZ2dsZVVzZXIgPSBpbmplY3RDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgeyBpc0xvYWRpbmcsIG5hbWUgfSA9IHN0b3JlLmdldFN0YXRlKClcbiAgICBpZiAoaXNMb2FkaW5nKSByZXR1cm5cblxuICAgIHN0b3JlLnNldFN0YXRlRGVlcCh7IGlzTG9hZGluZzogdHJ1ZSB9KVxuXG4gICAgbW9ja0ZldGNoKG5hbWUgPT09ICdKb2UnID8gJ0JvYicgOiAnSm9lJykudGhlbih2YWwgPT5cbiAgICAgIHN0b3JlLnNldFN0YXRlKHsgaXNMb2FkaW5nOiBmYWxzZSwgbmFtZTogdmFsIH0pXG4gICAgKVxuICB9LCBbXSlcblxuICByZXR1cm4gYXBpKHN0b3JlKS5zZXRFeHBvcnRzKHsgdG9nZ2xlVXNlciB9KVxufSlcblxuZnVuY3Rpb24gQWdlKCkge1xuICBjb25zdCB7IHRvZ2dsZVVzZXIgfSA9IHVzZUF0b21JbnN0YW5jZSh1c2VyTmFtZUF0b20pLmV4cG9ydHNcbiAgY29uc3QgeyBpc0xvYWRpbmcsIG5hbWUgfSA9IHVzZUF0b21WYWx1ZSh1c2VyTmFtZUF0b20pXG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPGRpdj5DdXJyZW50IFVzZXIncyBOYW1lOiB7aXNMb2FkaW5nID8gJ0xvYWRpbmcuLi4nIDogbmFtZX08L2Rpdj5cbiAgICAgIDxidXR0b24gb25DbGljaz17dG9nZ2xlVXNlcn0+Q2hhbmdlIFVzZXI8L2J1dHRvbj5cbiAgICA8Lz5cbiAgKVxufVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPGFkbW9uaXRpb24gey4uLntcbiAgICAgIFwidHlwZVwiOiBcInRpcFwiXG4gICAgfX0+PHAgcGFyZW50TmFtZT1cImFkbW9uaXRpb25cIj48aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgaW5qZWN0Q2FsbGJhY2tgfTwvaW5saW5lQ29kZT57YCBpcyB0aGUgaW5qZWN0b3IgZXF1aXZhbGVudCBvZiBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2B1c2VDYWxsYmFja2B9PC9pbmxpbmVDb2RlPntgLiBXZSB1c2VkIGl0IGhlcmUgd2l0aCBlbXB0eSBkZXBzIChgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BbXWB9PC9pbmxpbmVDb2RlPntgKSB0byByZW1pbmQgdXMgdGhhdCB0aGlzIGlzIGFuIGV4cG9ydCBhbmQgaXRzIHJlZmVyZW5jZSBjYW4ndCBjaGFuZ2UuIFRoaXMgbWVhbnMgd2UgY2FuJ3QgdXNlIGFueSBkeW5hbWljIHZhbHVlcyBpbnNpZGUgdGhlIGNhbGxiYWNrIC0gbm90aWNlIHRoYXQgd2UgY2FsbCBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BzdG9yZS5nZXRTdGF0ZSgpYH08L2lubGluZUNvZGU+e2AgaW5zaWRlIHRoZSBjYWxsYmFjayBpbnN0ZWFkIG9mIHNldHRpbmcgaXQgdG8gYSB2YXJpYWJsZSBvdXRzaWRlIHRoZSBjYWxsYmFjayBhbmQgcGFzc2luZyB0aGF0IGFzIGEgZGVwLmB9PC9wPjwvYWRtb25pdGlvbj5cbiAgICA8cD57YFRoaXMgaXMgcG9vciBtYW4ncyBhc3luYyBoYW5kbGluZy4gTGV0J3MgdXBncmFkZSB0byBTdXNwZW5zZS5gfTwvcD5cbiAgICA8aDIgey4uLntcbiAgICAgIFwiaWRcIjogXCJzdXNwZW5zZVwiXG4gICAgfX0+e2BTdXNwZW5zZWB9PC9oMj5cbiAgICA8cD57YEF0b21zIGNhbiBiZSB1c2VkIGFzIHN1c3BlbmRpbmcgcmVzb3VyY2VzIGluIFJlYWN0LiBUbyBzdXNwZW5kLCBzaW1wbHkgcGFzcyBhIHByb21pc2UgdG8gYSByZXR1cm5lZCBBdG9tIEFQSSdzIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YC5zZXRQcm9taXNlKClgfTwvaW5saW5lQ29kZT57YCBtZXRob2Q6YH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c1wiXG4gICAgICB9fT57YHJldHVybiBhcGkodmFsKS5zZXRQcm9taXNlKHN1c3BlbnNlUHJvbWlzZSlcbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxwPntgQW4gYXRvbSB0aGF0IHJldHVybnMgc3VjaCBhbiBhcGkgd2lsbCBjYXVzZSBSZWFjdCB0byBzdXNwZW5kIHVudGlsIHRoZSBwcm9taXNlIHJlc29sdmVzLmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHN4XCIsXG4gICAgICAgIFwibWV0YXN0cmluZ1wiOiBcImxpdmUgZWNvc3lzdGVtSWQ9YXRvbS1hcGlzL2FwaS1zZXQtcHJvbWlzZSByZXN1bHRWYXI9QXBwXCIsXG4gICAgICAgIFwibGl2ZVwiOiB0cnVlLFxuICAgICAgICBcImVjb3N5c3RlbUlkXCI6IFwiYXRvbS1hcGlzL2FwaS1zZXQtcHJvbWlzZVwiLFxuICAgICAgICBcInJlc3VsdFZhclwiOiBcIkFwcFwiXG4gICAgICB9fT57YGNvbnN0IG1vY2tGZXRjaCA9IGRhdGEgPT5cbiAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKGRhdGEpLCAxMDAwKVxuICB9KVxuXG5jb25zdCBhZ2VBdG9tID0gYXRvbSgnYWdlJywgKCkgPT4ge1xuICBjb25zdCBzdG9yZSA9IGluamVjdFN0b3JlKHVuZGVmaW5lZCwgeyBzdWJzY3JpYmU6IGZhbHNlIH0pXG5cbiAgLy8gQW4gaW5saW5lIHNpZGUgZWZmZWN0Pz8gV2UnbGwgY292ZXIgdGhpcyBpbiB0aGUgc3VzcGVuc2Ugd2Fsa3Rocm91Z2hcbiAgY29uc3QgcHJvbWlzZSA9IG1vY2tGZXRjaChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApKVxuICBwcm9taXNlLnRoZW4odmFsID0+IHN0b3JlLnNldFN0YXRlKHZhbCkpXG5cbiAgcmV0dXJuIGFwaShzdG9yZSkuc2V0UHJvbWlzZShwcm9taXNlKVxufSlcblxuZnVuY3Rpb24gQWdlKCkge1xuICBjb25zdCBpbnN0YW5jZSA9IHVzZUF0b21JbnN0YW5jZShhZ2VBdG9tKVxuICBjb25zdCBhZ2UgPSB1c2VBdG9tVmFsdWUoYWdlQXRvbSlcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8ZGl2PlRoZSBUaW1lIFRyYXZlbGxlcidzIEFnZToge2FnZX08L2Rpdj5cbiAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gaW5zdGFuY2UuaW52YWxpZGF0ZSgpfT5SZWZyZXNoPC9idXR0b24+XG4gICAgPC8+XG4gIClcbn1cblxuZnVuY3Rpb24gQXBwKCkge1xuICByZXR1cm4gKFxuICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17PGRpdj5GZXRjaGluZyBBZ2UuLi48L2Rpdj59PlxuICAgICAgPEFnZSAvPlxuICAgIDwvU3VzcGVuc2U+XG4gIClcbn1cbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxhZG1vbml0aW9uIHsuLi57XG4gICAgICBcInR5cGVcIjogXCJub3RlXCJcbiAgICB9fT48cCBwYXJlbnROYW1lPVwiYWRtb25pdGlvblwiPntgVW5saWtlIGV4cG9ydHMsIHRoZSBwcm9taXNlIGNhbiBjaGFuZ2UhIEJlIHN1cmUgdG8gcmV0dXJuIGEgc3RhYmxlIHJlZmVyZW5jZSBpZiB5b3UgZG9uJ3Qgd2FudCB0aGUgYXRvbSBpbnN0YW5jZSB0byBraWNrIG9mZiBzdXNwZW5zZSBhZ2FpbiBvbiByZWV2YWx1YXRpb25zLmB9PC9wPjwvYWRtb25pdGlvbj5cbiAgICA8cD57YFdlJ2xsIGNvdmVyIG11Y2ggbW9yZSBhYm91dCBzdXNwZW5zZSBpbiBgfTxhIHBhcmVudE5hbWU9XCJwXCIgey4uLntcbiAgICAgICAgXCJocmVmXCI6IFwic3VzcGVuc2VcIlxuICAgICAgfX0+e2B0aGUgc3VzcGVuc2Ugd2Fsa3Rocm91Z2hgfTwvYT57YC5gfTwvcD5cbiAgICA8aDMgey4uLntcbiAgICAgIFwiaWRcIjogXCJxdWVyeS1hdG9tc1wiXG4gICAgfX0+e2BRdWVyeSBBdG9tc2B9PC9oMz5cbiAgICA8cD57YFlvdSBjYW4gYWxzbyBwYXNzIGEgcHJvbWlzZSBkaXJlY3RseSB0byBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BhcGkoKWB9PC9pbmxpbmVDb2RlPntgLiBUaGlzIHRlbGxzIFplZHV4IHRvIHRha2UgY29udHJvbCBvdmVyIHRoZSBhdG9tJ3Mgc3RhdGUgYW5kIHVwZGF0ZSBpdCBiYXNlZCBvbiB0aGUgcHJvbWlzZS4gVGhlIHN0YXRlIHNoYXBlIGlzIHNpbWlsYXIgdG8gUmVhY3QgUXVlcnkgcXVlcmllcy4gQmVjYXVzZSBvZiB0aGlzLCB3ZSBjYWxsIHN1Y2ggYXRvbXMgXCJxdWVyeSBhdG9tc1wiOmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHN4XCIsXG4gICAgICAgIFwibWV0YXN0cmluZ1wiOiBcImxpdmUgZWNvc3lzdGVtSWQ9YXRvbS1hcGlzL2FwaS1wcm9taXNlIHJlc3VsdFZhcj1BcHBcIixcbiAgICAgICAgXCJsaXZlXCI6IHRydWUsXG4gICAgICAgIFwiZWNvc3lzdGVtSWRcIjogXCJhdG9tLWFwaXMvYXBpLXByb21pc2VcIixcbiAgICAgICAgXCJyZXN1bHRWYXJcIjogXCJBcHBcIlxuICAgICAgfX0+e2Bjb25zdCBtb2NrRmV0Y2ggPSBkYXRhID0+XG4gIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZShkYXRhKSwgMTAwMClcbiAgfSlcblxuY29uc3QgYWdlQXRvbSA9IGF0b20oJ2FnZScsICgpID0+IHtcbiAgY29uc3QgcHJvbWlzZSA9IG1vY2tGZXRjaChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApKVxuXG4gIC8vIGp1c3QgcGFzcyB0aGUgcHJvbWlzZSFcbiAgcmV0dXJuIGFwaShwcm9taXNlKVxufSlcblxuZnVuY3Rpb24gQWdlKCkge1xuICBjb25zdCBpbnN0YW5jZSA9IHVzZUF0b21JbnN0YW5jZShhZ2VBdG9tKVxuXG4gIC8vIHRoZSBwcm9taXNlIHJlc3VsdCB3aWxsIGJlIHNldCBhcyB0aGUgc3RhdGUncyBcXGBkYXRhXFxgIHByb3BlcnR5LlxuICAvLyBZb3Ugc2hvdWxkIHJlY29nbml6ZSB0aGlzIGlmIHlvdSBrbm93IFJlYWN0IFF1ZXJ5LlxuICBjb25zdCB7IGRhdGEgfSA9IHVzZUF0b21WYWx1ZShhZ2VBdG9tKVxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxkaXY+VGhlIFRpbWUgVHJhdmVsbGVyJ3MgQWdlOiB7ZGF0YX08L2Rpdj5cbiAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gaW5zdGFuY2UuaW52YWxpZGF0ZSgpfT5SZWZyZXNoPC9idXR0b24+XG4gICAgPC8+XG4gIClcbn1cblxuZnVuY3Rpb24gQXBwKCkge1xuICByZXR1cm4gKFxuICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17PGRpdj5GZXRjaGluZyBBZ2UuLi48L2Rpdj59PlxuICAgICAgPEFnZSAvPlxuICAgIDwvU3VzcGVuc2U+XG4gIClcbn1cbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxhZG1vbml0aW9uIHsuLi57XG4gICAgICBcInR5cGVcIjogXCJub3RlXCJcbiAgICB9fT48bWR4QWRtb25pdGlvblRpdGxlIHBhcmVudE5hbWU9XCJhZG1vbml0aW9uXCI+e2B3aHkgY2FuJ3QgSSByZXR1cm4gYSBwcm9taXNlIHdpdGhvdXQgdXNpbmcgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwibWR4QWRtb25pdGlvblRpdGxlXCI+e2BhcGkoKWB9PC9pbmxpbmVDb2RlPntgP2B9PC9tZHhBZG1vbml0aW9uVGl0bGU+PHAgcGFyZW50TmFtZT1cImFkbW9uaXRpb25cIj57YEluIFplZHV4LCBhdG9tcyBhbHdheXMgZXZhbHVhdGUgc3luY2hyb25vdXNseS4gVGhpcyBhbGxvd3MgWmVkdXgncyBESSB0byBiZSBhcyBkeW5hbWljIGFzIHBvc3NpYmxlIGFuZCBzaW1wbGlmaWVzIGEgbG90IGZvciB5b3UuIEl0IGFsc28gbWVhbnMgdGhhdCBzdGF0ZSBmYWN0b3JpZXMgY2FuJ3QgYmUgYXN5bmNocm9ub3VzIGZ1bmN0aW9ucy5gfTwvcD48cCBwYXJlbnROYW1lPVwiYWRtb25pdGlvblwiPntgU2luY2UgcmV0dXJuaW5nIGEgcHJvbWlzZSBhbmQgZGVjbGFyaW5nIGFuIGFzeW5jIGZ1bmN0aW9uIGFyZSBlc3NlbnRpYWxseSB0aGUgc2FtZSB0aGluZyAoZXNwZWNpYWxseSBpbiBUeXBlc2NyaXB0J3MgZXllcyksIHdlIGZvdW5kIGl0IGJldHRlciB0byBkaXNhbGxvdyByZXR1cm5pbmcgYSBwcm9taXNlIGRpcmVjdGx5LiBKdXN0IHdyYXAgeW91ciBwcm9taXNlIGluIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGFwaShwcm9taXNlKWB9PC9pbmxpbmVDb2RlPntgLmB9PC9wPjwvYWRtb25pdGlvbj5cbiAgICA8cD57YFF1ZXJ5IGF0b21zIGdldCBgfTxhIHBhcmVudE5hbWU9XCJwXCIgey4uLntcbiAgICAgICAgXCJocmVmXCI6IFwicXVlcnktYXRvbXNcIlxuICAgICAgfX0+e2B0aGVpciBvd24gd2Fsa3Rocm91Z2hgfTwvYT57YC5gfTwvcD5cbiAgICA8aDIgey4uLntcbiAgICAgIFwiaWRcIjogXCJwcm9wZXJ0aWVzXCJcbiAgICB9fT57YFByb3BlcnRpZXNgfTwvaDI+XG4gICAgPHA+e2BUaGUgb2JqZWN0IHJldHVybmVkIGZyb20gYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgYXBpKClgfTwvaW5saW5lQ29kZT57YCBpcyBhbiBpbnN0YW5jZSBvZiBgfTxhIHBhcmVudE5hbWU9XCJwXCIgey4uLntcbiAgICAgICAgXCJocmVmXCI6IFwiLi4vYXBpL2NsYXNzZXMvQXRvbUFwaVwiXG4gICAgICB9fT57YHRoZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJhXCI+e2BBdG9tQXBpYH08L2lubGluZUNvZGU+e2AgY2xhc3NgfTwvYT57YC4gSXQgaGFzIGEgZmV3IGB9PHN0cm9uZyBwYXJlbnROYW1lPVwicFwiPntgcmVhZG9ubHlgfTwvc3Ryb25nPntgIHByb3BlcnRpZXMgdGhhdCByZWZlcmVuY2UgdGhlIHZhbHVlcyB5b3Ugc2V0IG9uIGl0OmB9PC9wPlxuICAgIDx1bD5cbiAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj48aW5saW5lQ29kZSBwYXJlbnROYW1lPVwibGlcIj57YC52YWx1ZWB9PC9pbmxpbmVDb2RlPntgIC0gVGhlIHZhbHVlIHBhc3NlZCB0byBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgYXBpKClgfTwvaW5saW5lQ29kZT57YC5gfTwvbGk+XG4gICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImxpXCI+e2AuZXhwb3J0c2B9PC9pbmxpbmVDb2RlPntgIC0gVGhlIGV4cG9ydHMgc2V0IHZpYSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgYXBpKCkuc2V0RXhwb3J0cygpYH08L2lubGluZUNvZGU+e2AgYW5kIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImxpXCI+e2BhcGkoKS5hZGRFeHBvcnRzKClgfTwvaW5saW5lQ29kZT57YC5gfTwvbGk+XG4gICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImxpXCI+e2AucHJvbWlzZWB9PC9pbmxpbmVDb2RlPntgIC0gVGhlIHByb21pc2Ugc2V0IHZpYSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgYXBpKCkuc2V0UHJvbWlzZSgpYH08L2lubGluZUNvZGU+e2AuYH08L2xpPlxuICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPjxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgLnN0b3JlYH08L2lubGluZUNvZGU+e2AgLSBUaGUgc3RvcmUgcGFzc2VkIHRvIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImxpXCI+e2BhcGkoKWB9PC9pbmxpbmVDb2RlPntgLiBJZiBhIG5vbi1zdG9yZSB2YWx1ZSB3YXMgcGFzc2VkLCB0aGlzIGlzIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImxpXCI+e2B1bmRlZmluZWRgfTwvaW5saW5lQ29kZT57YC5gfTwvbGk+XG4gICAgPC91bD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzXCJcbiAgICAgIH19PntgY29uc3QgbXlBcGkgPSBhcGkobXlTdG9yZSkuc2V0RXhwb3J0cyhteUV4cG9ydHMpLnNldFByb21pc2UobXlQcm9taXNlKVxuXG5teUFwaS52YWx1ZSA9PT0gbXlTdG9yZVxubXlBcGkuZXhwb3J0cyA9PT0gbXlFeHBvcnRzXG5teUFwaS5wcm9taXNlID09PSBteVByb21pc2Vcbm15QXBpLnN0b3JlID09PSBteVN0b3JlXG5gfTwvY29kZT48L3ByZT5cbiAgICA8aDIgey4uLntcbiAgICAgIFwiaWRcIjogXCJhdG9tLWFwaS1jb21wb3NpdGlvblwiXG4gICAgfX0+e2BBdG9tIEFQSSBDb21wb3NpdGlvbmB9PC9oMj5cbiAgICA8cD57YEFuIEF0b20gQVBJIGNhbiBiZSBjbG9uZWQgYnkgcGFzc2luZyBpdCB0byBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BhcGkoKWB9PC9pbmxpbmVDb2RlPntgLmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIlxuICAgICAgfX0+e2BpbXBvcnQgeyBhcGkgfSBmcm9tICdAemVkdXgvcmVhY3QnXG5cbmNvbnN0IG15QXBpID0gYXBpKCdzb21lIHN0YXRlJykuc2V0RXhwb3J0cyh7IHNvbWV0aGluZyB9KVxuY29uc3QgY2xvbmVkQXBpID0gYXBpKG15QXBpKSAvLyBoYXMgdGhlIHNhbWUgdmFsdWUgYW5kIGV4cG9ydHNcbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxwPntgQXRvbSBBUElzIGFyZSBhIGNvbnZlbmllbnQgd2F5IHRvIHBhc3Mgc3RvcmVzLCBleHBvcnRzLCBhbmQgcHJvbWlzZXMgYXJvdW5kLiBZb3UgbWF5IGZpbmQgeW91cnNlbGYgd29ya2luZyB3aXRoIG11bHRpcGxlIEF0b20gQVBJcyB3aGVuIHVzaW5nIGN1c3RvbSBpbmplY3RvcnMuYH08L3A+XG4gICAgPHA+e2BBdG9tIEFQSXMgaGF2ZSBhIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YC5hZGRFeHBvcnRzKClgfTwvaW5saW5lQ29kZT57YCBtZXRob2Qgc3BlY2lmaWNhbGx5IGZvciBtZXJnaW5nIGV4cG9ydHMgdG9nZXRoZXIgZnJvbSBtdWx0aXBsZSBzb3VyY2VzOmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIlxuICAgICAgfX0+e2Bjb25zdCBjb21wbGV4QXRvbSA9IGF0b20oJ2NvbXBsZXgnLCAoKSA9PiB7XG4gIC8vIHNheSB0aGVzZSB0d28gaW5qZWN0b3JzIHJldHVybiBBdG9tQXBpczpcbiAgY29uc3QgYXBpQSA9IGluamVjdEEoKVxuICBjb25zdCBhcGlCID0gaW5qZWN0QigpXG5cbiAgLy8gc2F5IHdlIHdhbnQgdG8gZXhwb3NlIGFwaUEncyBzdGF0ZSAob3Igc3RvcmUpIGFzIHRoZSBzdGF0ZSBvZiB0aGlzIGF0b20sXG4gIC8vIGJ1dCB3ZSB3YW50IHRoZSBleHBvcnRzIGZyb20gYm90aCBBUElzOlxuICByZXR1cm4gYXBpKGFwaUEpLmFkZEV4cG9ydHMoYXBpQi5leHBvcnRzKSAvLyBtZXJnZSBhcGlCJ3MgZXhwb3J0cyBpbnRvIGFwaUEnc1xufSlcbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxwPntgSWYgeW91IGhhdmUgbXVsdGlwbGUgQXRvbSBBUElzIHdpdGggc3RvcmVzIGF0dGFjaGVkLCB5b3UgY2FuIGFsc28gdXNlIHN0b3JlIGNvbXBvc2l0aW9uIHRvIGNyZWF0ZSBhIG5ldyBBdG9tIEFQSSBmcm9tIHRoZSBpbmplY3RlZCBBUElzOmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIlxuICAgICAgfX0+e2Bjb25zdCBhcGlBID0gaW5qZWN0QSgpXG5jb25zdCBhcGlCID0gaW5qZWN0QigpXG5cbmNvbnN0IGNvbXBvc2VkU3RvcmUgPSBpbmplY3RTdG9yZSgpXG5jb21wb3NlZFN0b3JlLnVzZSh7IGE6IGFwaUEuc3RvcmUsIGI6IGFwaUIuc3RvcmUgfSlcblxucmV0dXJuIGFwaShjb21wb3NlZFN0b3JlKS5zZXRFeHBvcnRzKHtcbiAgLi4uYXBpQS5leHBvcnRzLFxuICAuLi5hcGlCLmV4cG9ydHMsXG59KVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPGgzIHsuLi57XG4gICAgICBcImlkXCI6IFwicHJvbWlzZXNcIlxuICAgIH19PntgUHJvbWlzZXNgfTwvaDM+XG4gICAgPHA+e2BVbmxpa2UgUmVjb2lsLCBaZWR1eCBkb2Vzbid0IHByb3ZpZGUgYW55IHByb21pc2UgdXRpbGl0aWVzIGxpa2UgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgd2FpdEZvckFsbGB9PC9pbmxpbmVDb2RlPntgL2B9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YHdhaXRGb3JOb25lYH08L2lubGluZUNvZGU+e2AuIFRoaXMgaXMgYmVjYXVzZSBaZWR1eCByZWxpbnF1aXNoZXMgYWxsIGNvbnRyb2wgb3ZlciBhc3luYyBmbG93cyB0byB5b3UsIHRoZSBwcm9ncmFtbWVyLiBUaGlzIG1lYW5zIHlvdSBjYW4gdXNlIG5hdGl2ZSBQcm9taXNlIEFQSXMgb3IgYW55IG90aGVyIGFzeW5jIHRvb2wgKHJlYWQgUnhKUykgdG8gY29udHJvbCBhc3luYyBmbG93cy5gfTwvcD5cbiAgICA8cD57YExldCdzIGxvb2sgYXQgYW4gZXhhbXBsZSB1c2luZyBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BQcm9taXNlLmFsbCgpYH08L2lubGluZUNvZGU+e2AgdG8gXCJjb21wb3NlXCIgcHJvbWlzZXMgdG9nZXRoZXIgZnJvbSBtdWx0aXBsZSBzb3VyY2VzOmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHN4XCIsXG4gICAgICAgIFwibWV0YXN0cmluZ1wiOiBcImxpdmUgZWNvc3lzdGVtSWQ9YXRvbS1hcGlzL3Byb21pc2UtYWxsIHJlc3VsdFZhcj1BcHBcIixcbiAgICAgICAgXCJsaXZlXCI6IHRydWUsXG4gICAgICAgIFwiZWNvc3lzdGVtSWRcIjogXCJhdG9tLWFwaXMvcHJvbWlzZS1hbGxcIixcbiAgICAgICAgXCJyZXN1bHRWYXJcIjogXCJBcHBcIlxuICAgICAgfX0+e2Bjb25zdCB3YWl0ID0gKG1zOiBudW1iZXIpID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpXG5cbmNvbnN0IG9uZVNlY29uZEF0b20gPSBhdG9tKCdvbmVTZWNvbmQnLCAoKSA9PlxuICBhcGkoJ2dvdCBvbmUhJykuc2V0UHJvbWlzZSh3YWl0KDEwMDApKVxuKVxuXG5jb25zdCB0d29TZWNvbmRzQXRvbSA9IGF0b20oJ3R3b1NlY29uZHMnLCAoKSA9PlxuICBhcGkoJ2dvdCB0d28hJykuc2V0UHJvbWlzZSh3YWl0KDIwMDApKVxuKVxuXG5jb25zdCBib3RoQXRvbSA9IGF0b20oJ2JvdGgnLCAoKSA9PiB7XG4gIGNvbnN0IGluc3RhbmNlMSA9IGluamVjdEF0b21JbnN0YW5jZShvbmVTZWNvbmRBdG9tKVxuICBjb25zdCBpbnN0YW5jZTIgPSBpbmplY3RBdG9tSW5zdGFuY2UodHdvU2Vjb25kc0F0b20pXG5cbiAgLy8gbWVtb2l6ZSB0byBvbmx5IGNyZWF0ZSBhIG5ldyBwcm9taXNlIHdoZW4gZGVwZW5kZW5jeSBwcm9taXNlcyBjaGFuZ2VcbiAgY29uc3QgcHJvbWlzZSA9IGluamVjdE1lbW8oXG4gICAgKCkgPT4gUHJvbWlzZS5hbGwoW2luc3RhbmNlMS5wcm9taXNlLCBpbnN0YW5jZTIucHJvbWlzZV0pLFxuICAgIFtpbnN0YW5jZTEucHJvbWlzZSwgaW5zdGFuY2UyLnByb21pc2VdXG4gIClcblxuICByZXR1cm4gYXBpKCdnb3QgYm90aCEnKS5zZXRQcm9taXNlKHByb21pc2UpXG59KVxuXG5jb25zdCBPbmUgPSAoKSA9PiA8ZGl2Pnt1c2VBdG9tVmFsdWUob25lU2Vjb25kQXRvbSl9PC9kaXY+XG5jb25zdCBUd28gPSAoKSA9PiA8ZGl2Pnt1c2VBdG9tVmFsdWUodHdvU2Vjb25kc0F0b20pfTwvZGl2PlxuY29uc3QgQm90aCA9ICgpID0+IDxkaXY+e3VzZUF0b21WYWx1ZShib3RoQXRvbSl9PC9kaXY+XG5cbmNvbnN0IEFwcCA9ICgpID0+IChcbiAgPD5cbiAgICA8U3VzcGVuc2UgZmFsbGJhY2s9ezxkaXY+V2FpdGluZyBmb3IgIzE8L2Rpdj59PlxuICAgICAgPE9uZSAvPlxuICAgIDwvU3VzcGVuc2U+XG4gICAgPFN1c3BlbnNlIGZhbGxiYWNrPXs8ZGl2PldhaXRpbmcgZm9yICMyPC9kaXY+fT5cbiAgICAgIDxUd28gLz5cbiAgICA8L1N1c3BlbnNlPlxuICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17PGRpdj5XYWl0aW5nIGZvciBib3RoPC9kaXY+fT5cbiAgICAgIDxCb3RoIC8+XG4gICAgPC9TdXNwZW5zZT5cbiAgPC8+XG4pXG5gfTwvY29kZT48L3ByZT5cbiAgICA8YWRtb25pdGlvbiB7Li4ue1xuICAgICAgXCJ0eXBlXCI6IFwidGlwXCJcbiAgICB9fT48cCBwYXJlbnROYW1lPVwiYWRtb25pdGlvblwiPntgQ2xpY2sgXCJSZXNldFwiIGluIHRoZSBhYm92ZSBzYW5kYm94IHRvIHNlZSB0aGUgcHJvbWlzZXMgY2FzY2FkZS5gfTwvcD48L2FkbW9uaXRpb24+XG4gICAgPGgyIHsuLi57XG4gICAgICBcImlkXCI6IFwicmVjYXBcIlxuICAgIH19PntgUmVjYXBgfTwvaDI+XG4gICAgPHVsPlxuICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPntgQ3JlYXRlIGFuIEF0b20gQVBJIHdpdGggYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwibGlcIj57YGFwaShzdGF0ZU9yU3RvcmUpYH08L2lubGluZUNvZGU+e2AuIFJldHVybiBhbiBBdG9tIEFQSSBmcm9tIGEgc3RhdGUgZmFjdG9yeSB0byBtYWtlIGl0IGB9PHN0cm9uZyBwYXJlbnROYW1lPVwibGlcIj57YHRoZWB9PC9zdHJvbmc+e2AgQVBJIG9mIHRoZSBhdG9tLmB9PC9saT5cbiAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj57YFVzZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgLnNldEV4cG9ydHMoKWB9PC9pbmxpbmVDb2RlPntgIHRvIFwiZXhwb3J0XCIgYW4gb2JqZWN0IHRvIHRoZSBpbnN0YW5jZSdzIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImxpXCI+e2AuZXhwb3J0c2B9PC9pbmxpbmVDb2RlPntgIHByb3BlcnR5LmB9PC9saT5cbiAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj57YE1ha2UgYXRvbXMgdHJpZ2dlciBSZWFjdCBzdXNwZW5zZSB3aXRoIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImxpXCI+e2Auc2V0UHJvbWlzZShteVByb21pc2UpYH08L2lubGluZUNvZGU+e2AuYH08L2xpPlxuICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPntgTWFrZSBaZWR1eCBjb250cm9sIHByb21pc2Ugc3RhdGUgYnkgcmV0dXJuaW5nIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImxpXCI+e2BhcGkobXlQcm9taXNlKWB9PC9pbmxpbmVDb2RlPntgLmB9PC9saT5cbiAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj57YENsb25lIEF0b20gQVBJcyB3aXRoIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImxpXCI+e2BhcGkobXlBcGkpYH08L2lubGluZUNvZGU+e2AuYH08L2xpPlxuICAgIDwvdWw+XG4gICAgPGgyIHsuLi57XG4gICAgICBcImlkXCI6IFwibmV4dC1zdGVwc1wiXG4gICAgfX0+e2BOZXh0IFN0ZXBzYH08L2gyPlxuICAgIDxwPntgWW91J3ZlIG5vdyB1bmxvY2tlZCBzb21lIG9mIHRoZSBzdHJvbmdlciBwb3dlcnMgb2YgWmVkdXggYXRvbXMuIEl0J3MgdGltZSB0byB6b29tIG91dCBhbmQgbG9vayBhdCB0aGUgYH08YSBwYXJlbnROYW1lPVwicFwiIHsuLi57XG4gICAgICAgIFwiaHJlZlwiOiBcImVjb3N5c3RlbXNcIlxuICAgICAgfX0+e2BiaWdnZXIgcGljdHVyZWB9PC9hPntgLmB9PC9wPlxuICAgIDwvTURYTGF5b3V0Pjtcbn1cbjtcbk1EWENvbnRlbnQuaXNNRFhDb21wb25lbnQgPSB0cnVlO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwibWR4IiwiZnJvbnRNYXR0ZXIiLCJpZCIsInRpdGxlIiwiY29udGVudFRpdGxlIiwidW5kZWZpbmVkIiwibWV0YWRhdGEiLCJhc3NldHMiLCJ0b2MiLCJ2YWx1ZSIsImxldmVsIiwibGF5b3V0UHJvcHMiLCJNRFhMYXlvdXQiLCJNRFhDb250ZW50IiwiY29tcG9uZW50cyIsInByb3BzIiwiaXNNRFhDb21wb25lbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3260\n')}}]);