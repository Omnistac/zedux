"use strict";(self.webpackChunkzedux_docs=self.webpackChunkzedux_docs||[]).push([[3249],{6229:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "assets": function() { return /* binding */ assets; },\n/* harmony export */   "contentTitle": function() { return /* binding */ contentTitle; },\n/* harmony export */   "default": function() { return /* binding */ MDXContent; },\n/* harmony export */   "frontMatter": function() { return /* binding */ frontMatter; },\n/* harmony export */   "metadata": function() { return /* binding */ metadata; },\n/* harmony export */   "toc": function() { return /* binding */ toc; }\n/* harmony export */ });\n/* harmony import */ var _Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7462);\n/* harmony import */ var _Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_objectWithoutPropertiesLoose_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3366);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7294);\n/* harmony import */ var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3905);\nvar _excluded=["components"];/* @jsxRuntime classic */ /* @jsx mdx */ /* @jsxFrag React.Fragment */var frontMatter={id:\'react-query-comparison\',title:\'React Query Comparison\'};var contentTitle=undefined;var metadata={"unversionedId":"about/react-query-comparison","id":"about/react-query-comparison","title":"React Query Comparison","description":"While Zedux doesn\'t (yet!) provide helpers for query operations (infinite scrolling, pagination, etc), Zedux is currently patterned after React Query more than any other library (yes, more than Redux or Recoil). React Query\'s cache management is unparalleled. So Zedux\' atomic model borrows a lot of ideas from it.","source":"@site/docs/about/react-query-comparison.mdx","sourceDirName":"about","slug":"/about/react-query-comparison","permalink":"/zedux/docs/about/react-query-comparison","draft":false,"editUrl":"https://github.com/Omnistac/zedux/tree/master/docs/about/react-query-comparison.mdx","tags":[],"version":"current","frontMatter":{"id":"react-query-comparison","title":"React Query Comparison"},"sidebar":"react","previous":{"title":"Redux Comparison","permalink":"/zedux/docs/about/redux-comparison"},"next":{"title":"Quick Start","permalink":"/zedux/docs/walkthrough/quick-start"}};var assets={};var toc=[{value:\'Queries\',id:\'queries\',level:2},{value:\'Dependent Queries\',id:\'dependent-queries\',level:2},{value:\'Mutations\',id:\'mutations\',level:2},{value:\'Invalidation\',id:\'invalidation\',level:2},{value:\'QueryClient\',id:\'queryclient\',level:2},{value:\'Stream Support\',id:\'stream-support\',level:2}];var layoutProps={toc:toc};var MDXLayout="wrapper";function MDXContent(_ref){var components=_ref.components,props=(0,_Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_objectWithoutPropertiesLoose_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(_ref,_excluded);return (0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)(MDXLayout,(0,_Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"While Zedux doesn\'t (yet!) provide helpers for query operations (infinite scrolling, pagination, etc), Zedux is currently patterned after React Query more than any other library (yes, more than Redux or Recoil). React Query\'s cache management is unparalleled. So Zedux\' atomic model borrows a lot of ideas from it."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"However, the purpose of Zedux is very different from React Query. React Query is designed around promises - managing their state, side effects, and result caches. Zedux is designed to manage both application state (a la Redux/Recoil) and cached server data. Zedux has ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("em",{parentName:"p"},"some")," special features for handling promises, but currently very little compared React Query."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"queries"},"Queries"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Structurally, Zedux ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"../api/classes/Atom"},"atoms")," are very similar to React Query ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"https://react-query.tanstack.com/guides/queries"},"queries"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("ul",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Query keys and atom keys are constructed from a \\"deterministic\\" hash of their parameters."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"For destroying stale instances: Atoms have ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"li","href":"../api/classes/Atom#ttl"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"a"},"ttl")),". Queries have ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"cacheTime"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"For suspense: Atoms have ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"li","href":"../api/classes/AtomApi#setpromise"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"a"},".setPromise()")),". Queries have ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"suspense"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"For tracking promise state: Zedux has query atoms and ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"li","href":"../api/injectors/injectPromise"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"a"},"injectPromise()")),". Queries track promise state by default.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"A side-by-side comparison, using suspense:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"// React Query:\\nfunction usePosts() {\\n  return useQuery(\\n    \'posts\',\\n    async () => {\\n      const { data } = await axios.get(\'/posts\')\\n      return data\\n    },\\n    { suspense: true }\\n  )\\n}\\n// ... in a component:\\nconst { data } = usePosts()\\n\\n// Zedux:\\nconst postsAtom = atom(\'posts\', () => {\\n  const fetchPosts = async () => {\\n    const { data } = await axios.get(\'/posts\')\\n    return data\\n  }\\n\\n  // `return api(promise)` is how you make query atoms in Zedux\\n  return api(fetchPosts())\\n})\\n// ... in a component:\\nconst { data } = useAtomValue(postsAtom)\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Note that atom state factories can\'t be asynchronous functions. This is because the function body is used to dynamically inject dependencies, building Zedux\' powerful DI graph."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"dependent-queries"},"Dependent Queries"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"In React Query, it\'s up to components to specify query dependencies by passing the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"enabled")," option to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"useQuery"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const { data: user } = useQuery([\'user\', email], getUserByEmail)\\n\\nconst userId = user?.id\\n\\nconst { isIdle, data: projects } = useQuery(\\n  [\'projects\', userId],\\n  getProjectsByUser,\\n  { enabled: !!userId }\\n)\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"In Zedux, atoms are more autonomous. They specify their own dependencies."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const userProjectsAtom = atom(\'userProjects\', (email: string) => {\\n  const user = injectAtomValue(userByEmail, [email])\\n\\n  const userId = user?.id\\n\\n  return injectPromise(() => getProjectsByUser(userId), [userId])\\n})\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Zedux doesn\'t have an ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"idle")," state (currently). The above example would be ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"success")," until ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"userIdAtom")," updates with a value. If you need an ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"idle")," state, open an issue and let\'s discuss!"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"mutations"},"Mutations"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Zedux doesn\'t have a concept of mutations. Mutation functions are typically exported from atoms, but many approaches are possible. Here\'s an example grouping query and mutation operations together in a single atom:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const usersAtom = atom(\'users\', () => {\\n  // a \\"query\\"\\n  const fetchUsers = async () => {\\n    const { data } = await axios.get(\'/users\')\\n    return data\\n  }\\n\\n  const promiseApi = injectPromise(fetchUsers, [])\\n\\n  // a \\"mutation\\"\\n  const updateUser = (id: string, user: User) => {\\n    // we could also easily add an optimistic update right here\\n    await axios.post(`/users/${id}`, user)\\n\\n    // we can do a full refetch (this mimics React Query most closely):\\n    promiseApi.store.setState(await fetchUsers()) // essentially an invalidation\\n    // or just update the record we know changed:\\n    promiseApi.store.setStateDeep({ [id]: user })\\n    // moving that above the .post() is all it takes to do an optimistic update\\n  }\\n\\n  // The query controls the state of this atom. The mutation is exported:\\n  return promiseApi.addExports({ updateUser })\\n})\\n// ... in a component:\\nconst [{ data }, { updateUser }] = useAtomState(usersAtom)\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"invalidation"},"Invalidation"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Because of the mutation differences, Zedux and React Query also have very different concepts of invalidation. React Query is designed around invalidating caches manually with ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"invalidateQueries()"),", especially after mutations."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Zedux allows manual invalidation via ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"../api/classes/AtomInstance#invalidate"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"a"},"instance.invalidate()")),", but use cases for it are rare. Instead, the two approaches demonstrated in the above ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"usersAtom")," example are common ways to go about it:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("ul",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Precisely update state and let updates cascade through the atom graph, automatically rerunning atom state factories/",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"injectEffect")," effects."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Manually rerun \\"query\\" functions like in the above ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"fetchUsers")," example and directly \\"invalidate\\" state via ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"store.setState()"),".")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"queryclient"},"QueryClient"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Zedux ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"../api/classes/Ecosystem"},"ecosystems")," are patterned after React Query\'s ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"https://react-query.tanstack.com/reference/QueryClient"},"QueryClient"),". They both create autonomous environments for managing ","[atoms|queries]"," that can be used outside React and are especially useful for testing."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"stream-support"},"Stream Support"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"React Query can work with sockets without too much hassle. But React Query is designed for promises. Zedux atoms are designed to support any asynchronous architecture."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"This means that (for now) Zedux doesn\'t provide any promise-specific helpers like React Query\'s ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"onSuccess"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"refetchOnWindowFocus"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"retryDelay"),", etc. The upside is, working with sockets/data streaming paradigms is more natural with Zedux."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"import { atom, injectAtomValue, injectEffect, injectStore } from \'@zedux/react\'\\nimport { io } from \'socket.io-client\'\\n\\nconst socketAtom = atom(\'socket\', () => io())\\n\\nconst messagesAtom = atom(\'messages\', () => {\\n  const socket = injectAtomValue(socketAtom)\\n  const store = injectStore([])\\n\\n  injectEffect(() => {\\n    const handler = message => {\\n      store.setState(messages => [...messages, message])\\n    }\\n\\n    socket.on(\'message\', handler)\\n\\n    return () => socket.off(\'message\', handler)\\n  }, [socket])\\n\\n  return store\\n})\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"This is more flexible, but can require more boilerplate for promises. Most functionality can be abstracted, of course. We may provide a ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"@zedux/query")," package someday that provides a full suite of tools for handling promises."));};MDXContent.isMDXComponent=true;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cyI6WyJ3ZWJwYWNrOi8vemVkdXgtZG9jcy8uL2RvY3MvYWJvdXQvcmVhY3QtcXVlcnktY29tcGFyaXNvbi5tZHg/ZmNjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcblxuLyogQGpzeFJ1bnRpbWUgY2xhc3NpYyAqL1xuLyogQGpzeCBtZHggKi9cbi8qIEBqc3hGcmFnIFJlYWN0LkZyYWdtZW50ICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtZHggfSBmcm9tICdAbWR4LWpzL3JlYWN0JztcblxuXG5leHBvcnQgY29uc3QgZnJvbnRNYXR0ZXIgPSB7XG5cdGlkOiAncmVhY3QtcXVlcnktY29tcGFyaXNvbicsXG5cdHRpdGxlOiAnUmVhY3QgUXVlcnkgQ29tcGFyaXNvbidcbn07XG5leHBvcnQgY29uc3QgY29udGVudFRpdGxlID0gdW5kZWZpbmVkO1xuZXhwb3J0IGNvbnN0IG1ldGFkYXRhID0ge1xuICBcInVudmVyc2lvbmVkSWRcIjogXCJhYm91dC9yZWFjdC1xdWVyeS1jb21wYXJpc29uXCIsXG4gIFwiaWRcIjogXCJhYm91dC9yZWFjdC1xdWVyeS1jb21wYXJpc29uXCIsXG4gIFwidGl0bGVcIjogXCJSZWFjdCBRdWVyeSBDb21wYXJpc29uXCIsXG4gIFwiZGVzY3JpcHRpb25cIjogXCJXaGlsZSBaZWR1eCBkb2Vzbid0ICh5ZXQhKSBwcm92aWRlIGhlbHBlcnMgZm9yIHF1ZXJ5IG9wZXJhdGlvbnMgKGluZmluaXRlIHNjcm9sbGluZywgcGFnaW5hdGlvbiwgZXRjKSwgWmVkdXggaXMgY3VycmVudGx5IHBhdHRlcm5lZCBhZnRlciBSZWFjdCBRdWVyeSBtb3JlIHRoYW4gYW55IG90aGVyIGxpYnJhcnkgKHllcywgbW9yZSB0aGFuIFJlZHV4IG9yIFJlY29pbCkuIFJlYWN0IFF1ZXJ5J3MgY2FjaGUgbWFuYWdlbWVudCBpcyB1bnBhcmFsbGVsZWQuIFNvIFplZHV4JyBhdG9taWMgbW9kZWwgYm9ycm93cyBhIGxvdCBvZiBpZGVhcyBmcm9tIGl0LlwiLFxuICBcInNvdXJjZVwiOiBcIkBzaXRlL2RvY3MvYWJvdXQvcmVhY3QtcXVlcnktY29tcGFyaXNvbi5tZHhcIixcbiAgXCJzb3VyY2VEaXJOYW1lXCI6IFwiYWJvdXRcIixcbiAgXCJzbHVnXCI6IFwiL2Fib3V0L3JlYWN0LXF1ZXJ5LWNvbXBhcmlzb25cIixcbiAgXCJwZXJtYWxpbmtcIjogXCIvemVkdXgvZG9jcy9hYm91dC9yZWFjdC1xdWVyeS1jb21wYXJpc29uXCIsXG4gIFwiZHJhZnRcIjogZmFsc2UsXG4gIFwiZWRpdFVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9PbW5pc3RhYy96ZWR1eC90cmVlL21hc3Rlci9kb2NzL2Fib3V0L3JlYWN0LXF1ZXJ5LWNvbXBhcmlzb24ubWR4XCIsXG4gIFwidGFnc1wiOiBbXSxcbiAgXCJ2ZXJzaW9uXCI6IFwiY3VycmVudFwiLFxuICBcImZyb250TWF0dGVyXCI6IHtcbiAgICBcImlkXCI6IFwicmVhY3QtcXVlcnktY29tcGFyaXNvblwiLFxuICAgIFwidGl0bGVcIjogXCJSZWFjdCBRdWVyeSBDb21wYXJpc29uXCJcbiAgfSxcbiAgXCJzaWRlYmFyXCI6IFwicmVhY3RcIixcbiAgXCJwcmV2aW91c1wiOiB7XG4gICAgXCJ0aXRsZVwiOiBcIlJlZHV4IENvbXBhcmlzb25cIixcbiAgICBcInBlcm1hbGlua1wiOiBcIi96ZWR1eC9kb2NzL2Fib3V0L3JlZHV4LWNvbXBhcmlzb25cIlxuICB9LFxuICBcIm5leHRcIjoge1xuICAgIFwidGl0bGVcIjogXCJRdWljayBTdGFydFwiLFxuICAgIFwicGVybWFsaW5rXCI6IFwiL3plZHV4L2RvY3Mvd2Fsa3Rocm91Z2gvcXVpY2stc3RhcnRcIlxuICB9XG59O1xuZXhwb3J0IGNvbnN0IGFzc2V0cyA9IHtcblxufTtcblxuXG5leHBvcnQgY29uc3QgdG9jID0gW3tcbiAgdmFsdWU6ICdRdWVyaWVzJyxcbiAgaWQ6ICdxdWVyaWVzJyxcbiAgbGV2ZWw6IDJcbn0sIHtcbiAgdmFsdWU6ICdEZXBlbmRlbnQgUXVlcmllcycsXG4gIGlkOiAnZGVwZW5kZW50LXF1ZXJpZXMnLFxuICBsZXZlbDogMlxufSwge1xuICB2YWx1ZTogJ011dGF0aW9ucycsXG4gIGlkOiAnbXV0YXRpb25zJyxcbiAgbGV2ZWw6IDJcbn0sIHtcbiAgdmFsdWU6ICdJbnZhbGlkYXRpb24nLFxuICBpZDogJ2ludmFsaWRhdGlvbicsXG4gIGxldmVsOiAyXG59LCB7XG4gIHZhbHVlOiAnUXVlcnlDbGllbnQnLFxuICBpZDogJ3F1ZXJ5Y2xpZW50JyxcbiAgbGV2ZWw6IDJcbn0sIHtcbiAgdmFsdWU6ICdTdHJlYW0gU3VwcG9ydCcsXG4gIGlkOiAnc3RyZWFtLXN1cHBvcnQnLFxuICBsZXZlbDogMlxufV07XG5cbmNvbnN0IGxheW91dFByb3BzID0ge1xuICB0b2Ncbn07XG5jb25zdCBNRFhMYXlvdXQgPSBcIndyYXBwZXJcIlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTURYQ29udGVudCh7XG4gIGNvbXBvbmVudHMsXG4gIC4uLnByb3BzXG59KSB7XG4gIHJldHVybiA8TURYTGF5b3V0IHsuLi5sYXlvdXRQcm9wc30gey4uLnByb3BzfSBjb21wb25lbnRzPXtjb21wb25lbnRzfSBtZHhUeXBlPVwiTURYTGF5b3V0XCI+XG5cbiAgICA8cD57YFdoaWxlIFplZHV4IGRvZXNuJ3QgKHlldCEpIHByb3ZpZGUgaGVscGVycyBmb3IgcXVlcnkgb3BlcmF0aW9ucyAoaW5maW5pdGUgc2Nyb2xsaW5nLCBwYWdpbmF0aW9uLCBldGMpLCBaZWR1eCBpcyBjdXJyZW50bHkgcGF0dGVybmVkIGFmdGVyIFJlYWN0IFF1ZXJ5IG1vcmUgdGhhbiBhbnkgb3RoZXIgbGlicmFyeSAoeWVzLCBtb3JlIHRoYW4gUmVkdXggb3IgUmVjb2lsKS4gUmVhY3QgUXVlcnkncyBjYWNoZSBtYW5hZ2VtZW50IGlzIHVucGFyYWxsZWxlZC4gU28gWmVkdXgnIGF0b21pYyBtb2RlbCBib3Jyb3dzIGEgbG90IG9mIGlkZWFzIGZyb20gaXQuYH08L3A+XG4gICAgPHA+e2BIb3dldmVyLCB0aGUgcHVycG9zZSBvZiBaZWR1eCBpcyB2ZXJ5IGRpZmZlcmVudCBmcm9tIFJlYWN0IFF1ZXJ5LiBSZWFjdCBRdWVyeSBpcyBkZXNpZ25lZCBhcm91bmQgcHJvbWlzZXMgLSBtYW5hZ2luZyB0aGVpciBzdGF0ZSwgc2lkZSBlZmZlY3RzLCBhbmQgcmVzdWx0IGNhY2hlcy4gWmVkdXggaXMgZGVzaWduZWQgdG8gbWFuYWdlIGJvdGggYXBwbGljYXRpb24gc3RhdGUgKGEgbGEgUmVkdXgvUmVjb2lsKSBhbmQgY2FjaGVkIHNlcnZlciBkYXRhLiBaZWR1eCBoYXMgYH08ZW0gcGFyZW50TmFtZT1cInBcIj57YHNvbWVgfTwvZW0+e2Agc3BlY2lhbCBmZWF0dXJlcyBmb3IgaGFuZGxpbmcgcHJvbWlzZXMsIGJ1dCBjdXJyZW50bHkgdmVyeSBsaXR0bGUgY29tcGFyZWQgUmVhY3QgUXVlcnkuYH08L3A+XG4gICAgPGgyIHsuLi57XG4gICAgICBcImlkXCI6IFwicXVlcmllc1wiXG4gICAgfX0+e2BRdWVyaWVzYH08L2gyPlxuICAgIDxwPntgU3RydWN0dXJhbGx5LCBaZWR1eCBgfTxhIHBhcmVudE5hbWU9XCJwXCIgey4uLntcbiAgICAgICAgXCJocmVmXCI6IFwiLi4vYXBpL2NsYXNzZXMvQXRvbVwiXG4gICAgICB9fT57YGF0b21zYH08L2E+e2AgYXJlIHZlcnkgc2ltaWxhciB0byBSZWFjdCBRdWVyeSBgfTxhIHBhcmVudE5hbWU9XCJwXCIgey4uLntcbiAgICAgICAgXCJocmVmXCI6IFwiaHR0cHM6Ly9yZWFjdC1xdWVyeS50YW5zdGFjay5jb20vZ3VpZGVzL3F1ZXJpZXNcIlxuICAgICAgfX0+e2BxdWVyaWVzYH08L2E+e2AuYH08L3A+XG4gICAgPHVsPlxuICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPntgUXVlcnkga2V5cyBhbmQgYXRvbSBrZXlzIGFyZSBjb25zdHJ1Y3RlZCBmcm9tIGEgXCJkZXRlcm1pbmlzdGljXCIgaGFzaCBvZiB0aGVpciBwYXJhbWV0ZXJzLmB9PC9saT5cbiAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj57YEZvciBkZXN0cm95aW5nIHN0YWxlIGluc3RhbmNlczogQXRvbXMgaGF2ZSBgfTxhIHBhcmVudE5hbWU9XCJsaVwiIHsuLi57XG4gICAgICAgICAgXCJocmVmXCI6IFwiLi4vYXBpL2NsYXNzZXMvQXRvbSN0dGxcIlxuICAgICAgICB9fT48aW5saW5lQ29kZSBwYXJlbnROYW1lPVwiYVwiPntgdHRsYH08L2lubGluZUNvZGU+PC9hPntgLiBRdWVyaWVzIGhhdmUgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwibGlcIj57YGNhY2hlVGltZWB9PC9pbmxpbmVDb2RlPntgLmB9PC9saT5cbiAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj57YEZvciBzdXNwZW5zZTogQXRvbXMgaGF2ZSBgfTxhIHBhcmVudE5hbWU9XCJsaVwiIHsuLi57XG4gICAgICAgICAgXCJocmVmXCI6IFwiLi4vYXBpL2NsYXNzZXMvQXRvbUFwaSNzZXRwcm9taXNlXCJcbiAgICAgICAgfX0+PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImFcIj57YC5zZXRQcm9taXNlKClgfTwvaW5saW5lQ29kZT48L2E+e2AuIFF1ZXJpZXMgaGF2ZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgc3VzcGVuc2VgfTwvaW5saW5lQ29kZT57YC5gfTwvbGk+XG4gICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+e2BGb3IgdHJhY2tpbmcgcHJvbWlzZSBzdGF0ZTogWmVkdXggaGFzIHF1ZXJ5IGF0b21zIGFuZCBgfTxhIHBhcmVudE5hbWU9XCJsaVwiIHsuLi57XG4gICAgICAgICAgXCJocmVmXCI6IFwiLi4vYXBpL2luamVjdG9ycy9pbmplY3RQcm9taXNlXCJcbiAgICAgICAgfX0+PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImFcIj57YGluamVjdFByb21pc2UoKWB9PC9pbmxpbmVDb2RlPjwvYT57YC4gUXVlcmllcyB0cmFjayBwcm9taXNlIHN0YXRlIGJ5IGRlZmF1bHQuYH08L2xpPlxuICAgIDwvdWw+XG4gICAgPHA+e2BBIHNpZGUtYnktc2lkZSBjb21wYXJpc29uLCB1c2luZyBzdXNwZW5zZTpgfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzXCJcbiAgICAgIH19PntgLy8gUmVhY3QgUXVlcnk6XG5mdW5jdGlvbiB1c2VQb3N0cygpIHtcbiAgcmV0dXJuIHVzZVF1ZXJ5KFxuICAgICdwb3N0cycsXG4gICAgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBheGlvcy5nZXQoJy9wb3N0cycpXG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0sXG4gICAgeyBzdXNwZW5zZTogdHJ1ZSB9XG4gIClcbn1cbi8vIC4uLiBpbiBhIGNvbXBvbmVudDpcbmNvbnN0IHsgZGF0YSB9ID0gdXNlUG9zdHMoKVxuXG4vLyBaZWR1eDpcbmNvbnN0IHBvc3RzQXRvbSA9IGF0b20oJ3Bvc3RzJywgKCkgPT4ge1xuICBjb25zdCBmZXRjaFBvc3RzID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3MuZ2V0KCcvcG9zdHMnKVxuICAgIHJldHVybiBkYXRhXG4gIH1cblxuICAvLyBcXGByZXR1cm4gYXBpKHByb21pc2UpXFxgIGlzIGhvdyB5b3UgbWFrZSBxdWVyeSBhdG9tcyBpbiBaZWR1eFxuICByZXR1cm4gYXBpKGZldGNoUG9zdHMoKSlcbn0pXG4vLyAuLi4gaW4gYSBjb21wb25lbnQ6XG5jb25zdCB7IGRhdGEgfSA9IHVzZUF0b21WYWx1ZShwb3N0c0F0b20pXG5gfTwvY29kZT48L3ByZT5cbiAgICA8cD57YE5vdGUgdGhhdCBhdG9tIHN0YXRlIGZhY3RvcmllcyBjYW4ndCBiZSBhc3luY2hyb25vdXMgZnVuY3Rpb25zLiBUaGlzIGlzIGJlY2F1c2UgdGhlIGZ1bmN0aW9uIGJvZHkgaXMgdXNlZCB0byBkeW5hbWljYWxseSBpbmplY3QgZGVwZW5kZW5jaWVzLCBidWlsZGluZyBaZWR1eCcgcG93ZXJmdWwgREkgZ3JhcGguYH08L3A+XG4gICAgPGgyIHsuLi57XG4gICAgICBcImlkXCI6IFwiZGVwZW5kZW50LXF1ZXJpZXNcIlxuICAgIH19PntgRGVwZW5kZW50IFF1ZXJpZXNgfTwvaDI+XG4gICAgPHA+e2BJbiBSZWFjdCBRdWVyeSwgaXQncyB1cCB0byBjb21wb25lbnRzIHRvIHNwZWNpZnkgcXVlcnkgZGVwZW5kZW5jaWVzIGJ5IHBhc3NpbmcgdGhlIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGVuYWJsZWRgfTwvaW5saW5lQ29kZT57YCBvcHRpb24gdG8gYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgdXNlUXVlcnlgfTwvaW5saW5lQ29kZT57YC5gfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzXCJcbiAgICAgIH19PntgY29uc3QgeyBkYXRhOiB1c2VyIH0gPSB1c2VRdWVyeShbJ3VzZXInLCBlbWFpbF0sIGdldFVzZXJCeUVtYWlsKVxuXG5jb25zdCB1c2VySWQgPSB1c2VyPy5pZFxuXG5jb25zdCB7IGlzSWRsZSwgZGF0YTogcHJvamVjdHMgfSA9IHVzZVF1ZXJ5KFxuICBbJ3Byb2plY3RzJywgdXNlcklkXSxcbiAgZ2V0UHJvamVjdHNCeVVzZXIsXG4gIHsgZW5hYmxlZDogISF1c2VySWQgfVxuKVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPHA+e2BJbiBaZWR1eCwgYXRvbXMgYXJlIG1vcmUgYXV0b25vbW91cy4gVGhleSBzcGVjaWZ5IHRoZWlyIG93biBkZXBlbmRlbmNpZXMuYH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c1wiXG4gICAgICB9fT57YGNvbnN0IHVzZXJQcm9qZWN0c0F0b20gPSBhdG9tKCd1c2VyUHJvamVjdHMnLCAoZW1haWw6IHN0cmluZykgPT4ge1xuICBjb25zdCB1c2VyID0gaW5qZWN0QXRvbVZhbHVlKHVzZXJCeUVtYWlsLCBbZW1haWxdKVxuXG4gIGNvbnN0IHVzZXJJZCA9IHVzZXI/LmlkXG5cbiAgcmV0dXJuIGluamVjdFByb21pc2UoKCkgPT4gZ2V0UHJvamVjdHNCeVVzZXIodXNlcklkKSwgW3VzZXJJZF0pXG59KVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPHA+e2BaZWR1eCBkb2Vzbid0IGhhdmUgYW4gYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgaWRsZWB9PC9pbmxpbmVDb2RlPntgIHN0YXRlIChjdXJyZW50bHkpLiBUaGUgYWJvdmUgZXhhbXBsZSB3b3VsZCBiZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BzdWNjZXNzYH08L2lubGluZUNvZGU+e2AgdW50aWwgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgdXNlcklkQXRvbWB9PC9pbmxpbmVDb2RlPntgIHVwZGF0ZXMgd2l0aCBhIHZhbHVlLiBJZiB5b3UgbmVlZCBhbiBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BpZGxlYH08L2lubGluZUNvZGU+e2Agc3RhdGUsIG9wZW4gYW4gaXNzdWUgYW5kIGxldCdzIGRpc2N1c3MhYH08L3A+XG4gICAgPGgyIHsuLi57XG4gICAgICBcImlkXCI6IFwibXV0YXRpb25zXCJcbiAgICB9fT57YE11dGF0aW9uc2B9PC9oMj5cbiAgICA8cD57YFplZHV4IGRvZXNuJ3QgaGF2ZSBhIGNvbmNlcHQgb2YgbXV0YXRpb25zLiBNdXRhdGlvbiBmdW5jdGlvbnMgYXJlIHR5cGljYWxseSBleHBvcnRlZCBmcm9tIGF0b21zLCBidXQgbWFueSBhcHByb2FjaGVzIGFyZSBwb3NzaWJsZS4gSGVyZSdzIGFuIGV4YW1wbGUgZ3JvdXBpbmcgcXVlcnkgYW5kIG11dGF0aW9uIG9wZXJhdGlvbnMgdG9nZXRoZXIgaW4gYSBzaW5nbGUgYXRvbTpgfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzXCJcbiAgICAgIH19PntgY29uc3QgdXNlcnNBdG9tID0gYXRvbSgndXNlcnMnLCAoKSA9PiB7XG4gIC8vIGEgXCJxdWVyeVwiXG4gIGNvbnN0IGZldGNoVXNlcnMgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBheGlvcy5nZXQoJy91c2VycycpXG4gICAgcmV0dXJuIGRhdGFcbiAgfVxuXG4gIGNvbnN0IHByb21pc2VBcGkgPSBpbmplY3RQcm9taXNlKGZldGNoVXNlcnMsIFtdKVxuXG4gIC8vIGEgXCJtdXRhdGlvblwiXG4gIGNvbnN0IHVwZGF0ZVVzZXIgPSAoaWQ6IHN0cmluZywgdXNlcjogVXNlcikgPT4ge1xuICAgIC8vIHdlIGNvdWxkIGFsc28gZWFzaWx5IGFkZCBhbiBvcHRpbWlzdGljIHVwZGF0ZSByaWdodCBoZXJlXG4gICAgYXdhaXQgYXhpb3MucG9zdChcXGAvdXNlcnMvXFwke2lkfVxcYCwgdXNlcilcblxuICAgIC8vIHdlIGNhbiBkbyBhIGZ1bGwgcmVmZXRjaCAodGhpcyBtaW1pY3MgUmVhY3QgUXVlcnkgbW9zdCBjbG9zZWx5KTpcbiAgICBwcm9taXNlQXBpLnN0b3JlLnNldFN0YXRlKGF3YWl0IGZldGNoVXNlcnMoKSkgLy8gZXNzZW50aWFsbHkgYW4gaW52YWxpZGF0aW9uXG4gICAgLy8gb3IganVzdCB1cGRhdGUgdGhlIHJlY29yZCB3ZSBrbm93IGNoYW5nZWQ6XG4gICAgcHJvbWlzZUFwaS5zdG9yZS5zZXRTdGF0ZURlZXAoeyBbaWRdOiB1c2VyIH0pXG4gICAgLy8gbW92aW5nIHRoYXQgYWJvdmUgdGhlIC5wb3N0KCkgaXMgYWxsIGl0IHRha2VzIHRvIGRvIGFuIG9wdGltaXN0aWMgdXBkYXRlXG4gIH1cblxuICAvLyBUaGUgcXVlcnkgY29udHJvbHMgdGhlIHN0YXRlIG9mIHRoaXMgYXRvbS4gVGhlIG11dGF0aW9uIGlzIGV4cG9ydGVkOlxuICByZXR1cm4gcHJvbWlzZUFwaS5hZGRFeHBvcnRzKHsgdXBkYXRlVXNlciB9KVxufSlcbi8vIC4uLiBpbiBhIGNvbXBvbmVudDpcbmNvbnN0IFt7IGRhdGEgfSwgeyB1cGRhdGVVc2VyIH1dID0gdXNlQXRvbVN0YXRlKHVzZXJzQXRvbSlcbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxoMiB7Li4ue1xuICAgICAgXCJpZFwiOiBcImludmFsaWRhdGlvblwiXG4gICAgfX0+e2BJbnZhbGlkYXRpb25gfTwvaDI+XG4gICAgPHA+e2BCZWNhdXNlIG9mIHRoZSBtdXRhdGlvbiBkaWZmZXJlbmNlcywgWmVkdXggYW5kIFJlYWN0IFF1ZXJ5IGFsc28gaGF2ZSB2ZXJ5IGRpZmZlcmVudCBjb25jZXB0cyBvZiBpbnZhbGlkYXRpb24uIFJlYWN0IFF1ZXJ5IGlzIGRlc2lnbmVkIGFyb3VuZCBpbnZhbGlkYXRpbmcgY2FjaGVzIG1hbnVhbGx5IHdpdGggYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgaW52YWxpZGF0ZVF1ZXJpZXMoKWB9PC9pbmxpbmVDb2RlPntgLCBlc3BlY2lhbGx5IGFmdGVyIG11dGF0aW9ucy5gfTwvcD5cbiAgICA8cD57YFplZHV4IGFsbG93cyBtYW51YWwgaW52YWxpZGF0aW9uIHZpYSBgfTxhIHBhcmVudE5hbWU9XCJwXCIgey4uLntcbiAgICAgICAgXCJocmVmXCI6IFwiLi4vYXBpL2NsYXNzZXMvQXRvbUluc3RhbmNlI2ludmFsaWRhdGVcIlxuICAgICAgfX0+PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImFcIj57YGluc3RhbmNlLmludmFsaWRhdGUoKWB9PC9pbmxpbmVDb2RlPjwvYT57YCwgYnV0IHVzZSBjYXNlcyBmb3IgaXQgYXJlIHJhcmUuIEluc3RlYWQsIHRoZSB0d28gYXBwcm9hY2hlcyBkZW1vbnN0cmF0ZWQgaW4gdGhlIGFib3ZlIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YHVzZXJzQXRvbWB9PC9pbmxpbmVDb2RlPntgIGV4YW1wbGUgYXJlIGNvbW1vbiB3YXlzIHRvIGdvIGFib3V0IGl0OmB9PC9wPlxuICAgIDx1bD5cbiAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj57YFByZWNpc2VseSB1cGRhdGUgc3RhdGUgYW5kIGxldCB1cGRhdGVzIGNhc2NhZGUgdGhyb3VnaCB0aGUgYXRvbSBncmFwaCwgYXV0b21hdGljYWxseSByZXJ1bm5pbmcgYXRvbSBzdGF0ZSBmYWN0b3JpZXMvYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwibGlcIj57YGluamVjdEVmZmVjdGB9PC9pbmxpbmVDb2RlPntgIGVmZmVjdHMuYH08L2xpPlxuICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPntgTWFudWFsbHkgcmVydW4gXCJxdWVyeVwiIGZ1bmN0aW9ucyBsaWtlIGluIHRoZSBhYm92ZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgZmV0Y2hVc2Vyc2B9PC9pbmxpbmVDb2RlPntgIGV4YW1wbGUgYW5kIGRpcmVjdGx5IFwiaW52YWxpZGF0ZVwiIHN0YXRlIHZpYSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgc3RvcmUuc2V0U3RhdGUoKWB9PC9pbmxpbmVDb2RlPntgLmB9PC9saT5cbiAgICA8L3VsPlxuICAgIDxoMiB7Li4ue1xuICAgICAgXCJpZFwiOiBcInF1ZXJ5Y2xpZW50XCJcbiAgICB9fT57YFF1ZXJ5Q2xpZW50YH08L2gyPlxuICAgIDxwPntgWmVkdXggYH08YSBwYXJlbnROYW1lPVwicFwiIHsuLi57XG4gICAgICAgIFwiaHJlZlwiOiBcIi4uL2FwaS9jbGFzc2VzL0Vjb3N5c3RlbVwiXG4gICAgICB9fT57YGVjb3N5c3RlbXNgfTwvYT57YCBhcmUgcGF0dGVybmVkIGFmdGVyIFJlYWN0IFF1ZXJ5J3MgYH08YSBwYXJlbnROYW1lPVwicFwiIHsuLi57XG4gICAgICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vcmVhY3QtcXVlcnkudGFuc3RhY2suY29tL3JlZmVyZW5jZS9RdWVyeUNsaWVudFwiXG4gICAgICB9fT57YFF1ZXJ5Q2xpZW50YH08L2E+e2AuIFRoZXkgYm90aCBjcmVhdGUgYXV0b25vbW91cyBlbnZpcm9ubWVudHMgZm9yIG1hbmFnaW5nIGB9e2BbYXRvbXN8cXVlcmllc11gfXtgIHRoYXQgY2FuIGJlIHVzZWQgb3V0c2lkZSBSZWFjdCBhbmQgYXJlIGVzcGVjaWFsbHkgdXNlZnVsIGZvciB0ZXN0aW5nLmB9PC9wPlxuICAgIDxoMiB7Li4ue1xuICAgICAgXCJpZFwiOiBcInN0cmVhbS1zdXBwb3J0XCJcbiAgICB9fT57YFN0cmVhbSBTdXBwb3J0YH08L2gyPlxuICAgIDxwPntgUmVhY3QgUXVlcnkgY2FuIHdvcmsgd2l0aCBzb2NrZXRzIHdpdGhvdXQgdG9vIG11Y2ggaGFzc2xlLiBCdXQgUmVhY3QgUXVlcnkgaXMgZGVzaWduZWQgZm9yIHByb21pc2VzLiBaZWR1eCBhdG9tcyBhcmUgZGVzaWduZWQgdG8gc3VwcG9ydCBhbnkgYXN5bmNocm9ub3VzIGFyY2hpdGVjdHVyZS5gfTwvcD5cbiAgICA8cD57YFRoaXMgbWVhbnMgdGhhdCAoZm9yIG5vdykgWmVkdXggZG9lc24ndCBwcm92aWRlIGFueSBwcm9taXNlLXNwZWNpZmljIGhlbHBlcnMgbGlrZSBSZWFjdCBRdWVyeSdzIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YG9uU3VjY2Vzc2B9PC9pbmxpbmVDb2RlPntgLCBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2ByZWZldGNoT25XaW5kb3dGb2N1c2B9PC9pbmxpbmVDb2RlPntgLCBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2ByZXRyeURlbGF5YH08L2lubGluZUNvZGU+e2AsIGV0Yy4gVGhlIHVwc2lkZSBpcywgd29ya2luZyB3aXRoIHNvY2tldHMvZGF0YSBzdHJlYW1pbmcgcGFyYWRpZ21zIGlzIG1vcmUgbmF0dXJhbCB3aXRoIFplZHV4LmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIlxuICAgICAgfX0+e2BpbXBvcnQgeyBhdG9tLCBpbmplY3RBdG9tVmFsdWUsIGluamVjdEVmZmVjdCwgaW5qZWN0U3RvcmUgfSBmcm9tICdAemVkdXgvcmVhY3QnXG5pbXBvcnQgeyBpbyB9IGZyb20gJ3NvY2tldC5pby1jbGllbnQnXG5cbmNvbnN0IHNvY2tldEF0b20gPSBhdG9tKCdzb2NrZXQnLCAoKSA9PiBpbygpKVxuXG5jb25zdCBtZXNzYWdlc0F0b20gPSBhdG9tKCdtZXNzYWdlcycsICgpID0+IHtcbiAgY29uc3Qgc29ja2V0ID0gaW5qZWN0QXRvbVZhbHVlKHNvY2tldEF0b20pXG4gIGNvbnN0IHN0b3JlID0gaW5qZWN0U3RvcmUoW10pXG5cbiAgaW5qZWN0RWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVyID0gbWVzc2FnZSA9PiB7XG4gICAgICBzdG9yZS5zZXRTdGF0ZShtZXNzYWdlcyA9PiBbLi4ubWVzc2FnZXMsIG1lc3NhZ2VdKVxuICAgIH1cblxuICAgIHNvY2tldC5vbignbWVzc2FnZScsIGhhbmRsZXIpXG5cbiAgICByZXR1cm4gKCkgPT4gc29ja2V0Lm9mZignbWVzc2FnZScsIGhhbmRsZXIpXG4gIH0sIFtzb2NrZXRdKVxuXG4gIHJldHVybiBzdG9yZVxufSlcbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxwPntgVGhpcyBpcyBtb3JlIGZsZXhpYmxlLCBidXQgY2FuIHJlcXVpcmUgbW9yZSBib2lsZXJwbGF0ZSBmb3IgcHJvbWlzZXMuIE1vc3QgZnVuY3Rpb25hbGl0eSBjYW4gYmUgYWJzdHJhY3RlZCwgb2YgY291cnNlLiBXZSBtYXkgcHJvdmlkZSBhIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YEB6ZWR1eC9xdWVyeWB9PC9pbmxpbmVDb2RlPntgIHBhY2thZ2Ugc29tZWRheSB0aGF0IHByb3ZpZGVzIGEgZnVsbCBzdWl0ZSBvZiB0b29scyBmb3IgaGFuZGxpbmcgcHJvbWlzZXMuYH08L3A+XG4gICAgPC9NRFhMYXlvdXQ+O1xufVxuO1xuTURYQ29udGVudC5pc01EWENvbXBvbmVudCA9IHRydWU7XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJtZHgiLCJmcm9udE1hdHRlciIsImlkIiwidGl0bGUiLCJjb250ZW50VGl0bGUiLCJ1bmRlZmluZWQiLCJtZXRhZGF0YSIsImFzc2V0cyIsInRvYyIsInZhbHVlIiwibGV2ZWwiLCJsYXlvdXRQcm9wcyIsIk1EWExheW91dCIsIk1EWENvbnRlbnQiLCJjb21wb25lbnRzIiwicHJvcHMiLCJpc01EWENvbXBvbmVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6229\n')}}]);