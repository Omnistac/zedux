"use strict";(self.webpackChunkzedux_docs=self.webpackChunkzedux_docs||[]).push([[1483],{3905:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Zo": function() { return /* binding */ MDXProvider; },\n/* harmony export */   "kt": function() { return /* binding */ createElement; }\n/* harmony export */ });\n/* unused harmony exports MDXContext, useMDXComponents, withMDXComponents */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7294);\n\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar isFunction = function isFunction(obj) {\n  return typeof obj === \'function\';\n};\n\nvar MDXContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createContext({});\nvar withMDXComponents = function withMDXComponents(Component) {\n  return function (props) {\n    var allComponents = useMDXComponents(props.components);\n    return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n      components: allComponents\n    }));\n  };\n};\nvar useMDXComponents = function useMDXComponents(components) {\n  var contextComponents = react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);\n  var allComponents = contextComponents;\n\n  if (components) {\n    allComponents = isFunction(components) ? components(contextComponents) : _objectSpread2(_objectSpread2({}, contextComponents), components);\n  }\n\n  return allComponents;\n};\nvar MDXProvider = function MDXProvider(props) {\n  var allComponents = useMDXComponents(props.components);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider, {\n    value: allComponents\n  }, props.children);\n};\n\nvar TYPE_PROP_NAME = \'mdxType\';\nvar DEFAULTS = {\n  inlineCode: \'code\',\n  wrapper: function wrapper(_ref) {\n    var children = _ref.children;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, children);\n  }\n};\nvar MDXCreateElement = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var propComponents = props.components,\n      mdxType = props.mdxType,\n      originalType = props.originalType,\n      parentName = props.parentName,\n      etc = _objectWithoutProperties(props, ["components", "mdxType", "originalType", "parentName"]);\n\n  var components = useMDXComponents(propComponents);\n  var type = mdxType;\n  var Component = components["".concat(parentName, ".").concat(type)] || components[type] || DEFAULTS[type] || originalType;\n\n  if (propComponents) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, _objectSpread2(_objectSpread2({\n      ref: ref\n    }, etc), {}, {\n      components: propComponents\n    }));\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, _objectSpread2({\n    ref: ref\n  }, etc));\n});\nMDXCreateElement.displayName = \'MDXCreateElement\';\nfunction createElement (type, props) {\n  var args = arguments;\n  var mdxType = props && props.mdxType;\n\n  if (typeof type === \'string\' || mdxType) {\n    var argsLength = args.length;\n    var createElementArgArray = new Array(argsLength);\n    createElementArgArray[0] = MDXCreateElement;\n    var newProps = {};\n\n    for (var key in props) {\n      if (hasOwnProperty.call(props, key)) {\n        newProps[key] = props[key];\n      }\n    }\n\n    newProps.originalType = type;\n    newProps[TYPE_PROP_NAME] = typeof type === \'string\' ? type : mdxType;\n    createElementArgArray[1] = newProps;\n\n    for (var i = 2; i < argsLength; i++) {\n      createElementArgArray[i] = args[i];\n    }\n\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement.apply(null, createElementArgArray);\n  }\n\n  return react__WEBPACK_IMPORTED_MODULE_0__.createElement.apply(null, args);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzkwNS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMEI7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGNBQWMsdUJBQXVCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLGdCQUFnQiw2QkFBNkI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDhCQUE4QixnREFBbUIsR0FBRztBQUNwRDtBQUNBO0FBQ0E7QUFDQSxrRUFBa0U7QUFDbEU7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDZDQUFnQjtBQUMxQzs7QUFFQTtBQUNBLDZHQUE2RztBQUM3Rzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnREFBbUI7QUFDekM7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnREFBbUIsQ0FBQywyQ0FBYyxJQUFJO0FBQzlEO0FBQ0E7QUFDQSxvQ0FBb0MsNkNBQWdCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLGdEQUFtQjtBQUMzQztBQUNBLEtBQUssVUFBVTtBQUNmO0FBQ0EsS0FBSztBQUNMOztBQUVBLHNCQUFzQixnREFBbUI7QUFDekM7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLGdCQUFnQjtBQUNwQztBQUNBOztBQUVBLFdBQVcsc0RBQXlCO0FBQ3BDOztBQUVBLFNBQVMsc0RBQXlCO0FBQ2xDOztBQUU4RiIsInNvdXJjZXMiOlsid2VicGFjazovL3plZHV4LWRvY3MvLi9ub2RlX21vZHVsZXMvQG1keC1qcy9yZWFjdC9kaXN0L2VzbS5qcz8wY2M1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7XG4gICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xuICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XG4gICAgfSk7XG4gICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpO1xuICB9XG5cbiAgcmV0dXJuIGtleXM7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQyKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuXG4gICAgaWYgKGkgJSAyKSB7XG4gICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG5cbiAgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpO1xuXG4gIHZhciBrZXksIGk7XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldO1xuICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7XG4gICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbnZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbic7XG59O1xuXG52YXIgTURYQ29udGV4dCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVDb250ZXh0KHt9KTtcbnZhciB3aXRoTURYQ29tcG9uZW50cyA9IGZ1bmN0aW9uIHdpdGhNRFhDb21wb25lbnRzKENvbXBvbmVudCkge1xuICByZXR1cm4gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIGFsbENvbXBvbmVudHMgPSB1c2VNRFhDb21wb25lbnRzKHByb3BzLmNvbXBvbmVudHMpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgY29tcG9uZW50czogYWxsQ29tcG9uZW50c1xuICAgIH0pKTtcbiAgfTtcbn07XG52YXIgdXNlTURYQ29tcG9uZW50cyA9IGZ1bmN0aW9uIHVzZU1EWENvbXBvbmVudHMoY29tcG9uZW50cykge1xuICB2YXIgY29udGV4dENvbXBvbmVudHMgPSBSZWFjdC51c2VDb250ZXh0KE1EWENvbnRleHQpO1xuICB2YXIgYWxsQ29tcG9uZW50cyA9IGNvbnRleHRDb21wb25lbnRzO1xuXG4gIGlmIChjb21wb25lbnRzKSB7XG4gICAgYWxsQ29tcG9uZW50cyA9IGlzRnVuY3Rpb24oY29tcG9uZW50cykgPyBjb21wb25lbnRzKGNvbnRleHRDb21wb25lbnRzKSA6IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBjb250ZXh0Q29tcG9uZW50cyksIGNvbXBvbmVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGFsbENvbXBvbmVudHM7XG59O1xudmFyIE1EWFByb3ZpZGVyID0gZnVuY3Rpb24gTURYUHJvdmlkZXIocHJvcHMpIHtcbiAgdmFyIGFsbENvbXBvbmVudHMgPSB1c2VNRFhDb21wb25lbnRzKHByb3BzLmNvbXBvbmVudHMpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTURYQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBhbGxDb21wb25lbnRzXG4gIH0sIHByb3BzLmNoaWxkcmVuKTtcbn07XG5cbnZhciBUWVBFX1BST1BfTkFNRSA9ICdtZHhUeXBlJztcbnZhciBERUZBVUxUUyA9IHtcbiAgaW5saW5lQ29kZTogJ2NvZGUnLFxuICB3cmFwcGVyOiBmdW5jdGlvbiB3cmFwcGVyKF9yZWYpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwge30sIGNoaWxkcmVuKTtcbiAgfVxufTtcbnZhciBNRFhDcmVhdGVFbGVtZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHByb3BDb21wb25lbnRzID0gcHJvcHMuY29tcG9uZW50cyxcbiAgICAgIG1keFR5cGUgPSBwcm9wcy5tZHhUeXBlLFxuICAgICAgb3JpZ2luYWxUeXBlID0gcHJvcHMub3JpZ2luYWxUeXBlLFxuICAgICAgcGFyZW50TmFtZSA9IHByb3BzLnBhcmVudE5hbWUsXG4gICAgICBldGMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMocHJvcHMsIFtcImNvbXBvbmVudHNcIiwgXCJtZHhUeXBlXCIsIFwib3JpZ2luYWxUeXBlXCIsIFwicGFyZW50TmFtZVwiXSk7XG5cbiAgdmFyIGNvbXBvbmVudHMgPSB1c2VNRFhDb21wb25lbnRzKHByb3BDb21wb25lbnRzKTtcbiAgdmFyIHR5cGUgPSBtZHhUeXBlO1xuICB2YXIgQ29tcG9uZW50ID0gY29tcG9uZW50c1tcIlwiLmNvbmNhdChwYXJlbnROYW1lLCBcIi5cIikuY29uY2F0KHR5cGUpXSB8fCBjb21wb25lbnRzW3R5cGVdIHx8IERFRkFVTFRTW3R5cGVdIHx8IG9yaWdpbmFsVHlwZTtcblxuICBpZiAocHJvcENvbXBvbmVudHMpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7XG4gICAgICByZWY6IHJlZlxuICAgIH0sIGV0YyksIHt9LCB7XG4gICAgICBjb21wb25lbnRzOiBwcm9wQ29tcG9uZW50c1xuICAgIH0pKTtcbiAgfVxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIF9vYmplY3RTcHJlYWQyKHtcbiAgICByZWY6IHJlZlxuICB9LCBldGMpKTtcbn0pO1xuTURYQ3JlYXRlRWxlbWVudC5kaXNwbGF5TmFtZSA9ICdNRFhDcmVhdGVFbGVtZW50JztcbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQgKHR5cGUsIHByb3BzKSB7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICB2YXIgbWR4VHlwZSA9IHByb3BzICYmIHByb3BzLm1keFR5cGU7XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCBtZHhUeXBlKSB7XG4gICAgdmFyIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aDtcbiAgICB2YXIgY3JlYXRlRWxlbWVudEFyZ0FycmF5ID0gbmV3IEFycmF5KGFyZ3NMZW5ndGgpO1xuICAgIGNyZWF0ZUVsZW1lbnRBcmdBcnJheVswXSA9IE1EWENyZWF0ZUVsZW1lbnQ7XG4gICAgdmFyIG5ld1Byb3BzID0ge307XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCBrZXkpKSB7XG4gICAgICAgIG5ld1Byb3BzW2tleV0gPSBwcm9wc1trZXldO1xuICAgICAgfVxuICAgIH1cblxuICAgIG5ld1Byb3BzLm9yaWdpbmFsVHlwZSA9IHR5cGU7XG4gICAgbmV3UHJvcHNbVFlQRV9QUk9QX05BTUVdID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZSA6IG1keFR5cGU7XG4gICAgY3JlYXRlRWxlbWVudEFyZ0FycmF5WzFdID0gbmV3UHJvcHM7XG5cbiAgICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3NMZW5ndGg7IGkrKykge1xuICAgICAgY3JlYXRlRWxlbWVudEFyZ0FycmF5W2ldID0gYXJnc1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudC5hcHBseShudWxsLCBjcmVhdGVFbGVtZW50QXJnQXJyYXkpO1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQuYXBwbHkobnVsbCwgYXJncyk7XG59XG5cbmV4cG9ydCB7IE1EWENvbnRleHQsIE1EWFByb3ZpZGVyLCBjcmVhdGVFbGVtZW50IGFzIG1keCwgdXNlTURYQ29tcG9uZW50cywgd2l0aE1EWENvbXBvbmVudHMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3905\n')},3975:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "assets": function() { return /* binding */ assets; },\n/* harmony export */   "contentTitle": function() { return /* binding */ contentTitle; },\n/* harmony export */   "default": function() { return /* binding */ MDXContent; },\n/* harmony export */   "frontMatter": function() { return /* binding */ frontMatter; },\n/* harmony export */   "metadata": function() { return /* binding */ metadata; },\n/* harmony export */   "toc": function() { return /* binding */ toc; }\n/* harmony export */ });\n/* harmony import */ var _Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7462);\n/* harmony import */ var _Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_objectWithoutPropertiesLoose_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3366);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7294);\n/* harmony import */ var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3905);\nvar _excluded=["components"];/* @jsxRuntime classic */ /* @jsx mdx */ /* @jsxFrag React.Fragment */var frontMatter={id:\'state-machines\',title:\'State Machines\'};var contentTitle=undefined;var metadata={"unversionedId":"walkthrough/state-machines","id":"walkthrough/state-machines","title":"State Machines","description":"The state machine is one of the most important tools a statesmith can have in his belt. XState is the current king of the JavaScript state machine world. Zedux is not out to change that, in fact we may build an official XState Zedux integration soon.","source":"@site/docs/walkthrough/state-machines.mdx","sourceDirName":"walkthrough","slug":"/walkthrough/state-machines","permalink":"/zedux/docs/walkthrough/state-machines","draft":false,"editUrl":"https://github.com/Omnistac/zedux/tree/master/docs/walkthrough/state-machines.mdx","tags":[],"version":"current","frontMatter":{"id":"state-machines","title":"State Machines"},"sidebar":"react","previous":{"title":"Resets","permalink":"/zedux/docs/walkthrough/resets"},"next":{"title":"Complex Params","permalink":"/zedux/docs/advanced/complex-params"}};var assets={};var toc=[{value:\'Creating a machine\',id:\'creating-a-machine\',level:2},{value:\'MachineStore\',id:\'machinestore\',level:2},{value:\'<code>.send()</code>\',id:\'send\',level:3},{value:\'<code>.is()</code>\',id:\'is\',level:3},{value:\'<code>.getValue()</code>\',id:\'getvalue\',level:3},{value:\'State Shape\',id:\'state-shape\',level:3},{value:\'Context\',id:\'context\',level:2},{value:\'<code>.getContext()</code>\',id:\'getcontext\',level:3},{value:\'<code>.setContext()</code>\',id:\'setcontext\',level:3},{value:\'<code>.setContextDeep()</code>\',id:\'setcontextdeep\',level:3},{value:\'Example\',id:\'example\',level:3},{value:\'Listeners\',id:\'listeners\',level:2},{value:\'<code>onEnter</code>\',id:\'onenter\',level:3},{value:\'<code>onLeave</code>\',id:\'onleave\',level:3},{value:\'<code>onTransition</code>\',id:\'ontransition\',level:3},{value:\'Contrived Example\',id:\'contrived-example\',level:2},{value:\'Guards\',id:\'guards\',level:2},{value:\'Recap\',id:\'recap\',level:2},{value:\'Next Steps\',id:\'next-steps\',level:2}];var layoutProps={toc:toc};var MDXLayout="wrapper";function MDXContent(_ref){var components=_ref.components,props=(0,_Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_objectWithoutPropertiesLoose_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(_ref,_excluded);return (0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)(MDXLayout,(0,_Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"The state machine is one of the most important tools a statesmith can have in his belt. ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"https://xstate.js.org/"},"XState")," is the current king of the JavaScript state machine world. Zedux is not out to change that, in fact we may build an official XState Zedux integration soon."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"However, Zedux does provide a minimal state machine implementation out of the box. These state machines use a high-level, TypeScript-first design that\'s meant to handle simple cases extremely well. For more power, use XState."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"creating-a-machine"},"Creating a machine"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Zedux provides a single high-level injector for creating automatically-typed state machines: ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"injectMachineStore"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Pass a function to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"injectMachineStore")," that accepts a single ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"state")," factory function and returns an array of states. The first state in the array becomes the initial state."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"import { atom, injectMachineStore } from \'@zedux/react\'\\n\\nconst trafficLightAtom = atom(\'trafficLight\', () => {\\n  const store = injectMachineStore(state => [\\n    state(\'green\'), // <- the initial state\\n    state(\'yellow\'),\\n    state(\'red\'),\\n  ])\\n\\n  return store\\n})\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Here we create a state machine with 3 states: ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"green"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"yellow"),", and ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"red"),". ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"green")," is the initial state. But this machine is stuck in ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"green")," forever! We need to add transitions to the machine:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const store = injectMachineStore(state => [\\n  state(\'green\').on(\'timer\', \'yellow\'),\\n  state(\'yellow\').on(\'timer\', \'red\'),\\n  state(\'red\').on(\'timer\', \'green\'),\\n])\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"We use ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".on(action, nextState)")," to add transitions to the machine\'s states. Now the machine can transition from ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"green")," -> ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"yellow")," -> ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"red")," -> ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"green")," -> etc. in a loop. The machine will transition when it receives the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"timer")," signal."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Now ... how do we send that signal to the machine?"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"machinestore"},"MachineStore"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"injectMachineStore()")," returns a special store called a MachineStore. MachineStore extends the Zedux Store class and adds some state machine functionality."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"import { injectMachineStore, MachineStore } from \'@zedux/react\'\\n\\nconst exampleAtom = atom(\'example\', () => {\\n  const store = injectMachineStore(() => [])\\n\\n  store instanceof MachineStore // true\\n})\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("admonition",{"type":"tip"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",{parentName:"admonition"},"While you can instantiate the MachineStore class yourself, it\'s highly recommended to use helpers like ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"injectMachineStore()")," for the automatic TS types.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"send"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h3"},".send()")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Use this to send signals to the store, triggering state transitions:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts","metastring":"live ecosystemId=send-example resultVar=output","live":true,"ecosystemId":"send-example","resultVar":"output"},"const trafficLightAtom = atom(\'trafficLight\', () => {\\n  const store = injectMachineStore(state => [\\n    state(\'green\').on(\'timer\', \'yellow\'),\\n    state(\'yellow\').on(\'timer\', \'red\'),\\n    state(\'red\').on(\'timer\', \'green\'),\\n  ])\\n\\n  return store\\n})\\n\\nconst ecosystem = createEcosystem({ id: \'send-example\' })\\nconst { store } = ecosystem.getInstance(trafficLightAtom)\\n\\nconst initialState = store.getState()\\nstore.send(\'timer\')\\nconst nextState = store.getState()\\nconst output = { initialState, nextState }\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("admonition",{"type":"tip"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",{parentName:"admonition"},"The store returned from the state factory ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("em",{parentName:"p"},"is")," the atom instance\'s ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".store"),". Since this example returned a MachineStore, you can access the machine\'s methods directly on the instance\'s store - e.g. ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"instance.store.send(\'timer\')"),". This has full TypeScript support too!")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"For TypeScript users, ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".send()")," only accepts strings that were specified as signal names during machine creation. In this example, passing anything but the string ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"\'timer\'")," gives a TS error:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"send(\'time\') // Argument of type \'\\"time\\"\' is not assignable to parameter of type \'\\"timer\\"\'\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"The machine will only transition if the current state has a transition specified for the passed signal."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const store = injectMachineStore(state => [\\n  state(\'idle\').on(\'move\', \'animating\')\\n  state(\'animating\').on(\'finish\', \'idle\')\\n])\\n\\nstore.getValue() // \'idle\'\\nstore.send(\'finish\') // does nothing\\nstore.getValue() // \'idle\'\\nstore.send(\'move\')\\nstore.getValue() // \'animating\'\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"is"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h3"},".is()")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Returns true if the machine\'s current state is the passed state string."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts","metastring":"live ecosystemId=is-example resultVar=output","live":true,"ecosystemId":"is-example","resultVar":"output"},"const trafficLightAtom = atom(\'trafficLight\', () => {\\n  const store = injectMachineStore(state => [\\n    state(\'green\').on(\'timer\', \'yellow\'),\\n    state(\'yellow\').on(\'timer\', \'red\'),\\n    state(\'red\').on(\'timer\', \'green\'),\\n  ])\\n\\n  return store\\n})\\n\\nconst ecosystem = createEcosystem({ id: \'is-example\' })\\n\\n// both .is and .send are bound function properties (destructuring is fine):\\nconst { is, send } = ecosystem.getInstance(trafficLightAtom).store\\n\\nsend(\'timer\')\\nsend(\'timer\')\\nconst output = is(\'red\')\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"For TS users, ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".is()")," only accepts strings that were specified as state names during machine creation. In this example, passing anything but the strings ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"\'green\'"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"\'yellow\'"),", or ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"\'red\'")," gives a TS error:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"is(\'yello\') // Argument of type \'\\"yello\\"\' is not assignable to parameter of type \'\\"green\\" | \\"yellow\\" | \\"red\\"\'\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"getvalue"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h3"},".getValue()")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Returns the machine\'s current string value:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"store.getValue() // green\\nstore.send(\'timer\')\\nstore.getValue() // yellow\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"state-shape"},"State Shape"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"The MachineStore\'s state is an object like the following:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"store.getState()\\n// {\\n//   context: undefined,\\n//   value: \'green\',\\n// }\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".value")," is the current string state of the machine."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"// These two lines are equivalent:\\nmachineStore.getState().value === \'green\'\\nmachineStore.is(\'green\')\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"We\'ll look at ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".context")," next:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"context"},"Context"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"MachineStores can hold extra state, besides the value string. This extra state is called context. Context must be an object (or ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"undefined"),")."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"You can pass the initial context as the 2nd param to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"injectMachineStore()"),":"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const store = injectMachineStore(statesFactory, initialContext)\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"getcontext"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h3"},".getContext()")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Returns the current context value. An alias for ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"machineStore.getState().context"),":"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"// These two lines are equivalent:\\nmachineStore.getState().context\\nmachineStore.getContext()\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"setcontext"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h3"},".setContext()")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Sets the store\'s context value. Accepts function overloads."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"// These are equivalent:\\nmachineStore.setState(state => ({ ...state, context: newContext }))\\nmachineStore.setContext(newContext)\\nmachineStore.setContext(context => newContext)\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"setcontextdeep"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h3"},".setContextDeep()")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Deeply merges the passed context value into the existing context. Accepts function overloads."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"// These are equivalent:\\nmachineStore.setStateDeep({ context: newContext })\\nmachineStore.setContextDeep(newContext)\\nmachineStore.setContextDeep(context => newContext)\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("admonition",{"type":"warning"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",{parentName:"admonition"},"Just like ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".setStateDeep()"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".setContextDeep()")," is only for updating state - it cannot be used to delete keys. Use ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".setContext")," for that.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"example"},"Example"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Here\'s an example using context to keep track of how many times a theme toggler toggles:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx","metastring":"live ecosystemId=state-machines/context resultVar=Theme","live":true,"ecosystemId":"state-machines/context","resultVar":"Theme"},"const themeAtom = atom(\'theme\', () => {\\n  const store = injectMachineStore(\\n    state => [\\n      state(\'light\').on(\'toggle\', \'dark\'),\\n      state(\'dark\').on(\'toggle\', \'light\'),\\n    ],\\n    { count: 0 },\\n    {\\n      onTransition: machine =>\\n        machine.setContext(context => ({ count: context.count + 1 })),\\n    }\\n  )\\n\\n  // you can alias store methods on exports for use in `useAtomState`:\\n  return api(store).setExports({ send: store.send })\\n})\\n\\nfunction Theme() {\\n  const [{ context, value }, { send }] = useAtomState(themeAtom)\\n\\n  return (\\n    <div style={value === \'dark\' ? { background: \'#444\', color: \'#fff\' } : {}}>\\n      <label>\\n        <input\\n          checked={value === \'dark\'}\\n          onChange={() => send(\'toggle\')}\\n          type=\\"checkbox\\"\\n        />\\n        <span>{value} mode</span>\\n      </label>\\n      <div>Toggle Count: {context.count}</div>\\n    </div>\\n  )\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"In this example we also made use of the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"onTransition")," listener. We\'ll look at listeners now:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"listeners"},"Listeners"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Listeners can be used to run side effects when the state machine transitions to a new state. There are 3 kinds: ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"onEnter"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"onLeave"),", and the universal ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"onTransition"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"onenter"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h3"},"onEnter")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"This listener is attached to individual states via ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"state.onEnter()"),". Here\'s an example using ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".onEnter()")," to send a request when the machine enters the \'fetching\' state:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const requestStore = injectMachineStore(\\n  state => [\\n    state(\'idle\').on(\'fetch\', \'fetching\'),\\n    state(\'fetching\')\\n      .on(\'success\', \'success\')\\n      .on(\'failure\', \'failure\')\\n      .onEnter(async machine => {\\n        try {\\n          const data = await fetch(\'/todos\').then(data => data.json())\\n          machine.setContextDeep({ data })\\n          machine.send(\'success\')\\n        } catch (error) {\\n          machine.setContextDeep({ error })\\n          machine.send(\'failure\')\\n        }\\n      }),\\n  ],\\n  { data: null, error: null }\\n)\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("admonition",{"type":"note"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",{parentName:"admonition"},"For TS users: ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".onEnter()")," has limited type support, since the machine\'s full type hasn\'t been inferred yet. The above example will work because ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".onEnter()")," is placed after the two ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".on()")," calls for the \'fetching\' state. When you need access to better types, use ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"onTransition")," instead.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"onleave"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h3"},"onLeave")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"This listener is attached to individual states via ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"state.onLeave()"),". Here\'s an example using both ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".onEnter()")," and ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".onLeave()")," to set and clear a timeout:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const timeoutStore = injectMachineStore(\\n  state => [\\n    state(\'idle\').on(\'startTimer\', \'waiting\'),\\n    state(\'waiting\')\\n      .on(\'cancel\', \'idle\')\\n      .on(\'timeout\', \'idle\')\\n      .onEnter(machine => {\\n        const handle = setTimeout(() => {\\n          machine.setContext({ handle: null })\\n          machine.send(\'timeout\')\\n        }, 1000)\\n\\n        machine.setContext({ handle })\\n      })\\n      .onLeave(async machine => {\\n        const { handle } = machine.getContext()\\n\\n        if (!handle) return\\n\\n        clearTimeout(handle)\\n        machine.setContext({ handle: null })\\n      }),\\n  ],\\n  { handle: null }\\n)\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("admonition",{"type":"note"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",{parentName:"admonition"},"For TS users: ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".onLeave()")," has limited type support (like ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".onEnter()"),"), since the machine\'s full type hasn\'t been inferred yet. When you need access to better types, use ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"onTransition")," instead.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"ontransition"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h3"},"onTransition")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"This is the catch-all listener that will be called every time the state machine transitions. This listener has full type support, so use this when ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"onEnter")," and ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"onLeave")," types are insufficient."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"The 3rd parameter to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"injectMachineStore()")," is a config object:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const store = injectMachineStore(statesFactory, initialContext, config)\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Pass ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"onTransition")," as part of this config"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const toggleMachine = injectMachineStore(state => [\\n  state(\'on\').on(\'toggle\', \'off\'),\\n  state(\'off\').on(\'toggle\', \'on\'),\\n])\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"contrived-example"},"Contrived Example"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"The obligatory garage door state machine example:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx","metastring":"live ecosystemId=state-machines/door resultVar=Machine","live":true,"ecosystemId":"state-machines/door","resultVar":"Machine"},"const doorAtom = atom(\'door\', () => {\\n  const store = injectMachineStore(\\n    state => {\\n      const startTimeout = machine => {\\n        const { handle } = machine.getContext()\\n\\n        if (handle) clearTimeout(handle)\\n\\n        const newHandle = setTimeout(() => {\\n          machine.setContext({ handle: null })\\n          machine.send(\'timeout\')\\n        }, 1000)\\n\\n        machine.setContext({ handle: newHandle })\\n      }\\n\\n      return [\\n        state(\'open\').on(\'click\', \'closing\'),\\n        state(\'opening\')\\n          .on(\'click\', \'closing\')\\n          .on(\'timeout\', \'open\')\\n          .onEnter(startTimeout),\\n        state(\'closed\').on(\'click\', \'opening\'),\\n        state(\'closing\')\\n          .on(\'click\', \'opening\')\\n          .on(\'timeout\', \'closed\')\\n          .onEnter(startTimeout),\\n      ]\\n    },\\n    { handle: null }\\n  )\\n\\n  return store\\n})\\n\\nfunction Machine() {\\n  const { value } = useAtomValue(doorAtom)\\n  const { send } = useAtomInstance(doorAtom).store\\n\\n  return (\\n    <>\\n      <div>State: {value}</div>\\n      <button onClick={() => send(\'click\')}>Fire Click</button>\\n    </>\\n  )\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"guards"},"Guards"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Guards are functions that conditionally prevent the machine from performing a valid transition. Guards can be set per-transition via the 3rd param to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"state.on()"),":"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const maybeMoveStore = injectMachineStore(\\n  state => [state(\'idle\').on(\'move\', \'moving\', context => !context.isFrozen)],\\n  { isFrozen: false }\\n)\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"These guards receive the machine\'s context as their only parameter. Return ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"true")," to allow the transition or any falsy value to prevent it. The above machine will only transition from ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"idle")," to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"moving")," if ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"context.isFrozen")," is falsy."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx","metastring":"live ecosystemId=state-machines/guards resultVar=Controls","live":true,"ecosystemId":"state-machines/guards","resultVar":"Controls"},"const maybeMovingAtom = atom(\'maybeMoving\', () => {\\n  const store = injectMachineStore(\\n    state => [\\n      // the guard! Prevent this transition if we\'re frozen:\\n      state(\'idle\').on(\'move\', \'moving\', context => !context.isFrozen),\\n      state(\'moving\')\\n        .on(\'stop\', \'idle\')\\n        .onEnter(machine => {\\n          setTimeout(() => machine.send(\'stop\'), 1000)\\n        }),\\n    ],\\n    { isFrozen: false }\\n  )\\n\\n  return api(store).setExports({\\n    toggleFreeze: () =>\\n      store.setContext(context => ({ isFrozen: !context.isFrozen })),\\n    is: store.is,\\n    move: () => store.send(\'move\'),\\n  })\\n})\\n\\nfunction Controls() {\\n  const [{ context }, { toggleFreeze, is, move }] = useAtomState(\\n    maybeMovingAtom\\n  )\\n\\n  return (\\n    <div>\\n      <div>- {context.isFrozen ? \'Frozen\' : \'All Systems Go\'} -</div>\\n      <div\\n        style={{\\n          background: \'cyan\',\\n          height: 50,\\n          left: 0,\\n          position: \'relative\',\\n          transition: \'all 1s\',\\n          width: 50,\\n          ...(is(\'moving\') && { left: 50 }),\\n        }}\\n      />\\n      <button onClick={toggleFreeze}>\\n        {context.isFrozen ? \'Unfreeze\' : \'Freeze\'}\\n      </button>\\n      <button onClick={move}>\\n        Move {context.isFrozen ? \'(Does Nothing)\' : \'\'}\\n      </button>\\n    </div>\\n  )\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"You can also configure the MachineStore with a universal guard via the config object:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"...\\nconst guard = (state, nextValue) => {\\n  // use the current state object and/or nextValue string to determine if the\\n  // transition should be allowed (return true if yes)\\n}\\nconst store = injectMachineStore(statesFactory, initialContext, { guard })\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"This guard receives the full current state (",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"{ context, value }"),") and the name of the pending transition state. Here\'s an example using a universal guard to pause the machine after allowing it to cycle back to the start:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx","metastring":"live ecosystemId=state-machines/guard resultVar=Cycler","live":true,"ecosystemId":"state-machines/guard","resultVar":"Cycler"},"const cyclingAtom = atom(\'cycling\', () => {\\n  const store = injectMachineStore(\\n    state => [\\n      state(\'a\').on(\'cycle\', \'b\'),\\n      state(\'b\').on(\'cycle\', \'c\'),\\n      state(\'c\').on(\'cycle\', \'a\'),\\n    ],\\n    { isPaused: false },\\n    {\\n      guard: (state, nextValue) => !state.context.isPaused || nextValue !== \'b\',\\n    }\\n  )\\n\\n  injectEffect(() => {\\n    const handle = setInterval(() => store.send(\'cycle\'), 1000)\\n\\n    return () => clearInterval(handle)\\n  }, [])\\n\\n  return api(store).setExports({\\n    togglePause: () =>\\n      store.setContext(context => ({ isPaused: !context.isPaused })),\\n  })\\n})\\n\\nfunction Cycler() {\\n  const [{ context, value }, { togglePause }] = useAtomState(cyclingAtom)\\n\\n  return (\\n    <div>\\n      <div>\\n        {value}{\' \'}\\n        {context.isPaused\\n          ? value === \'a\'\\n            ? \'(paused)\'\\n            : \'(finishing cycle...)\'\\n          : null}\\n      </div>\\n      <button onClick={togglePause}>\\n        {context.isPaused ? \'Resume\' : \'Pause\'}\\n      </button>\\n    </div>\\n  )\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"recap"},"Recap"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("ul",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Use ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"injectMachineStore()")," to create a MachineStore.",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("ul",{parentName:"li"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"state.on()")," adds transitions between states."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"state.onEnter()")," and ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"state.onLeave()")," add listeners to individual states."))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Context is the MachineStore\'s \\"extra state\\". It must be an object (or ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"undefined"),").",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("ul",{parentName:"li"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Set initial context with the 2nd param to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"injectMachineStore"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Get context with ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"machineStore.getContext()")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Set context with ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"machineStore.setContext()")," or ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"machineStore.setContextDeep()")))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Use guards to prevent valid transitions."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Add a universal guard and ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"onTransition")," listener via the 3rd param to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"injectMachineStore"),".")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"next-steps"},"Next Steps"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"That\'s about it for the key features of Zedux. You\'re ready to jump in and get building! Check out the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"../advanced/complex-params"},"advanced guides")," and ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"../api/classes/Atom"},"API docs")," as needed. Happy coding!"));};MDXContent.isMDXComponent=true;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzk3NS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OzZCQUVBLDBCQUNBLGVBQ0EsNkJBTU8sR0FBTUUsWUFBVyxDQUFHLENBQzFCQyxFQUFFLENBQUUsZ0JBQWdCLENBQ3BCQyxLQUFLLENBQUUsZ0JBQ1IsQ0FBQyxDQUNNLEdBQU1DLGFBQVksQ0FBR0MsU0FBUyxDQUM5QixHQUFNQyxTQUFRLENBQUcsQ0FDdEIsZUFBZSxDQUFFLDRCQUE0QixDQUM3QyxJQUFJLENBQUUsNEJBQTRCLENBQ2xDLE9BQU8sQ0FBRSxnQkFBZ0IsQ0FDekIsYUFBYSxDQUFFLDRQQUE0UCxDQUMzUSxRQUFRLENBQUUsMkNBQTJDLENBQ3JELGVBQWUsQ0FBRSxhQUFhLENBQzlCLE1BQU0sQ0FBRSw2QkFBNkIsQ0FDckMsV0FBVyxDQUFFLHdDQUF3QyxDQUNyRCxPQUFPLENBQUUsS0FBSyxDQUNkLFNBQVMsQ0FBRSxtRkFBbUYsQ0FDOUYsTUFBTSxDQUFFLEVBQUUsQ0FDVixTQUFTLENBQUUsU0FBUyxDQUNwQixhQUFhLENBQUUsQ0FDYixJQUFJLENBQUUsZ0JBQWdCLENBQ3RCLE9BQU8sQ0FBRSxnQkFDWCxDQUFDLENBQ0QsU0FBUyxDQUFFLE9BQU8sQ0FDbEIsVUFBVSxDQUFFLENBQ1YsT0FBTyxDQUFFLFFBQVEsQ0FDakIsV0FBVyxDQUFFLGdDQUNmLENBQUMsQ0FDRCxNQUFNLENBQUUsQ0FDTixPQUFPLENBQUUsZ0JBQWdCLENBQ3pCLFdBQVcsQ0FBRSxxQ0FDZixDQUNGLENBQUMsQ0FDTSxHQUFNQyxPQUFNLENBQUcsQ0FFdEIsQ0FBQyxDQUdNLEdBQU1DLElBQUcsQ0FBRyxDQUFDLENBQ2xCQyxLQUFLLENBQUUsb0JBQW9CLENBQzNCUCxFQUFFLENBQUUsb0JBQW9CLENBQ3hCUSxLQUFLLENBQUUsQ0FDVCxDQUFDLENBQUUsQ0FDREQsS0FBSyxDQUFFLGNBQWMsQ0FDckJQLEVBQUUsQ0FBRSxjQUFjLENBQ2xCUSxLQUFLLENBQUUsQ0FDVCxDQUFDLENBQUUsQ0FDREQsS0FBSyxDQUFFLHNCQUFzQixDQUM3QlAsRUFBRSxDQUFFLE1BQU0sQ0FDVlEsS0FBSyxDQUFFLENBQ1QsQ0FBQyxDQUFFLENBQ0RELEtBQUssQ0FBRSxvQkFBb0IsQ0FDM0JQLEVBQUUsQ0FBRSxJQUFJLENBQ1JRLEtBQUssQ0FBRSxDQUNULENBQUMsQ0FBRSxDQUNERCxLQUFLLENBQUUsMEJBQTBCLENBQ2pDUCxFQUFFLENBQUUsVUFBVSxDQUNkUSxLQUFLLENBQUUsQ0FDVCxDQUFDLENBQUUsQ0FDREQsS0FBSyxDQUFFLGFBQWEsQ0FDcEJQLEVBQUUsQ0FBRSxhQUFhLENBQ2pCUSxLQUFLLENBQUUsQ0FDVCxDQUFDLENBQUUsQ0FDREQsS0FBSyxDQUFFLFNBQVMsQ0FDaEJQLEVBQUUsQ0FBRSxTQUFTLENBQ2JRLEtBQUssQ0FBRSxDQUNULENBQUMsQ0FBRSxDQUNERCxLQUFLLENBQUUsNEJBQTRCLENBQ25DUCxFQUFFLENBQUUsWUFBWSxDQUNoQlEsS0FBSyxDQUFFLENBQ1QsQ0FBQyxDQUFFLENBQ0RELEtBQUssQ0FBRSw0QkFBNEIsQ0FDbkNQLEVBQUUsQ0FBRSxZQUFZLENBQ2hCUSxLQUFLLENBQUUsQ0FDVCxDQUFDLENBQUUsQ0FDREQsS0FBSyxDQUFFLGdDQUFnQyxDQUN2Q1AsRUFBRSxDQUFFLGdCQUFnQixDQUNwQlEsS0FBSyxDQUFFLENBQ1QsQ0FBQyxDQUFFLENBQ0RELEtBQUssQ0FBRSxTQUFTLENBQ2hCUCxFQUFFLENBQUUsU0FBUyxDQUNiUSxLQUFLLENBQUUsQ0FDVCxDQUFDLENBQUUsQ0FDREQsS0FBSyxDQUFFLFdBQVcsQ0FDbEJQLEVBQUUsQ0FBRSxXQUFXLENBQ2ZRLEtBQUssQ0FBRSxDQUNULENBQUMsQ0FBRSxDQUNERCxLQUFLLENBQUUsc0JBQXNCLENBQzdCUCxFQUFFLENBQUUsU0FBUyxDQUNiUSxLQUFLLENBQUUsQ0FDVCxDQUFDLENBQUUsQ0FDREQsS0FBSyxDQUFFLHNCQUFzQixDQUM3QlAsRUFBRSxDQUFFLFNBQVMsQ0FDYlEsS0FBSyxDQUFFLENBQ1QsQ0FBQyxDQUFFLENBQ0RELEtBQUssQ0FBRSwyQkFBMkIsQ0FDbENQLEVBQUUsQ0FBRSxjQUFjLENBQ2xCUSxLQUFLLENBQUUsQ0FDVCxDQUFDLENBQUUsQ0FDREQsS0FBSyxDQUFFLG1CQUFtQixDQUMxQlAsRUFBRSxDQUFFLG1CQUFtQixDQUN2QlEsS0FBSyxDQUFFLENBQ1QsQ0FBQyxDQUFFLENBQ0RELEtBQUssQ0FBRSxRQUFRLENBQ2ZQLEVBQUUsQ0FBRSxRQUFRLENBQ1pRLEtBQUssQ0FBRSxDQUNULENBQUMsQ0FBRSxDQUNERCxLQUFLLENBQUUsT0FBTyxDQUNkUCxFQUFFLENBQUUsT0FBTyxDQUNYUSxLQUFLLENBQUUsQ0FDVCxDQUFDLENBQUUsQ0FDREQsS0FBSyxDQUFFLFlBQVksQ0FDbkJQLEVBQUUsQ0FBRSxZQUFZLENBQ2hCUSxLQUFLLENBQUUsQ0FDVCxDQUFDLENBQUMsQ0FFRixHQUFNQyxZQUFXLENBQUcsQ0FDbEJILEdBQUcsQ0FBSEEsR0FDRixDQUFDLENBQ0QsR0FBTUksVUFBUyxDQUFHLFNBQVMsQ0FDWixRQUFTQyxXQUFVLE1BRy9CLElBRkRDLFdBQVUsTUFBVkEsVUFBVSxDQUNQQyxLQUFLLHNMQUVSLE1BQU8sOERBQUMsU0FBUyxvSkFBS0osV0FBVyxDQUFNSSxLQUFLLEVBQUUsVUFBVSxDQUFFRCxVQUFXLENBQUMsT0FBTyxDQUFDLFdBQVcsR0FFdkYsaUtBQStGLGtFQUFHLFVBQVUsQ0FBQyxHQUFHLENBQzVHLE1BQU0sQ0FBRSx3QkFBd0IsV0FDakIsZ0tBQW9LLENBQ3ZMLDBTQUE0TyxDQUM1TyxtRUFDRSxJQUFJLENBQUUsb0JBQW9CLHVCQUNFLENBQzlCLHNLQUFvRywyRUFBWSxVQUFVLENBQUMsR0FBRyx1QkFBb0MsS0FBUyxDQUMzSyw0RkFBMEIsMkVBQVksVUFBVSxDQUFDLEdBQUcsdUJBQW9DLDJCQUEyQiwyRUFBWSxVQUFVLENBQUMsR0FBRyxVQUF1Qiw2R0FBaUgsQ0FDclIsd0VBQUsscUVBQU0sVUFBVSxDQUFDLEtBQUssQ0FDdkIsV0FBVyxDQUFFLGFBQWEsd1JBWXpCLENBQU0sQ0FDWCx1SEFBcUQsMkVBQVksVUFBVSxDQUFDLEdBQUcsVUFBdUIsTUFBTSwyRUFBWSxVQUFVLENBQUMsR0FBRyxXQUF3QixVQUFVLDJFQUFZLFVBQVUsQ0FBQyxHQUFHLFFBQXFCLE1BQU0sMkVBQVksVUFBVSxDQUFDLEdBQUcsVUFBdUIsd0RBQXdELDJFQUFZLFVBQVUsQ0FBQyxHQUFHLFVBQXVCLHdEQUE0RCxDQUNuYix3RUFBSyxxRUFBTSxVQUFVLENBQUMsS0FBSyxDQUN2QixXQUFXLENBQUUsYUFBYSw0S0FNekIsQ0FBTSxDQUNYLGdGQUFjLDJFQUFZLFVBQVUsQ0FBQyxHQUFHLDJCQUF3QyxxRkFBcUYsMkVBQVksVUFBVSxDQUFDLEdBQUcsVUFBdUIsUUFBUSwyRUFBWSxVQUFVLENBQUMsR0FBRyxXQUF3QixRQUFRLDJFQUFZLFVBQVUsQ0FBQyxHQUFHLFFBQXFCLFFBQVEsMkVBQVksVUFBVSxDQUFDLEdBQUcsVUFBdUIseUVBQXlFLDJFQUFZLFVBQVUsQ0FBQyxHQUFHLFVBQXVCLFlBQWdCLENBQzFnQiwySEFBNkQsQ0FDN0QsbUVBQ0UsSUFBSSxDQUFFLGNBQWMsaUJBQ0UsQ0FDeEIsc0VBQUcsMkVBQVksVUFBVSxDQUFDLEdBQUcseUJBQXNDLHlJQUE2SSxDQUNoTix3RUFBSyxxRUFBTSxVQUFVLENBQUMsS0FBSyxDQUN2QixXQUFXLENBQUUsYUFBYSxrTkFRekIsQ0FBTSxDQUNYLDJFQUNFLE1BQU0sQ0FBRSxLQUFLLEVBQ1osa0VBQUcsVUFBVSxDQUFDLFlBQVksNEdBQTRHLDJFQUFZLFVBQVUsQ0FBQyxHQUFHLHlCQUFzQyxnQ0FBb0MsQ0FBYSxDQUMxUCxtRUFDRSxJQUFJLENBQUUsTUFBTSxFQUNYLDJFQUFZLFVBQVUsQ0FBQyxJQUFJLFlBQXlCLENBQUssQ0FDNUQsNklBQStFLENBQy9FLHdFQUFLLHFFQUFNLFVBQVUsQ0FBQyxLQUFLLENBQ3ZCLFdBQVcsQ0FBRSxhQUFhLENBQzFCLFlBQVksQ0FBRSxnREFBZ0QsQ0FDOUQsTUFBTSxDQUFFLElBQUksQ0FDWixhQUFhLENBQUUsY0FBYyxDQUM3QixXQUFXLENBQUUsUUFBUSx5Z0JBa0JwQixDQUFNLENBQ1gsMkVBQ0UsTUFBTSxDQUFFLEtBQUssRUFDWixrRUFBRyxVQUFVLENBQUMsWUFBWSwrQ0FBK0MsbUVBQUksVUFBVSxDQUFDLEdBQUcsT0FBWSx5QkFBeUIsMkVBQVksVUFBVSxDQUFDLEdBQUcsV0FBd0IsK0hBQStILDJFQUFZLFVBQVUsQ0FBQyxHQUFHLGlDQUE4QywyQ0FBK0MsQ0FBYSxDQUN4YiwrRkFBNkIsMkVBQVksVUFBVSxDQUFDLEdBQUcsWUFBeUIsd0lBQXdJLDJFQUFZLFVBQVUsQ0FBQyxHQUFHLFlBQXlCLHNCQUEwQixDQUNyUyx3RUFBSyxxRUFBTSxVQUFVLENBQUMsS0FBSyxDQUN2QixXQUFXLENBQUUsYUFBYSxxR0FFekIsQ0FBTSxDQUNYLGdMQUFrSCxDQUNsSCx3RUFBSyxxRUFBTSxVQUFVLENBQUMsS0FBSyxDQUN2QixXQUFXLENBQUUsYUFBYSwrUkFXekIsQ0FBTSxDQUNYLG1FQUNFLElBQUksQ0FBRSxJQUFJLEVBQ1QsMkVBQVksVUFBVSxDQUFDLElBQUksVUFBdUIsQ0FBSyxDQUMxRCxnSkFBa0YsQ0FDbEYsd0VBQUsscUVBQU0sVUFBVSxDQUFDLEtBQUssQ0FDdkIsV0FBVyxDQUFFLGFBQWEsQ0FDMUIsWUFBWSxDQUFFLDhDQUE4QyxDQUM1RCxNQUFNLENBQUUsSUFBSSxDQUNaLGFBQWEsQ0FBRSxZQUFZLENBQzNCLFdBQVcsQ0FBRSxRQUFRLDRnQkFtQnBCLENBQU0sQ0FDWCx1RkFBcUIsMkVBQVksVUFBVSxDQUFDLEdBQUcsVUFBdUIsd0lBQXdJLDJFQUFZLFVBQVUsQ0FBQyxHQUFHLFlBQXlCLE1BQU0sMkVBQVksVUFBVSxDQUFDLEdBQUcsYUFBMEIsU0FBUywyRUFBWSxVQUFVLENBQUMsR0FBRyxVQUF1QixzQkFBMEIsQ0FDL1ksd0VBQUsscUVBQU0sVUFBVSxDQUFDLEtBQUssQ0FDdkIsV0FBVyxDQUFFLGFBQWEsNEhBRXpCLENBQU0sQ0FDWCxtRUFDRSxJQUFJLENBQUUsVUFBVSxFQUNmLDJFQUFZLFVBQVUsQ0FBQyxJQUFJLGdCQUE2QixDQUFLLENBQ2hFLG9IQUFzRCxDQUN0RCx3RUFBSyxxRUFBTSxVQUFVLENBQUMsS0FBSyxDQUN2QixXQUFXLENBQUUsYUFBYSxpRkFJekIsQ0FBTSxDQUNYLG1FQUNFLElBQUksQ0FBRSxhQUFhLGdCQUNFLENBQ3ZCLGtJQUFvRSxDQUNwRSx3RUFBSyxxRUFBTSxVQUFVLENBQUMsS0FBSyxDQUN2QixXQUFXLENBQUUsYUFBYSxtRkFNekIsQ0FBTSxDQUNYLHNFQUFHLDJFQUFZLFVBQVUsQ0FBQyxHQUFHLFdBQXdCLGdEQUFvRCxDQUN6Ryx3RUFBSyxxRUFBTSxVQUFVLENBQUMsS0FBSyxDQUN2QixXQUFXLENBQUUsYUFBYSw4R0FJekIsQ0FBTSxDQUNYLHVGQUFxQiwyRUFBWSxVQUFVLENBQUMsR0FBRyxhQUEwQixVQUFjLENBQ3ZGLG1FQUNFLElBQUksQ0FBRSxTQUFTLFlBQ0UsQ0FDbkIseU1BQXVJLDJFQUFZLFVBQVUsQ0FBQyxHQUFHLGNBQTJCLE1BQVUsQ0FDdE0sOEhBQTRELDJFQUFZLFVBQVUsQ0FBQyxHQUFHLHlCQUFzQyxLQUFTLENBQ3JJLHdFQUFLLHFFQUFNLFVBQVUsQ0FBQyxLQUFLLENBQ3ZCLFdBQVcsQ0FBRSxhQUFhLHNFQUV6QixDQUFNLENBQ1gsbUVBQ0UsSUFBSSxDQUFFLFlBQVksRUFDakIsMkVBQVksVUFBVSxDQUFDLElBQUksa0JBQStCLENBQUssQ0FDbEUseUhBQXVELDJFQUFZLFVBQVUsQ0FBQyxHQUFHLG9DQUFpRCxLQUFTLENBQzNJLHdFQUFLLHFFQUFNLFVBQVUsQ0FBQyxLQUFLLENBQ3ZCLFdBQVcsQ0FBRSxhQUFhLHFHQUl6QixDQUFNLENBQ1gsbUVBQ0UsSUFBSSxDQUFFLFlBQVksRUFDakIsMkVBQVksVUFBVSxDQUFDLElBQUksa0JBQStCLENBQUssQ0FDbEUsb0lBQXNFLENBQ3RFLHdFQUFLLHFFQUFNLFVBQVUsQ0FBQyxLQUFLLENBQ3ZCLFdBQVcsQ0FBRSxhQUFhLHlMQUt6QixDQUFNLENBQ1gsbUVBQ0UsSUFBSSxDQUFFLGdCQUFnQixFQUNyQiwyRUFBWSxVQUFVLENBQUMsSUFBSSxzQkFBbUMsQ0FBSyxDQUN0RSxzS0FBd0csQ0FDeEcsd0VBQUsscUVBQU0sVUFBVSxDQUFDLEtBQUssQ0FDdkIsV0FBVyxDQUFFLGFBQWEsZ0xBS3pCLENBQU0sQ0FDWCwyRUFDRSxNQUFNLENBQUUsU0FBUyxFQUNoQixrRUFBRyxVQUFVLENBQUMsWUFBWSxlQUFlLDJFQUFZLFVBQVUsQ0FBQyxHQUFHLG9CQUFpQyxNQUFNLDJFQUFZLFVBQVUsQ0FBQyxHQUFHLHNCQUFtQyx3RUFBd0UsMkVBQVksVUFBVSxDQUFDLEdBQUcsZ0JBQTZCLGNBQWtCLENBQWEsQ0FDeFUsbUVBQ0UsSUFBSSxDQUFFLFNBQVMsWUFDRSxDQUNuQixpS0FBbUcsQ0FDbkcsd0VBQUsscUVBQU0sVUFBVSxDQUFDLEtBQUssQ0FDdkIsV0FBVyxDQUFFLGNBQWMsQ0FDM0IsWUFBWSxDQUFFLHlEQUF5RCxDQUN2RSxNQUFNLENBQUUsSUFBSSxDQUNaLGFBQWEsQ0FBRSx3QkFBd0IsQ0FDdkMsV0FBVyxDQUFFLE9BQU8sNDVCQW1DbkIsQ0FBTSxDQUNYLGlIQUErQywyRUFBWSxVQUFVLENBQUMsR0FBRyxpQkFBOEIsMkNBQStDLENBQ3RKLG1FQUNFLElBQUksQ0FBRSxXQUFXLGNBQ0UsQ0FDckIseUxBQXVILDJFQUFZLFVBQVUsQ0FBQyxHQUFHLFlBQXlCLE1BQU0sMkVBQVksVUFBVSxDQUFDLEdBQUcsWUFBeUIsd0JBQXdCLDJFQUFZLFVBQVUsQ0FBQyxHQUFHLGlCQUE4QixLQUFTLENBQzVULG1FQUNFLElBQUksQ0FBRSxTQUFTLEVBQ2QsMkVBQVksVUFBVSxDQUFDLElBQUksWUFBeUIsQ0FBSyxDQUM1RCw0SEFBMEQsMkVBQVksVUFBVSxDQUFDLEdBQUcsb0JBQWlDLDhCQUE4QiwyRUFBWSxVQUFVLENBQUMsR0FBRyxlQUE0QixvRUFBd0UsQ0FDalIsd0VBQUsscUVBQU0sVUFBVSxDQUFDLEtBQUssQ0FDdkIsV0FBVyxDQUFFLGFBQWEsb2pCQW9CekIsQ0FBTSxDQUNYLDJFQUNFLE1BQU0sQ0FBRSxNQUFNLEVBQ2Isa0VBQUcsVUFBVSxDQUFDLFlBQVksbUJBQW1CLDJFQUFZLFVBQVUsQ0FBQyxHQUFHLGVBQTRCLDJIQUEySCwyRUFBWSxVQUFVLENBQUMsR0FBRyxlQUE0Qiw2QkFBNkIsMkVBQVksVUFBVSxDQUFDLEdBQUcsVUFBdUIsK0VBQStFLDJFQUFZLFVBQVUsQ0FBQyxHQUFHLGlCQUE4QixhQUFpQixDQUFhLENBQzFnQixtRUFDRSxJQUFJLENBQUUsU0FBUyxFQUNkLDJFQUFZLFVBQVUsQ0FBQyxJQUFJLFlBQXlCLENBQUssQ0FDNUQsNEhBQTBELDJFQUFZLFVBQVUsQ0FBQyxHQUFHLG9CQUFpQyxtQ0FBbUMsMkVBQVksVUFBVSxDQUFDLEdBQUcsZUFBNEIsU0FBUywyRUFBWSxVQUFVLENBQUMsR0FBRyxlQUE0QixnQ0FBb0MsQ0FDalQsd0VBQUsscUVBQU0sVUFBVSxDQUFDLEtBQUssQ0FDdkIsV0FBVyxDQUFFLGFBQWEsd29CQTBCekIsQ0FBTSxDQUNYLDJFQUNFLE1BQU0sQ0FBRSxNQUFNLEVBQ2Isa0VBQUcsVUFBVSxDQUFDLFlBQVksbUJBQW1CLDJFQUFZLFVBQVUsQ0FBQyxHQUFHLGVBQTRCLG9DQUFvQywyRUFBWSxVQUFVLENBQUMsR0FBRyxlQUE0Qix5R0FBeUcsMkVBQVksVUFBVSxDQUFDLEdBQUcsaUJBQThCLGFBQWlCLENBQWEsQ0FDL1gsbUVBQ0UsSUFBSSxDQUFFLGNBQWMsRUFDbkIsMkVBQVksVUFBVSxDQUFDLElBQUksaUJBQThCLENBQUssQ0FDakUsNE5BQTBKLDJFQUFZLFVBQVUsQ0FBQyxHQUFHLFlBQXlCLFNBQVMsMkVBQVksVUFBVSxDQUFDLEdBQUcsWUFBeUIsNEJBQWdDLENBQ3pTLDhGQUE0QiwyRUFBWSxVQUFVLENBQUMsR0FBRyx5QkFBc0Msd0JBQTRCLENBQ3hILHdFQUFLLHFFQUFNLFVBQVUsQ0FBQyxLQUFLLENBQ3ZCLFdBQVcsQ0FBRSxhQUFhLDhFQUV6QixDQUFNLENBQ1gsOEVBQVksMkVBQVksVUFBVSxDQUFDLEdBQUcsaUJBQThCLDJCQUErQixDQUNuRyx3RUFBSyxxRUFBTSxVQUFVLENBQUMsS0FBSyxDQUN2QixXQUFXLENBQUUsYUFBYSxzSUFLekIsQ0FBTSxDQUNYLG1FQUNFLElBQUksQ0FBRSxtQkFBbUIsc0JBQ0UsQ0FDN0IsMEhBQTRELENBQzVELHdFQUFLLHFFQUFNLFVBQVUsQ0FBQyxLQUFLLENBQ3ZCLFdBQVcsQ0FBRSxjQUFjLENBQzNCLFlBQVksQ0FBRSx3REFBd0QsQ0FDdEUsTUFBTSxDQUFFLElBQUksQ0FDWixhQUFhLENBQUUscUJBQXFCLENBQ3BDLFdBQVcsQ0FBRSxTQUFTLHFuQ0ErQ3JCLENBQU0sQ0FDWCxtRUFDRSxJQUFJLENBQUUsUUFBUSxXQUNFLENBQ2xCLCtOQUE2SiwyRUFBWSxVQUFVLENBQUMsR0FBRyxlQUE0QixLQUFTLENBQzVOLHdFQUFLLHFFQUFNLFVBQVUsQ0FBQyxLQUFLLENBQ3ZCLFdBQVcsQ0FBRSxhQUFhLDJKQUt6QixDQUFNLENBQ1gsb0pBQWtGLDJFQUFZLFVBQVUsQ0FBQyxHQUFHLFNBQXNCLDJHQUEyRywyRUFBWSxVQUFVLENBQUMsR0FBRyxTQUFzQixRQUFRLDJFQUFZLFVBQVUsQ0FBQyxHQUFHLFdBQXdCLFFBQVEsMkVBQVksVUFBVSxDQUFDLEdBQUcscUJBQWtDLGNBQWtCLENBQzdhLHdFQUFLLHFFQUFNLFVBQVUsQ0FBQyxLQUFLLENBQ3ZCLFdBQVcsQ0FBRSxjQUFjLENBQzNCLFlBQVksQ0FBRSwyREFBMkQsQ0FDekUsTUFBTSxDQUFFLElBQUksQ0FDWixhQUFhLENBQUUsdUJBQXVCLENBQ3RDLFdBQVcsQ0FBRSxVQUFVLDZ6Q0FtRHRCLENBQU0sQ0FDWCw4SkFBZ0csQ0FDaEcsd0VBQUsscUVBQU0sVUFBVSxDQUFDLEtBQUssQ0FDdkIsV0FBVyxDQUFFLGFBQWEsdVFBT3pCLENBQU0sQ0FDWCxxSEFBbUQsMkVBQVksVUFBVSxDQUFDLEdBQUcsdUJBQW9DLGdLQUFvSyxDQUNyUix3RUFBSyxxRUFBTSxVQUFVLENBQUMsS0FBSyxDQUN2QixXQUFXLENBQUUsY0FBYyxDQUMzQixZQUFZLENBQUUsd0RBQXdELENBQ3RFLE1BQU0sQ0FBRSxJQUFJLENBQ1osYUFBYSxDQUFFLHNCQUFzQixDQUNyQyxXQUFXLENBQUUsUUFBUSx1aUNBNkNwQixDQUFNLENBQ1gsbUVBQ0UsSUFBSSxDQUFFLE9BQU8sVUFDRSxDQUNqQix1RUFDRSxtRUFBSSxVQUFVLENBQUMsSUFBSSxTQUFTLDJFQUFZLFVBQVUsQ0FBQyxJQUFJLHlCQUFzQyw4QkFDM0YsbUVBQUksVUFBVSxDQUFDLElBQUksRUFDakIsbUVBQUksVUFBVSxDQUFDLElBQUksRUFBQywyRUFBWSxVQUFVLENBQUMsSUFBSSxlQUE0QixxQ0FBMEMsQ0FDckgsbUVBQUksVUFBVSxDQUFDLElBQUksRUFBQywyRUFBWSxVQUFVLENBQUMsSUFBSSxvQkFBaUMsU0FBUywyRUFBWSxVQUFVLENBQUMsSUFBSSxvQkFBaUMsd0NBQTZDLENBQy9MLENBQ0YsQ0FDTCxtRUFBSSxVQUFVLENBQUMsSUFBSSw2RUFBMkUsMkVBQVksVUFBVSxDQUFDLElBQUksY0FBMkIsTUFDbEosbUVBQUksVUFBVSxDQUFDLElBQUksRUFDakIsbUVBQUksVUFBVSxDQUFDLElBQUksK0NBQStDLDJFQUFZLFVBQVUsQ0FBQyxJQUFJLHVCQUFvQyxLQUFVLENBQzNJLG1FQUFJLFVBQVUsQ0FBQyxJQUFJLHNCQUFzQiwyRUFBWSxVQUFVLENBQUMsSUFBSSw4QkFBMkMsQ0FBSyxDQUNwSCxtRUFBSSxVQUFVLENBQUMsSUFBSSxzQkFBc0IsMkVBQVksVUFBVSxDQUFDLElBQUksOEJBQTJDLFFBQVEsMkVBQVksVUFBVSxDQUFDLElBQUksa0NBQStDLENBQUssQ0FDbk0sQ0FDRixDQUNMLG1FQUFJLFVBQVUsQ0FBQyxJQUFJLDZDQUFrRCxDQUNyRSxtRUFBSSxVQUFVLENBQUMsSUFBSSwrQkFBK0IsMkVBQVksVUFBVSxDQUFDLElBQUksaUJBQThCLG1DQUFtQywyRUFBWSxVQUFVLENBQUMsSUFBSSx1QkFBb0MsS0FBVSxDQUNwTixDQUNMLG1FQUNFLElBQUksQ0FBRSxZQUFZLGVBQ0UsQ0FDdEIsZ0xBQThHLGtFQUFHLFVBQVUsQ0FBQyxHQUFHLENBQzNILE1BQU0sQ0FBRSw0QkFBNEIsb0JBQ1osU0FBUyxrRUFBRyxVQUFVLENBQUMsR0FBRyxDQUNsRCxNQUFNLENBQUUscUJBQXFCLGFBQ1osNkJBQWlDLENBQzFDLENBQ2hCLENBQ0EsQ0FDQUQsVUFBVSxDQUFDRyxjQUFjLENBQUcsSUFBSSIsInNvdXJjZXMiOlsid2VicGFjazovL3plZHV4LWRvY3MvLi9kb2NzL3dhbGt0aHJvdWdoL3N0YXRlLW1hY2hpbmVzLm1keD84ZTc3Il0sInNvdXJjZXNDb250ZW50IjpbIlxuXG4vKiBAanN4UnVudGltZSBjbGFzc2ljICovXG4vKiBAanN4IG1keCAqL1xuLyogQGpzeEZyYWcgUmVhY3QuRnJhZ21lbnQgKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1keCB9IGZyb20gJ0BtZHgtanMvcmVhY3QnO1xuXG5cbmV4cG9ydCBjb25zdCBmcm9udE1hdHRlciA9IHtcblx0aWQ6ICdzdGF0ZS1tYWNoaW5lcycsXG5cdHRpdGxlOiAnU3RhdGUgTWFjaGluZXMnXG59O1xuZXhwb3J0IGNvbnN0IGNvbnRlbnRUaXRsZSA9IHVuZGVmaW5lZDtcbmV4cG9ydCBjb25zdCBtZXRhZGF0YSA9IHtcbiAgXCJ1bnZlcnNpb25lZElkXCI6IFwid2Fsa3Rocm91Z2gvc3RhdGUtbWFjaGluZXNcIixcbiAgXCJpZFwiOiBcIndhbGt0aHJvdWdoL3N0YXRlLW1hY2hpbmVzXCIsXG4gIFwidGl0bGVcIjogXCJTdGF0ZSBNYWNoaW5lc1wiLFxuICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIHN0YXRlIG1hY2hpbmUgaXMgb25lIG9mIHRoZSBtb3N0IGltcG9ydGFudCB0b29scyBhIHN0YXRlc21pdGggY2FuIGhhdmUgaW4gaGlzIGJlbHQuIFhTdGF0ZSBpcyB0aGUgY3VycmVudCBraW5nIG9mIHRoZSBKYXZhU2NyaXB0IHN0YXRlIG1hY2hpbmUgd29ybGQuIFplZHV4IGlzIG5vdCBvdXQgdG8gY2hhbmdlIHRoYXQsIGluIGZhY3Qgd2UgbWF5IGJ1aWxkIGFuIG9mZmljaWFsIFhTdGF0ZSBaZWR1eCBpbnRlZ3JhdGlvbiBzb29uLlwiLFxuICBcInNvdXJjZVwiOiBcIkBzaXRlL2RvY3Mvd2Fsa3Rocm91Z2gvc3RhdGUtbWFjaGluZXMubWR4XCIsXG4gIFwic291cmNlRGlyTmFtZVwiOiBcIndhbGt0aHJvdWdoXCIsXG4gIFwic2x1Z1wiOiBcIi93YWxrdGhyb3VnaC9zdGF0ZS1tYWNoaW5lc1wiLFxuICBcInBlcm1hbGlua1wiOiBcIi96ZWR1eC9kb2NzL3dhbGt0aHJvdWdoL3N0YXRlLW1hY2hpbmVzXCIsXG4gIFwiZHJhZnRcIjogZmFsc2UsXG4gIFwiZWRpdFVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9PbW5pc3RhYy96ZWR1eC90cmVlL21hc3Rlci9kb2NzL3dhbGt0aHJvdWdoL3N0YXRlLW1hY2hpbmVzLm1keFwiLFxuICBcInRhZ3NcIjogW10sXG4gIFwidmVyc2lvblwiOiBcImN1cnJlbnRcIixcbiAgXCJmcm9udE1hdHRlclwiOiB7XG4gICAgXCJpZFwiOiBcInN0YXRlLW1hY2hpbmVzXCIsXG4gICAgXCJ0aXRsZVwiOiBcIlN0YXRlIE1hY2hpbmVzXCJcbiAgfSxcbiAgXCJzaWRlYmFyXCI6IFwicmVhY3RcIixcbiAgXCJwcmV2aW91c1wiOiB7XG4gICAgXCJ0aXRsZVwiOiBcIlJlc2V0c1wiLFxuICAgIFwicGVybWFsaW5rXCI6IFwiL3plZHV4L2RvY3Mvd2Fsa3Rocm91Z2gvcmVzZXRzXCJcbiAgfSxcbiAgXCJuZXh0XCI6IHtcbiAgICBcInRpdGxlXCI6IFwiQ29tcGxleCBQYXJhbXNcIixcbiAgICBcInBlcm1hbGlua1wiOiBcIi96ZWR1eC9kb2NzL2FkdmFuY2VkL2NvbXBsZXgtcGFyYW1zXCJcbiAgfVxufTtcbmV4cG9ydCBjb25zdCBhc3NldHMgPSB7XG5cbn07XG5cblxuZXhwb3J0IGNvbnN0IHRvYyA9IFt7XG4gIHZhbHVlOiAnQ3JlYXRpbmcgYSBtYWNoaW5lJyxcbiAgaWQ6ICdjcmVhdGluZy1hLW1hY2hpbmUnLFxuICBsZXZlbDogMlxufSwge1xuICB2YWx1ZTogJ01hY2hpbmVTdG9yZScsXG4gIGlkOiAnbWFjaGluZXN0b3JlJyxcbiAgbGV2ZWw6IDJcbn0sIHtcbiAgdmFsdWU6ICc8Y29kZT4uc2VuZCgpPC9jb2RlPicsXG4gIGlkOiAnc2VuZCcsXG4gIGxldmVsOiAzXG59LCB7XG4gIHZhbHVlOiAnPGNvZGU+LmlzKCk8L2NvZGU+JyxcbiAgaWQ6ICdpcycsXG4gIGxldmVsOiAzXG59LCB7XG4gIHZhbHVlOiAnPGNvZGU+LmdldFZhbHVlKCk8L2NvZGU+JyxcbiAgaWQ6ICdnZXR2YWx1ZScsXG4gIGxldmVsOiAzXG59LCB7XG4gIHZhbHVlOiAnU3RhdGUgU2hhcGUnLFxuICBpZDogJ3N0YXRlLXNoYXBlJyxcbiAgbGV2ZWw6IDNcbn0sIHtcbiAgdmFsdWU6ICdDb250ZXh0JyxcbiAgaWQ6ICdjb250ZXh0JyxcbiAgbGV2ZWw6IDJcbn0sIHtcbiAgdmFsdWU6ICc8Y29kZT4uZ2V0Q29udGV4dCgpPC9jb2RlPicsXG4gIGlkOiAnZ2V0Y29udGV4dCcsXG4gIGxldmVsOiAzXG59LCB7XG4gIHZhbHVlOiAnPGNvZGU+LnNldENvbnRleHQoKTwvY29kZT4nLFxuICBpZDogJ3NldGNvbnRleHQnLFxuICBsZXZlbDogM1xufSwge1xuICB2YWx1ZTogJzxjb2RlPi5zZXRDb250ZXh0RGVlcCgpPC9jb2RlPicsXG4gIGlkOiAnc2V0Y29udGV4dGRlZXAnLFxuICBsZXZlbDogM1xufSwge1xuICB2YWx1ZTogJ0V4YW1wbGUnLFxuICBpZDogJ2V4YW1wbGUnLFxuICBsZXZlbDogM1xufSwge1xuICB2YWx1ZTogJ0xpc3RlbmVycycsXG4gIGlkOiAnbGlzdGVuZXJzJyxcbiAgbGV2ZWw6IDJcbn0sIHtcbiAgdmFsdWU6ICc8Y29kZT5vbkVudGVyPC9jb2RlPicsXG4gIGlkOiAnb25lbnRlcicsXG4gIGxldmVsOiAzXG59LCB7XG4gIHZhbHVlOiAnPGNvZGU+b25MZWF2ZTwvY29kZT4nLFxuICBpZDogJ29ubGVhdmUnLFxuICBsZXZlbDogM1xufSwge1xuICB2YWx1ZTogJzxjb2RlPm9uVHJhbnNpdGlvbjwvY29kZT4nLFxuICBpZDogJ29udHJhbnNpdGlvbicsXG4gIGxldmVsOiAzXG59LCB7XG4gIHZhbHVlOiAnQ29udHJpdmVkIEV4YW1wbGUnLFxuICBpZDogJ2NvbnRyaXZlZC1leGFtcGxlJyxcbiAgbGV2ZWw6IDJcbn0sIHtcbiAgdmFsdWU6ICdHdWFyZHMnLFxuICBpZDogJ2d1YXJkcycsXG4gIGxldmVsOiAyXG59LCB7XG4gIHZhbHVlOiAnUmVjYXAnLFxuICBpZDogJ3JlY2FwJyxcbiAgbGV2ZWw6IDJcbn0sIHtcbiAgdmFsdWU6ICdOZXh0IFN0ZXBzJyxcbiAgaWQ6ICduZXh0LXN0ZXBzJyxcbiAgbGV2ZWw6IDJcbn1dO1xuXG5jb25zdCBsYXlvdXRQcm9wcyA9IHtcbiAgdG9jXG59O1xuY29uc3QgTURYTGF5b3V0ID0gXCJ3cmFwcGVyXCJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1EWENvbnRlbnQoe1xuICBjb21wb25lbnRzLFxuICAuLi5wcm9wc1xufSkge1xuICByZXR1cm4gPE1EWExheW91dCB7Li4ubGF5b3V0UHJvcHN9IHsuLi5wcm9wc30gY29tcG9uZW50cz17Y29tcG9uZW50c30gbWR4VHlwZT1cIk1EWExheW91dFwiPlxuXG4gICAgPHA+e2BUaGUgc3RhdGUgbWFjaGluZSBpcyBvbmUgb2YgdGhlIG1vc3QgaW1wb3J0YW50IHRvb2xzIGEgc3RhdGVzbWl0aCBjYW4gaGF2ZSBpbiBoaXMgYmVsdC4gYH08YSBwYXJlbnROYW1lPVwicFwiIHsuLi57XG4gICAgICAgIFwiaHJlZlwiOiBcImh0dHBzOi8veHN0YXRlLmpzLm9yZy9cIlxuICAgICAgfX0+e2BYU3RhdGVgfTwvYT57YCBpcyB0aGUgY3VycmVudCBraW5nIG9mIHRoZSBKYXZhU2NyaXB0IHN0YXRlIG1hY2hpbmUgd29ybGQuIFplZHV4IGlzIG5vdCBvdXQgdG8gY2hhbmdlIHRoYXQsIGluIGZhY3Qgd2UgbWF5IGJ1aWxkIGFuIG9mZmljaWFsIFhTdGF0ZSBaZWR1eCBpbnRlZ3JhdGlvbiBzb29uLmB9PC9wPlxuICAgIDxwPntgSG93ZXZlciwgWmVkdXggZG9lcyBwcm92aWRlIGEgbWluaW1hbCBzdGF0ZSBtYWNoaW5lIGltcGxlbWVudGF0aW9uIG91dCBvZiB0aGUgYm94LiBUaGVzZSBzdGF0ZSBtYWNoaW5lcyB1c2UgYSBoaWdoLWxldmVsLCBUeXBlU2NyaXB0LWZpcnN0IGRlc2lnbiB0aGF0J3MgbWVhbnQgdG8gaGFuZGxlIHNpbXBsZSBjYXNlcyBleHRyZW1lbHkgd2VsbC4gRm9yIG1vcmUgcG93ZXIsIHVzZSBYU3RhdGUuYH08L3A+XG4gICAgPGgyIHsuLi57XG4gICAgICBcImlkXCI6IFwiY3JlYXRpbmctYS1tYWNoaW5lXCJcbiAgICB9fT57YENyZWF0aW5nIGEgbWFjaGluZWB9PC9oMj5cbiAgICA8cD57YFplZHV4IHByb3ZpZGVzIGEgc2luZ2xlIGhpZ2gtbGV2ZWwgaW5qZWN0b3IgZm9yIGNyZWF0aW5nIGF1dG9tYXRpY2FsbHktdHlwZWQgc3RhdGUgbWFjaGluZXM6IGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGluamVjdE1hY2hpbmVTdG9yZWB9PC9pbmxpbmVDb2RlPntgLmB9PC9wPlxuICAgIDxwPntgUGFzcyBhIGZ1bmN0aW9uIHRvIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGluamVjdE1hY2hpbmVTdG9yZWB9PC9pbmxpbmVDb2RlPntgIHRoYXQgYWNjZXB0cyBhIHNpbmdsZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BzdGF0ZWB9PC9pbmxpbmVDb2RlPntgIGZhY3RvcnkgZnVuY3Rpb24gYW5kIHJldHVybnMgYW4gYXJyYXkgb2Ygc3RhdGVzLiBUaGUgZmlyc3Qgc3RhdGUgaW4gdGhlIGFycmF5IGJlY29tZXMgdGhlIGluaXRpYWwgc3RhdGUuYH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c1wiXG4gICAgICB9fT57YGltcG9ydCB7IGF0b20sIGluamVjdE1hY2hpbmVTdG9yZSB9IGZyb20gJ0B6ZWR1eC9yZWFjdCdcblxuY29uc3QgdHJhZmZpY0xpZ2h0QXRvbSA9IGF0b20oJ3RyYWZmaWNMaWdodCcsICgpID0+IHtcbiAgY29uc3Qgc3RvcmUgPSBpbmplY3RNYWNoaW5lU3RvcmUoc3RhdGUgPT4gW1xuICAgIHN0YXRlKCdncmVlbicpLCAvLyA8LSB0aGUgaW5pdGlhbCBzdGF0ZVxuICAgIHN0YXRlKCd5ZWxsb3cnKSxcbiAgICBzdGF0ZSgncmVkJyksXG4gIF0pXG5cbiAgcmV0dXJuIHN0b3JlXG59KVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPHA+e2BIZXJlIHdlIGNyZWF0ZSBhIHN0YXRlIG1hY2hpbmUgd2l0aCAzIHN0YXRlczogYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgZ3JlZW5gfTwvaW5saW5lQ29kZT57YCwgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgeWVsbG93YH08L2lubGluZUNvZGU+e2AsIGFuZCBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2ByZWRgfTwvaW5saW5lQ29kZT57YC4gYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgZ3JlZW5gfTwvaW5saW5lQ29kZT57YCBpcyB0aGUgaW5pdGlhbCBzdGF0ZS4gQnV0IHRoaXMgbWFjaGluZSBpcyBzdHVjayBpbiBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BncmVlbmB9PC9pbmxpbmVDb2RlPntgIGZvcmV2ZXIhIFdlIG5lZWQgdG8gYWRkIHRyYW5zaXRpb25zIHRvIHRoZSBtYWNoaW5lOmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIlxuICAgICAgfX0+e2Bjb25zdCBzdG9yZSA9IGluamVjdE1hY2hpbmVTdG9yZShzdGF0ZSA9PiBbXG4gIHN0YXRlKCdncmVlbicpLm9uKCd0aW1lcicsICd5ZWxsb3cnKSxcbiAgc3RhdGUoJ3llbGxvdycpLm9uKCd0aW1lcicsICdyZWQnKSxcbiAgc3RhdGUoJ3JlZCcpLm9uKCd0aW1lcicsICdncmVlbicpLFxuXSlcbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxwPntgV2UgdXNlIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YC5vbihhY3Rpb24sIG5leHRTdGF0ZSlgfTwvaW5saW5lQ29kZT57YCB0byBhZGQgdHJhbnNpdGlvbnMgdG8gdGhlIG1hY2hpbmUncyBzdGF0ZXMuIE5vdyB0aGUgbWFjaGluZSBjYW4gdHJhbnNpdGlvbiBmcm9tIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGdyZWVuYH08L2lubGluZUNvZGU+e2AgLT4gYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgeWVsbG93YH08L2lubGluZUNvZGU+e2AgLT4gYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgcmVkYH08L2lubGluZUNvZGU+e2AgLT4gYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgZ3JlZW5gfTwvaW5saW5lQ29kZT57YCAtPiBldGMuIGluIGEgbG9vcC4gVGhlIG1hY2hpbmUgd2lsbCB0cmFuc2l0aW9uIHdoZW4gaXQgcmVjZWl2ZXMgdGhlIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YHRpbWVyYH08L2lubGluZUNvZGU+e2Agc2lnbmFsLmB9PC9wPlxuICAgIDxwPntgTm93IC4uLiBob3cgZG8gd2Ugc2VuZCB0aGF0IHNpZ25hbCB0byB0aGUgbWFjaGluZT9gfTwvcD5cbiAgICA8aDIgey4uLntcbiAgICAgIFwiaWRcIjogXCJtYWNoaW5lc3RvcmVcIlxuICAgIH19PntgTWFjaGluZVN0b3JlYH08L2gyPlxuICAgIDxwPjxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BpbmplY3RNYWNoaW5lU3RvcmUoKWB9PC9pbmxpbmVDb2RlPntgIHJldHVybnMgYSBzcGVjaWFsIHN0b3JlIGNhbGxlZCBhIE1hY2hpbmVTdG9yZS4gTWFjaGluZVN0b3JlIGV4dGVuZHMgdGhlIFplZHV4IFN0b3JlIGNsYXNzIGFuZCBhZGRzIHNvbWUgc3RhdGUgbWFjaGluZSBmdW5jdGlvbmFsaXR5LmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIlxuICAgICAgfX0+e2BpbXBvcnQgeyBpbmplY3RNYWNoaW5lU3RvcmUsIE1hY2hpbmVTdG9yZSB9IGZyb20gJ0B6ZWR1eC9yZWFjdCdcblxuY29uc3QgZXhhbXBsZUF0b20gPSBhdG9tKCdleGFtcGxlJywgKCkgPT4ge1xuICBjb25zdCBzdG9yZSA9IGluamVjdE1hY2hpbmVTdG9yZSgoKSA9PiBbXSlcblxuICBzdG9yZSBpbnN0YW5jZW9mIE1hY2hpbmVTdG9yZSAvLyB0cnVlXG59KVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPGFkbW9uaXRpb24gey4uLntcbiAgICAgIFwidHlwZVwiOiBcInRpcFwiXG4gICAgfX0+PHAgcGFyZW50TmFtZT1cImFkbW9uaXRpb25cIj57YFdoaWxlIHlvdSBjYW4gaW5zdGFudGlhdGUgdGhlIE1hY2hpbmVTdG9yZSBjbGFzcyB5b3Vyc2VsZiwgaXQncyBoaWdobHkgcmVjb21tZW5kZWQgdG8gdXNlIGhlbHBlcnMgbGlrZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BpbmplY3RNYWNoaW5lU3RvcmUoKWB9PC9pbmxpbmVDb2RlPntgIGZvciB0aGUgYXV0b21hdGljIFRTIHR5cGVzLmB9PC9wPjwvYWRtb25pdGlvbj5cbiAgICA8aDMgey4uLntcbiAgICAgIFwiaWRcIjogXCJzZW5kXCJcbiAgICB9fT48aW5saW5lQ29kZSBwYXJlbnROYW1lPVwiaDNcIj57YC5zZW5kKClgfTwvaW5saW5lQ29kZT48L2gzPlxuICAgIDxwPntgVXNlIHRoaXMgdG8gc2VuZCBzaWduYWxzIHRvIHRoZSBzdG9yZSwgdHJpZ2dlcmluZyBzdGF0ZSB0cmFuc2l0aW9uczpgfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzXCIsXG4gICAgICAgIFwibWV0YXN0cmluZ1wiOiBcImxpdmUgZWNvc3lzdGVtSWQ9c2VuZC1leGFtcGxlIHJlc3VsdFZhcj1vdXRwdXRcIixcbiAgICAgICAgXCJsaXZlXCI6IHRydWUsXG4gICAgICAgIFwiZWNvc3lzdGVtSWRcIjogXCJzZW5kLWV4YW1wbGVcIixcbiAgICAgICAgXCJyZXN1bHRWYXJcIjogXCJvdXRwdXRcIlxuICAgICAgfX0+e2Bjb25zdCB0cmFmZmljTGlnaHRBdG9tID0gYXRvbSgndHJhZmZpY0xpZ2h0JywgKCkgPT4ge1xuICBjb25zdCBzdG9yZSA9IGluamVjdE1hY2hpbmVTdG9yZShzdGF0ZSA9PiBbXG4gICAgc3RhdGUoJ2dyZWVuJykub24oJ3RpbWVyJywgJ3llbGxvdycpLFxuICAgIHN0YXRlKCd5ZWxsb3cnKS5vbigndGltZXInLCAncmVkJyksXG4gICAgc3RhdGUoJ3JlZCcpLm9uKCd0aW1lcicsICdncmVlbicpLFxuICBdKVxuXG4gIHJldHVybiBzdG9yZVxufSlcblxuY29uc3QgZWNvc3lzdGVtID0gY3JlYXRlRWNvc3lzdGVtKHsgaWQ6ICdzZW5kLWV4YW1wbGUnIH0pXG5jb25zdCB7IHN0b3JlIH0gPSBlY29zeXN0ZW0uZ2V0SW5zdGFuY2UodHJhZmZpY0xpZ2h0QXRvbSlcblxuY29uc3QgaW5pdGlhbFN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKVxuc3RvcmUuc2VuZCgndGltZXInKVxuY29uc3QgbmV4dFN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKVxuY29uc3Qgb3V0cHV0ID0geyBpbml0aWFsU3RhdGUsIG5leHRTdGF0ZSB9XG5gfTwvY29kZT48L3ByZT5cbiAgICA8YWRtb25pdGlvbiB7Li4ue1xuICAgICAgXCJ0eXBlXCI6IFwidGlwXCJcbiAgICB9fT48cCBwYXJlbnROYW1lPVwiYWRtb25pdGlvblwiPntgVGhlIHN0b3JlIHJldHVybmVkIGZyb20gdGhlIHN0YXRlIGZhY3RvcnkgYH08ZW0gcGFyZW50TmFtZT1cInBcIj57YGlzYH08L2VtPntgIHRoZSBhdG9tIGluc3RhbmNlJ3MgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgLnN0b3JlYH08L2lubGluZUNvZGU+e2AuIFNpbmNlIHRoaXMgZXhhbXBsZSByZXR1cm5lZCBhIE1hY2hpbmVTdG9yZSwgeW91IGNhbiBhY2Nlc3MgdGhlIG1hY2hpbmUncyBtZXRob2RzIGRpcmVjdGx5IG9uIHRoZSBpbnN0YW5jZSdzIHN0b3JlIC0gZS5nLiBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BpbnN0YW5jZS5zdG9yZS5zZW5kKCd0aW1lcicpYH08L2lubGluZUNvZGU+e2AuIFRoaXMgaGFzIGZ1bGwgVHlwZVNjcmlwdCBzdXBwb3J0IHRvbyFgfTwvcD48L2FkbW9uaXRpb24+XG4gICAgPHA+e2BGb3IgVHlwZVNjcmlwdCB1c2VycywgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgLnNlbmQoKWB9PC9pbmxpbmVDb2RlPntgIG9ubHkgYWNjZXB0cyBzdHJpbmdzIHRoYXQgd2VyZSBzcGVjaWZpZWQgYXMgc2lnbmFsIG5hbWVzIGR1cmluZyBtYWNoaW5lIGNyZWF0aW9uLiBJbiB0aGlzIGV4YW1wbGUsIHBhc3NpbmcgYW55dGhpbmcgYnV0IHRoZSBzdHJpbmcgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgJ3RpbWVyJ2B9PC9pbmxpbmVDb2RlPntgIGdpdmVzIGEgVFMgZXJyb3I6YH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c1wiXG4gICAgICB9fT57YHNlbmQoJ3RpbWUnKSAvLyBBcmd1bWVudCBvZiB0eXBlICdcInRpbWVcIicgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ1widGltZXJcIidcbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxwPntgVGhlIG1hY2hpbmUgd2lsbCBvbmx5IHRyYW5zaXRpb24gaWYgdGhlIGN1cnJlbnQgc3RhdGUgaGFzIGEgdHJhbnNpdGlvbiBzcGVjaWZpZWQgZm9yIHRoZSBwYXNzZWQgc2lnbmFsLmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIlxuICAgICAgfX0+e2Bjb25zdCBzdG9yZSA9IGluamVjdE1hY2hpbmVTdG9yZShzdGF0ZSA9PiBbXG4gIHN0YXRlKCdpZGxlJykub24oJ21vdmUnLCAnYW5pbWF0aW5nJylcbiAgc3RhdGUoJ2FuaW1hdGluZycpLm9uKCdmaW5pc2gnLCAnaWRsZScpXG5dKVxuXG5zdG9yZS5nZXRWYWx1ZSgpIC8vICdpZGxlJ1xuc3RvcmUuc2VuZCgnZmluaXNoJykgLy8gZG9lcyBub3RoaW5nXG5zdG9yZS5nZXRWYWx1ZSgpIC8vICdpZGxlJ1xuc3RvcmUuc2VuZCgnbW92ZScpXG5zdG9yZS5nZXRWYWx1ZSgpIC8vICdhbmltYXRpbmcnXG5gfTwvY29kZT48L3ByZT5cbiAgICA8aDMgey4uLntcbiAgICAgIFwiaWRcIjogXCJpc1wiXG4gICAgfX0+PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImgzXCI+e2AuaXMoKWB9PC9pbmxpbmVDb2RlPjwvaDM+XG4gICAgPHA+e2BSZXR1cm5zIHRydWUgaWYgdGhlIG1hY2hpbmUncyBjdXJyZW50IHN0YXRlIGlzIHRoZSBwYXNzZWQgc3RhdGUgc3RyaW5nLmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIixcbiAgICAgICAgXCJtZXRhc3RyaW5nXCI6IFwibGl2ZSBlY29zeXN0ZW1JZD1pcy1leGFtcGxlIHJlc3VsdFZhcj1vdXRwdXRcIixcbiAgICAgICAgXCJsaXZlXCI6IHRydWUsXG4gICAgICAgIFwiZWNvc3lzdGVtSWRcIjogXCJpcy1leGFtcGxlXCIsXG4gICAgICAgIFwicmVzdWx0VmFyXCI6IFwib3V0cHV0XCJcbiAgICAgIH19PntgY29uc3QgdHJhZmZpY0xpZ2h0QXRvbSA9IGF0b20oJ3RyYWZmaWNMaWdodCcsICgpID0+IHtcbiAgY29uc3Qgc3RvcmUgPSBpbmplY3RNYWNoaW5lU3RvcmUoc3RhdGUgPT4gW1xuICAgIHN0YXRlKCdncmVlbicpLm9uKCd0aW1lcicsICd5ZWxsb3cnKSxcbiAgICBzdGF0ZSgneWVsbG93Jykub24oJ3RpbWVyJywgJ3JlZCcpLFxuICAgIHN0YXRlKCdyZWQnKS5vbigndGltZXInLCAnZ3JlZW4nKSxcbiAgXSlcblxuICByZXR1cm4gc3RvcmVcbn0pXG5cbmNvbnN0IGVjb3N5c3RlbSA9IGNyZWF0ZUVjb3N5c3RlbSh7IGlkOiAnaXMtZXhhbXBsZScgfSlcblxuLy8gYm90aCAuaXMgYW5kIC5zZW5kIGFyZSBib3VuZCBmdW5jdGlvbiBwcm9wZXJ0aWVzIChkZXN0cnVjdHVyaW5nIGlzIGZpbmUpOlxuY29uc3QgeyBpcywgc2VuZCB9ID0gZWNvc3lzdGVtLmdldEluc3RhbmNlKHRyYWZmaWNMaWdodEF0b20pLnN0b3JlXG5cbnNlbmQoJ3RpbWVyJylcbnNlbmQoJ3RpbWVyJylcbmNvbnN0IG91dHB1dCA9IGlzKCdyZWQnKVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPHA+e2BGb3IgVFMgdXNlcnMsIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YC5pcygpYH08L2lubGluZUNvZGU+e2Agb25seSBhY2NlcHRzIHN0cmluZ3MgdGhhdCB3ZXJlIHNwZWNpZmllZCBhcyBzdGF0ZSBuYW1lcyBkdXJpbmcgbWFjaGluZSBjcmVhdGlvbi4gSW4gdGhpcyBleGFtcGxlLCBwYXNzaW5nIGFueXRoaW5nIGJ1dCB0aGUgc3RyaW5ncyBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2AnZ3JlZW4nYH08L2lubGluZUNvZGU+e2AsIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YCd5ZWxsb3cnYH08L2lubGluZUNvZGU+e2AsIG9yIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YCdyZWQnYH08L2lubGluZUNvZGU+e2AgZ2l2ZXMgYSBUUyBlcnJvcjpgfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzXCJcbiAgICAgIH19PntgaXMoJ3llbGxvJykgLy8gQXJndW1lbnQgb2YgdHlwZSAnXCJ5ZWxsb1wiJyBpcyBub3QgYXNzaWduYWJsZSB0byBwYXJhbWV0ZXIgb2YgdHlwZSAnXCJncmVlblwiIHwgXCJ5ZWxsb3dcIiB8IFwicmVkXCInXG5gfTwvY29kZT48L3ByZT5cbiAgICA8aDMgey4uLntcbiAgICAgIFwiaWRcIjogXCJnZXR2YWx1ZVwiXG4gICAgfX0+PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImgzXCI+e2AuZ2V0VmFsdWUoKWB9PC9pbmxpbmVDb2RlPjwvaDM+XG4gICAgPHA+e2BSZXR1cm5zIHRoZSBtYWNoaW5lJ3MgY3VycmVudCBzdHJpbmcgdmFsdWU6YH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c1wiXG4gICAgICB9fT57YHN0b3JlLmdldFZhbHVlKCkgLy8gZ3JlZW5cbnN0b3JlLnNlbmQoJ3RpbWVyJylcbnN0b3JlLmdldFZhbHVlKCkgLy8geWVsbG93XG5gfTwvY29kZT48L3ByZT5cbiAgICA8aDMgey4uLntcbiAgICAgIFwiaWRcIjogXCJzdGF0ZS1zaGFwZVwiXG4gICAgfX0+e2BTdGF0ZSBTaGFwZWB9PC9oMz5cbiAgICA8cD57YFRoZSBNYWNoaW5lU3RvcmUncyBzdGF0ZSBpcyBhbiBvYmplY3QgbGlrZSB0aGUgZm9sbG93aW5nOmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIlxuICAgICAgfX0+e2BzdG9yZS5nZXRTdGF0ZSgpXG4vLyB7XG4vLyAgIGNvbnRleHQ6IHVuZGVmaW5lZCxcbi8vICAgdmFsdWU6ICdncmVlbicsXG4vLyB9XG5gfTwvY29kZT48L3ByZT5cbiAgICA8cD48aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgLnZhbHVlYH08L2lubGluZUNvZGU+e2AgaXMgdGhlIGN1cnJlbnQgc3RyaW5nIHN0YXRlIG9mIHRoZSBtYWNoaW5lLmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIlxuICAgICAgfX0+e2AvLyBUaGVzZSB0d28gbGluZXMgYXJlIGVxdWl2YWxlbnQ6XG5tYWNoaW5lU3RvcmUuZ2V0U3RhdGUoKS52YWx1ZSA9PT0gJ2dyZWVuJ1xubWFjaGluZVN0b3JlLmlzKCdncmVlbicpXG5gfTwvY29kZT48L3ByZT5cbiAgICA8cD57YFdlJ2xsIGxvb2sgYXQgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgLmNvbnRleHRgfTwvaW5saW5lQ29kZT57YCBuZXh0OmB9PC9wPlxuICAgIDxoMiB7Li4ue1xuICAgICAgXCJpZFwiOiBcImNvbnRleHRcIlxuICAgIH19PntgQ29udGV4dGB9PC9oMj5cbiAgICA8cD57YE1hY2hpbmVTdG9yZXMgY2FuIGhvbGQgZXh0cmEgc3RhdGUsIGJlc2lkZXMgdGhlIHZhbHVlIHN0cmluZy4gVGhpcyBleHRyYSBzdGF0ZSBpcyBjYWxsZWQgY29udGV4dC4gQ29udGV4dCBtdXN0IGJlIGFuIG9iamVjdCAob3IgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgdW5kZWZpbmVkYH08L2lubGluZUNvZGU+e2ApLmB9PC9wPlxuICAgIDxwPntgWW91IGNhbiBwYXNzIHRoZSBpbml0aWFsIGNvbnRleHQgYXMgdGhlIDJuZCBwYXJhbSB0byBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BpbmplY3RNYWNoaW5lU3RvcmUoKWB9PC9pbmxpbmVDb2RlPntgOmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIlxuICAgICAgfX0+e2Bjb25zdCBzdG9yZSA9IGluamVjdE1hY2hpbmVTdG9yZShzdGF0ZXNGYWN0b3J5LCBpbml0aWFsQ29udGV4dClcbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxoMyB7Li4ue1xuICAgICAgXCJpZFwiOiBcImdldGNvbnRleHRcIlxuICAgIH19PjxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJoM1wiPntgLmdldENvbnRleHQoKWB9PC9pbmxpbmVDb2RlPjwvaDM+XG4gICAgPHA+e2BSZXR1cm5zIHRoZSBjdXJyZW50IGNvbnRleHQgdmFsdWUuIEFuIGFsaWFzIGZvciBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BtYWNoaW5lU3RvcmUuZ2V0U3RhdGUoKS5jb250ZXh0YH08L2lubGluZUNvZGU+e2A6YH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c1wiXG4gICAgICB9fT57YC8vIFRoZXNlIHR3byBsaW5lcyBhcmUgZXF1aXZhbGVudDpcbm1hY2hpbmVTdG9yZS5nZXRTdGF0ZSgpLmNvbnRleHRcbm1hY2hpbmVTdG9yZS5nZXRDb250ZXh0KClcbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxoMyB7Li4ue1xuICAgICAgXCJpZFwiOiBcInNldGNvbnRleHRcIlxuICAgIH19PjxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJoM1wiPntgLnNldENvbnRleHQoKWB9PC9pbmxpbmVDb2RlPjwvaDM+XG4gICAgPHA+e2BTZXRzIHRoZSBzdG9yZSdzIGNvbnRleHQgdmFsdWUuIEFjY2VwdHMgZnVuY3Rpb24gb3ZlcmxvYWRzLmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIlxuICAgICAgfX0+e2AvLyBUaGVzZSBhcmUgZXF1aXZhbGVudDpcbm1hY2hpbmVTdG9yZS5zZXRTdGF0ZShzdGF0ZSA9PiAoeyAuLi5zdGF0ZSwgY29udGV4dDogbmV3Q29udGV4dCB9KSlcbm1hY2hpbmVTdG9yZS5zZXRDb250ZXh0KG5ld0NvbnRleHQpXG5tYWNoaW5lU3RvcmUuc2V0Q29udGV4dChjb250ZXh0ID0+IG5ld0NvbnRleHQpXG5gfTwvY29kZT48L3ByZT5cbiAgICA8aDMgey4uLntcbiAgICAgIFwiaWRcIjogXCJzZXRjb250ZXh0ZGVlcFwiXG4gICAgfX0+PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImgzXCI+e2Auc2V0Q29udGV4dERlZXAoKWB9PC9pbmxpbmVDb2RlPjwvaDM+XG4gICAgPHA+e2BEZWVwbHkgbWVyZ2VzIHRoZSBwYXNzZWQgY29udGV4dCB2YWx1ZSBpbnRvIHRoZSBleGlzdGluZyBjb250ZXh0LiBBY2NlcHRzIGZ1bmN0aW9uIG92ZXJsb2Fkcy5gfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzXCJcbiAgICAgIH19PntgLy8gVGhlc2UgYXJlIGVxdWl2YWxlbnQ6XG5tYWNoaW5lU3RvcmUuc2V0U3RhdGVEZWVwKHsgY29udGV4dDogbmV3Q29udGV4dCB9KVxubWFjaGluZVN0b3JlLnNldENvbnRleHREZWVwKG5ld0NvbnRleHQpXG5tYWNoaW5lU3RvcmUuc2V0Q29udGV4dERlZXAoY29udGV4dCA9PiBuZXdDb250ZXh0KVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPGFkbW9uaXRpb24gey4uLntcbiAgICAgIFwidHlwZVwiOiBcIndhcm5pbmdcIlxuICAgIH19PjxwIHBhcmVudE5hbWU9XCJhZG1vbml0aW9uXCI+e2BKdXN0IGxpa2UgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgLnNldFN0YXRlRGVlcCgpYH08L2lubGluZUNvZGU+e2AsIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YC5zZXRDb250ZXh0RGVlcCgpYH08L2lubGluZUNvZGU+e2AgaXMgb25seSBmb3IgdXBkYXRpbmcgc3RhdGUgLSBpdCBjYW5ub3QgYmUgdXNlZCB0byBkZWxldGUga2V5cy4gVXNlIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YC5zZXRDb250ZXh0YH08L2lubGluZUNvZGU+e2AgZm9yIHRoYXQuYH08L3A+PC9hZG1vbml0aW9uPlxuICAgIDxoMyB7Li4ue1xuICAgICAgXCJpZFwiOiBcImV4YW1wbGVcIlxuICAgIH19PntgRXhhbXBsZWB9PC9oMz5cbiAgICA8cD57YEhlcmUncyBhbiBleGFtcGxlIHVzaW5nIGNvbnRleHQgdG8ga2VlcCB0cmFjayBvZiBob3cgbWFueSB0aW1lcyBhIHRoZW1lIHRvZ2dsZXIgdG9nZ2xlczpgfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzeFwiLFxuICAgICAgICBcIm1ldGFzdHJpbmdcIjogXCJsaXZlIGVjb3N5c3RlbUlkPXN0YXRlLW1hY2hpbmVzL2NvbnRleHQgcmVzdWx0VmFyPVRoZW1lXCIsXG4gICAgICAgIFwibGl2ZVwiOiB0cnVlLFxuICAgICAgICBcImVjb3N5c3RlbUlkXCI6IFwic3RhdGUtbWFjaGluZXMvY29udGV4dFwiLFxuICAgICAgICBcInJlc3VsdFZhclwiOiBcIlRoZW1lXCJcbiAgICAgIH19PntgY29uc3QgdGhlbWVBdG9tID0gYXRvbSgndGhlbWUnLCAoKSA9PiB7XG4gIGNvbnN0IHN0b3JlID0gaW5qZWN0TWFjaGluZVN0b3JlKFxuICAgIHN0YXRlID0+IFtcbiAgICAgIHN0YXRlKCdsaWdodCcpLm9uKCd0b2dnbGUnLCAnZGFyaycpLFxuICAgICAgc3RhdGUoJ2RhcmsnKS5vbigndG9nZ2xlJywgJ2xpZ2h0JyksXG4gICAgXSxcbiAgICB7IGNvdW50OiAwIH0sXG4gICAge1xuICAgICAgb25UcmFuc2l0aW9uOiBtYWNoaW5lID0+XG4gICAgICAgIG1hY2hpbmUuc2V0Q29udGV4dChjb250ZXh0ID0+ICh7IGNvdW50OiBjb250ZXh0LmNvdW50ICsgMSB9KSksXG4gICAgfVxuICApXG5cbiAgLy8geW91IGNhbiBhbGlhcyBzdG9yZSBtZXRob2RzIG9uIGV4cG9ydHMgZm9yIHVzZSBpbiBcXGB1c2VBdG9tU3RhdGVcXGA6XG4gIHJldHVybiBhcGkoc3RvcmUpLnNldEV4cG9ydHMoeyBzZW5kOiBzdG9yZS5zZW5kIH0pXG59KVxuXG5mdW5jdGlvbiBUaGVtZSgpIHtcbiAgY29uc3QgW3sgY29udGV4dCwgdmFsdWUgfSwgeyBzZW5kIH1dID0gdXNlQXRvbVN0YXRlKHRoZW1lQXRvbSlcblxuICByZXR1cm4gKFxuICAgIDxkaXYgc3R5bGU9e3ZhbHVlID09PSAnZGFyaycgPyB7IGJhY2tncm91bmQ6ICcjNDQ0JywgY29sb3I6ICcjZmZmJyB9IDoge319PlxuICAgICAgPGxhYmVsPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICBjaGVja2VkPXt2YWx1ZSA9PT0gJ2RhcmsnfVxuICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiBzZW5kKCd0b2dnbGUnKX1cbiAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAvPlxuICAgICAgICA8c3Bhbj57dmFsdWV9IG1vZGU8L3NwYW4+XG4gICAgICA8L2xhYmVsPlxuICAgICAgPGRpdj5Ub2dnbGUgQ291bnQ6IHtjb250ZXh0LmNvdW50fTwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5gfTwvY29kZT48L3ByZT5cbiAgICA8cD57YEluIHRoaXMgZXhhbXBsZSB3ZSBhbHNvIG1hZGUgdXNlIG9mIHRoZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BvblRyYW5zaXRpb25gfTwvaW5saW5lQ29kZT57YCBsaXN0ZW5lci4gV2UnbGwgbG9vayBhdCBsaXN0ZW5lcnMgbm93OmB9PC9wPlxuICAgIDxoMiB7Li4ue1xuICAgICAgXCJpZFwiOiBcImxpc3RlbmVyc1wiXG4gICAgfX0+e2BMaXN0ZW5lcnNgfTwvaDI+XG4gICAgPHA+e2BMaXN0ZW5lcnMgY2FuIGJlIHVzZWQgdG8gcnVuIHNpZGUgZWZmZWN0cyB3aGVuIHRoZSBzdGF0ZSBtYWNoaW5lIHRyYW5zaXRpb25zIHRvIGEgbmV3IHN0YXRlLiBUaGVyZSBhcmUgMyBraW5kczogYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgb25FbnRlcmB9PC9pbmxpbmVDb2RlPntgLCBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BvbkxlYXZlYH08L2lubGluZUNvZGU+e2AsIGFuZCB0aGUgdW5pdmVyc2FsIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YG9uVHJhbnNpdGlvbmB9PC9pbmxpbmVDb2RlPntgLmB9PC9wPlxuICAgIDxoMyB7Li4ue1xuICAgICAgXCJpZFwiOiBcIm9uZW50ZXJcIlxuICAgIH19PjxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJoM1wiPntgb25FbnRlcmB9PC9pbmxpbmVDb2RlPjwvaDM+XG4gICAgPHA+e2BUaGlzIGxpc3RlbmVyIGlzIGF0dGFjaGVkIHRvIGluZGl2aWR1YWwgc3RhdGVzIHZpYSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BzdGF0ZS5vbkVudGVyKClgfTwvaW5saW5lQ29kZT57YC4gSGVyZSdzIGFuIGV4YW1wbGUgdXNpbmcgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgLm9uRW50ZXIoKWB9PC9pbmxpbmVDb2RlPntgIHRvIHNlbmQgYSByZXF1ZXN0IHdoZW4gdGhlIG1hY2hpbmUgZW50ZXJzIHRoZSAnZmV0Y2hpbmcnIHN0YXRlOmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIlxuICAgICAgfX0+e2Bjb25zdCByZXF1ZXN0U3RvcmUgPSBpbmplY3RNYWNoaW5lU3RvcmUoXG4gIHN0YXRlID0+IFtcbiAgICBzdGF0ZSgnaWRsZScpLm9uKCdmZXRjaCcsICdmZXRjaGluZycpLFxuICAgIHN0YXRlKCdmZXRjaGluZycpXG4gICAgICAub24oJ3N1Y2Nlc3MnLCAnc3VjY2VzcycpXG4gICAgICAub24oJ2ZhaWx1cmUnLCAnZmFpbHVyZScpXG4gICAgICAub25FbnRlcihhc3luYyBtYWNoaW5lID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZmV0Y2goJy90b2RvcycpLnRoZW4oZGF0YSA9PiBkYXRhLmpzb24oKSlcbiAgICAgICAgICBtYWNoaW5lLnNldENvbnRleHREZWVwKHsgZGF0YSB9KVxuICAgICAgICAgIG1hY2hpbmUuc2VuZCgnc3VjY2VzcycpXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgbWFjaGluZS5zZXRDb250ZXh0RGVlcCh7IGVycm9yIH0pXG4gICAgICAgICAgbWFjaGluZS5zZW5kKCdmYWlsdXJlJylcbiAgICAgICAgfVxuICAgICAgfSksXG4gIF0sXG4gIHsgZGF0YTogbnVsbCwgZXJyb3I6IG51bGwgfVxuKVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPGFkbW9uaXRpb24gey4uLntcbiAgICAgIFwidHlwZVwiOiBcIm5vdGVcIlxuICAgIH19PjxwIHBhcmVudE5hbWU9XCJhZG1vbml0aW9uXCI+e2BGb3IgVFMgdXNlcnM6IGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YC5vbkVudGVyKClgfTwvaW5saW5lQ29kZT57YCBoYXMgbGltaXRlZCB0eXBlIHN1cHBvcnQsIHNpbmNlIHRoZSBtYWNoaW5lJ3MgZnVsbCB0eXBlIGhhc24ndCBiZWVuIGluZmVycmVkIHlldC4gVGhlIGFib3ZlIGV4YW1wbGUgd2lsbCB3b3JrIGJlY2F1c2UgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgLm9uRW50ZXIoKWB9PC9pbmxpbmVDb2RlPntgIGlzIHBsYWNlZCBhZnRlciB0aGUgdHdvIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YC5vbigpYH08L2lubGluZUNvZGU+e2AgY2FsbHMgZm9yIHRoZSAnZmV0Y2hpbmcnIHN0YXRlLiBXaGVuIHlvdSBuZWVkIGFjY2VzcyB0byBiZXR0ZXIgdHlwZXMsIHVzZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BvblRyYW5zaXRpb25gfTwvaW5saW5lQ29kZT57YCBpbnN0ZWFkLmB9PC9wPjwvYWRtb25pdGlvbj5cbiAgICA8aDMgey4uLntcbiAgICAgIFwiaWRcIjogXCJvbmxlYXZlXCJcbiAgICB9fT48aW5saW5lQ29kZSBwYXJlbnROYW1lPVwiaDNcIj57YG9uTGVhdmVgfTwvaW5saW5lQ29kZT48L2gzPlxuICAgIDxwPntgVGhpcyBsaXN0ZW5lciBpcyBhdHRhY2hlZCB0byBpbmRpdmlkdWFsIHN0YXRlcyB2aWEgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgc3RhdGUub25MZWF2ZSgpYH08L2lubGluZUNvZGU+e2AuIEhlcmUncyBhbiBleGFtcGxlIHVzaW5nIGJvdGggYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgLm9uRW50ZXIoKWB9PC9pbmxpbmVDb2RlPntgIGFuZCBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2Aub25MZWF2ZSgpYH08L2lubGluZUNvZGU+e2AgdG8gc2V0IGFuZCBjbGVhciBhIHRpbWVvdXQ6YH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c1wiXG4gICAgICB9fT57YGNvbnN0IHRpbWVvdXRTdG9yZSA9IGluamVjdE1hY2hpbmVTdG9yZShcbiAgc3RhdGUgPT4gW1xuICAgIHN0YXRlKCdpZGxlJykub24oJ3N0YXJ0VGltZXInLCAnd2FpdGluZycpLFxuICAgIHN0YXRlKCd3YWl0aW5nJylcbiAgICAgIC5vbignY2FuY2VsJywgJ2lkbGUnKVxuICAgICAgLm9uKCd0aW1lb3V0JywgJ2lkbGUnKVxuICAgICAgLm9uRW50ZXIobWFjaGluZSA9PiB7XG4gICAgICAgIGNvbnN0IGhhbmRsZSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIG1hY2hpbmUuc2V0Q29udGV4dCh7IGhhbmRsZTogbnVsbCB9KVxuICAgICAgICAgIG1hY2hpbmUuc2VuZCgndGltZW91dCcpXG4gICAgICAgIH0sIDEwMDApXG5cbiAgICAgICAgbWFjaGluZS5zZXRDb250ZXh0KHsgaGFuZGxlIH0pXG4gICAgICB9KVxuICAgICAgLm9uTGVhdmUoYXN5bmMgbWFjaGluZSA9PiB7XG4gICAgICAgIGNvbnN0IHsgaGFuZGxlIH0gPSBtYWNoaW5lLmdldENvbnRleHQoKVxuXG4gICAgICAgIGlmICghaGFuZGxlKSByZXR1cm5cblxuICAgICAgICBjbGVhclRpbWVvdXQoaGFuZGxlKVxuICAgICAgICBtYWNoaW5lLnNldENvbnRleHQoeyBoYW5kbGU6IG51bGwgfSlcbiAgICAgIH0pLFxuICBdLFxuICB7IGhhbmRsZTogbnVsbCB9XG4pXG5gfTwvY29kZT48L3ByZT5cbiAgICA8YWRtb25pdGlvbiB7Li4ue1xuICAgICAgXCJ0eXBlXCI6IFwibm90ZVwiXG4gICAgfX0+PHAgcGFyZW50TmFtZT1cImFkbW9uaXRpb25cIj57YEZvciBUUyB1c2VyczogYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgLm9uTGVhdmUoKWB9PC9pbmxpbmVDb2RlPntgIGhhcyBsaW1pdGVkIHR5cGUgc3VwcG9ydCAobGlrZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2Aub25FbnRlcigpYH08L2lubGluZUNvZGU+e2ApLCBzaW5jZSB0aGUgbWFjaGluZSdzIGZ1bGwgdHlwZSBoYXNuJ3QgYmVlbiBpbmZlcnJlZCB5ZXQuIFdoZW4geW91IG5lZWQgYWNjZXNzIHRvIGJldHRlciB0eXBlcywgdXNlIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YG9uVHJhbnNpdGlvbmB9PC9pbmxpbmVDb2RlPntgIGluc3RlYWQuYH08L3A+PC9hZG1vbml0aW9uPlxuICAgIDxoMyB7Li4ue1xuICAgICAgXCJpZFwiOiBcIm9udHJhbnNpdGlvblwiXG4gICAgfX0+PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImgzXCI+e2BvblRyYW5zaXRpb25gfTwvaW5saW5lQ29kZT48L2gzPlxuICAgIDxwPntgVGhpcyBpcyB0aGUgY2F0Y2gtYWxsIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBjYWxsZWQgZXZlcnkgdGltZSB0aGUgc3RhdGUgbWFjaGluZSB0cmFuc2l0aW9ucy4gVGhpcyBsaXN0ZW5lciBoYXMgZnVsbCB0eXBlIHN1cHBvcnQsIHNvIHVzZSB0aGlzIHdoZW4gYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgb25FbnRlcmB9PC9pbmxpbmVDb2RlPntgIGFuZCBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BvbkxlYXZlYH08L2lubGluZUNvZGU+e2AgdHlwZXMgYXJlIGluc3VmZmljaWVudC5gfTwvcD5cbiAgICA8cD57YFRoZSAzcmQgcGFyYW1ldGVyIHRvIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGluamVjdE1hY2hpbmVTdG9yZSgpYH08L2lubGluZUNvZGU+e2AgaXMgYSBjb25maWcgb2JqZWN0OmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIlxuICAgICAgfX0+e2Bjb25zdCBzdG9yZSA9IGluamVjdE1hY2hpbmVTdG9yZShzdGF0ZXNGYWN0b3J5LCBpbml0aWFsQ29udGV4dCwgY29uZmlnKVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPHA+e2BQYXNzIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YG9uVHJhbnNpdGlvbmB9PC9pbmxpbmVDb2RlPntgIGFzIHBhcnQgb2YgdGhpcyBjb25maWdgfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzXCJcbiAgICAgIH19PntgY29uc3QgdG9nZ2xlTWFjaGluZSA9IGluamVjdE1hY2hpbmVTdG9yZShzdGF0ZSA9PiBbXG4gIHN0YXRlKCdvbicpLm9uKCd0b2dnbGUnLCAnb2ZmJyksXG4gIHN0YXRlKCdvZmYnKS5vbigndG9nZ2xlJywgJ29uJyksXG5dKVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPGgyIHsuLi57XG4gICAgICBcImlkXCI6IFwiY29udHJpdmVkLWV4YW1wbGVcIlxuICAgIH19PntgQ29udHJpdmVkIEV4YW1wbGVgfTwvaDI+XG4gICAgPHA+e2BUaGUgb2JsaWdhdG9yeSBnYXJhZ2UgZG9vciBzdGF0ZSBtYWNoaW5lIGV4YW1wbGU6YH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c3hcIixcbiAgICAgICAgXCJtZXRhc3RyaW5nXCI6IFwibGl2ZSBlY29zeXN0ZW1JZD1zdGF0ZS1tYWNoaW5lcy9kb29yIHJlc3VsdFZhcj1NYWNoaW5lXCIsXG4gICAgICAgIFwibGl2ZVwiOiB0cnVlLFxuICAgICAgICBcImVjb3N5c3RlbUlkXCI6IFwic3RhdGUtbWFjaGluZXMvZG9vclwiLFxuICAgICAgICBcInJlc3VsdFZhclwiOiBcIk1hY2hpbmVcIlxuICAgICAgfX0+e2Bjb25zdCBkb29yQXRvbSA9IGF0b20oJ2Rvb3InLCAoKSA9PiB7XG4gIGNvbnN0IHN0b3JlID0gaW5qZWN0TWFjaGluZVN0b3JlKFxuICAgIHN0YXRlID0+IHtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZW91dCA9IG1hY2hpbmUgPT4ge1xuICAgICAgICBjb25zdCB7IGhhbmRsZSB9ID0gbWFjaGluZS5nZXRDb250ZXh0KClcblxuICAgICAgICBpZiAoaGFuZGxlKSBjbGVhclRpbWVvdXQoaGFuZGxlKVxuXG4gICAgICAgIGNvbnN0IG5ld0hhbmRsZSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIG1hY2hpbmUuc2V0Q29udGV4dCh7IGhhbmRsZTogbnVsbCB9KVxuICAgICAgICAgIG1hY2hpbmUuc2VuZCgndGltZW91dCcpXG4gICAgICAgIH0sIDEwMDApXG5cbiAgICAgICAgbWFjaGluZS5zZXRDb250ZXh0KHsgaGFuZGxlOiBuZXdIYW5kbGUgfSlcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgc3RhdGUoJ29wZW4nKS5vbignY2xpY2snLCAnY2xvc2luZycpLFxuICAgICAgICBzdGF0ZSgnb3BlbmluZycpXG4gICAgICAgICAgLm9uKCdjbGljaycsICdjbG9zaW5nJylcbiAgICAgICAgICAub24oJ3RpbWVvdXQnLCAnb3BlbicpXG4gICAgICAgICAgLm9uRW50ZXIoc3RhcnRUaW1lb3V0KSxcbiAgICAgICAgc3RhdGUoJ2Nsb3NlZCcpLm9uKCdjbGljaycsICdvcGVuaW5nJyksXG4gICAgICAgIHN0YXRlKCdjbG9zaW5nJylcbiAgICAgICAgICAub24oJ2NsaWNrJywgJ29wZW5pbmcnKVxuICAgICAgICAgIC5vbigndGltZW91dCcsICdjbG9zZWQnKVxuICAgICAgICAgIC5vbkVudGVyKHN0YXJ0VGltZW91dCksXG4gICAgICBdXG4gICAgfSxcbiAgICB7IGhhbmRsZTogbnVsbCB9XG4gIClcblxuICByZXR1cm4gc3RvcmVcbn0pXG5cbmZ1bmN0aW9uIE1hY2hpbmUoKSB7XG4gIGNvbnN0IHsgdmFsdWUgfSA9IHVzZUF0b21WYWx1ZShkb29yQXRvbSlcbiAgY29uc3QgeyBzZW5kIH0gPSB1c2VBdG9tSW5zdGFuY2UoZG9vckF0b20pLnN0b3JlXG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPGRpdj5TdGF0ZToge3ZhbHVlfTwvZGl2PlxuICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZW5kKCdjbGljaycpfT5GaXJlIENsaWNrPC9idXR0b24+XG4gICAgPC8+XG4gIClcbn1cbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxoMiB7Li4ue1xuICAgICAgXCJpZFwiOiBcImd1YXJkc1wiXG4gICAgfX0+e2BHdWFyZHNgfTwvaDI+XG4gICAgPHA+e2BHdWFyZHMgYXJlIGZ1bmN0aW9ucyB0aGF0IGNvbmRpdGlvbmFsbHkgcHJldmVudCB0aGUgbWFjaGluZSBmcm9tIHBlcmZvcm1pbmcgYSB2YWxpZCB0cmFuc2l0aW9uLiBHdWFyZHMgY2FuIGJlIHNldCBwZXItdHJhbnNpdGlvbiB2aWEgdGhlIDNyZCBwYXJhbSB0byBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BzdGF0ZS5vbigpYH08L2lubGluZUNvZGU+e2A6YH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c1wiXG4gICAgICB9fT57YGNvbnN0IG1heWJlTW92ZVN0b3JlID0gaW5qZWN0TWFjaGluZVN0b3JlKFxuICBzdGF0ZSA9PiBbc3RhdGUoJ2lkbGUnKS5vbignbW92ZScsICdtb3ZpbmcnLCBjb250ZXh0ID0+ICFjb250ZXh0LmlzRnJvemVuKV0sXG4gIHsgaXNGcm96ZW46IGZhbHNlIH1cbilcbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxwPntgVGhlc2UgZ3VhcmRzIHJlY2VpdmUgdGhlIG1hY2hpbmUncyBjb250ZXh0IGFzIHRoZWlyIG9ubHkgcGFyYW1ldGVyLiBSZXR1cm4gYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgdHJ1ZWB9PC9pbmxpbmVDb2RlPntgIHRvIGFsbG93IHRoZSB0cmFuc2l0aW9uIG9yIGFueSBmYWxzeSB2YWx1ZSB0byBwcmV2ZW50IGl0LiBUaGUgYWJvdmUgbWFjaGluZSB3aWxsIG9ubHkgdHJhbnNpdGlvbiBmcm9tIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGlkbGVgfTwvaW5saW5lQ29kZT57YCB0byBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2Btb3ZpbmdgfTwvaW5saW5lQ29kZT57YCBpZiBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2Bjb250ZXh0LmlzRnJvemVuYH08L2lubGluZUNvZGU+e2AgaXMgZmFsc3kuYH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c3hcIixcbiAgICAgICAgXCJtZXRhc3RyaW5nXCI6IFwibGl2ZSBlY29zeXN0ZW1JZD1zdGF0ZS1tYWNoaW5lcy9ndWFyZHMgcmVzdWx0VmFyPUNvbnRyb2xzXCIsXG4gICAgICAgIFwibGl2ZVwiOiB0cnVlLFxuICAgICAgICBcImVjb3N5c3RlbUlkXCI6IFwic3RhdGUtbWFjaGluZXMvZ3VhcmRzXCIsXG4gICAgICAgIFwicmVzdWx0VmFyXCI6IFwiQ29udHJvbHNcIlxuICAgICAgfX0+e2Bjb25zdCBtYXliZU1vdmluZ0F0b20gPSBhdG9tKCdtYXliZU1vdmluZycsICgpID0+IHtcbiAgY29uc3Qgc3RvcmUgPSBpbmplY3RNYWNoaW5lU3RvcmUoXG4gICAgc3RhdGUgPT4gW1xuICAgICAgLy8gdGhlIGd1YXJkISBQcmV2ZW50IHRoaXMgdHJhbnNpdGlvbiBpZiB3ZSdyZSBmcm96ZW46XG4gICAgICBzdGF0ZSgnaWRsZScpLm9uKCdtb3ZlJywgJ21vdmluZycsIGNvbnRleHQgPT4gIWNvbnRleHQuaXNGcm96ZW4pLFxuICAgICAgc3RhdGUoJ21vdmluZycpXG4gICAgICAgIC5vbignc3RvcCcsICdpZGxlJylcbiAgICAgICAgLm9uRW50ZXIobWFjaGluZSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBtYWNoaW5lLnNlbmQoJ3N0b3AnKSwgMTAwMClcbiAgICAgICAgfSksXG4gICAgXSxcbiAgICB7IGlzRnJvemVuOiBmYWxzZSB9XG4gIClcblxuICByZXR1cm4gYXBpKHN0b3JlKS5zZXRFeHBvcnRzKHtcbiAgICB0b2dnbGVGcmVlemU6ICgpID0+XG4gICAgICBzdG9yZS5zZXRDb250ZXh0KGNvbnRleHQgPT4gKHsgaXNGcm96ZW46ICFjb250ZXh0LmlzRnJvemVuIH0pKSxcbiAgICBpczogc3RvcmUuaXMsXG4gICAgbW92ZTogKCkgPT4gc3RvcmUuc2VuZCgnbW92ZScpLFxuICB9KVxufSlcblxuZnVuY3Rpb24gQ29udHJvbHMoKSB7XG4gIGNvbnN0IFt7IGNvbnRleHQgfSwgeyB0b2dnbGVGcmVlemUsIGlzLCBtb3ZlIH1dID0gdXNlQXRvbVN0YXRlKFxuICAgIG1heWJlTW92aW5nQXRvbVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPGRpdj4tIHtjb250ZXh0LmlzRnJvemVuID8gJ0Zyb3plbicgOiAnQWxsIFN5c3RlbXMgR28nfSAtPC9kaXY+XG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgYmFja2dyb3VuZDogJ2N5YW4nLFxuICAgICAgICAgIGhlaWdodDogNTAsXG4gICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICB0cmFuc2l0aW9uOiAnYWxsIDFzJyxcbiAgICAgICAgICB3aWR0aDogNTAsXG4gICAgICAgICAgLi4uKGlzKCdtb3ZpbmcnKSAmJiB7IGxlZnQ6IDUwIH0pLFxuICAgICAgICB9fVxuICAgICAgLz5cbiAgICAgIDxidXR0b24gb25DbGljaz17dG9nZ2xlRnJlZXplfT5cbiAgICAgICAge2NvbnRleHQuaXNGcm96ZW4gPyAnVW5mcmVlemUnIDogJ0ZyZWV6ZSd9XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxidXR0b24gb25DbGljaz17bW92ZX0+XG4gICAgICAgIE1vdmUge2NvbnRleHQuaXNGcm96ZW4gPyAnKERvZXMgTm90aGluZyknIDogJyd9XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPHA+e2BZb3UgY2FuIGFsc28gY29uZmlndXJlIHRoZSBNYWNoaW5lU3RvcmUgd2l0aCBhIHVuaXZlcnNhbCBndWFyZCB2aWEgdGhlIGNvbmZpZyBvYmplY3Q6YH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c1wiXG4gICAgICB9fT57YC4uLlxuY29uc3QgZ3VhcmQgPSAoc3RhdGUsIG5leHRWYWx1ZSkgPT4ge1xuICAvLyB1c2UgdGhlIGN1cnJlbnQgc3RhdGUgb2JqZWN0IGFuZC9vciBuZXh0VmFsdWUgc3RyaW5nIHRvIGRldGVybWluZSBpZiB0aGVcbiAgLy8gdHJhbnNpdGlvbiBzaG91bGQgYmUgYWxsb3dlZCAocmV0dXJuIHRydWUgaWYgeWVzKVxufVxuY29uc3Qgc3RvcmUgPSBpbmplY3RNYWNoaW5lU3RvcmUoc3RhdGVzRmFjdG9yeSwgaW5pdGlhbENvbnRleHQsIHsgZ3VhcmQgfSlcbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxwPntgVGhpcyBndWFyZCByZWNlaXZlcyB0aGUgZnVsbCBjdXJyZW50IHN0YXRlIChgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2B7IGNvbnRleHQsIHZhbHVlIH1gfTwvaW5saW5lQ29kZT57YCkgYW5kIHRoZSBuYW1lIG9mIHRoZSBwZW5kaW5nIHRyYW5zaXRpb24gc3RhdGUuIEhlcmUncyBhbiBleGFtcGxlIHVzaW5nIGEgdW5pdmVyc2FsIGd1YXJkIHRvIHBhdXNlIHRoZSBtYWNoaW5lIGFmdGVyIGFsbG93aW5nIGl0IHRvIGN5Y2xlIGJhY2sgdG8gdGhlIHN0YXJ0OmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHN4XCIsXG4gICAgICAgIFwibWV0YXN0cmluZ1wiOiBcImxpdmUgZWNvc3lzdGVtSWQ9c3RhdGUtbWFjaGluZXMvZ3VhcmQgcmVzdWx0VmFyPUN5Y2xlclwiLFxuICAgICAgICBcImxpdmVcIjogdHJ1ZSxcbiAgICAgICAgXCJlY29zeXN0ZW1JZFwiOiBcInN0YXRlLW1hY2hpbmVzL2d1YXJkXCIsXG4gICAgICAgIFwicmVzdWx0VmFyXCI6IFwiQ3ljbGVyXCJcbiAgICAgIH19PntgY29uc3QgY3ljbGluZ0F0b20gPSBhdG9tKCdjeWNsaW5nJywgKCkgPT4ge1xuICBjb25zdCBzdG9yZSA9IGluamVjdE1hY2hpbmVTdG9yZShcbiAgICBzdGF0ZSA9PiBbXG4gICAgICBzdGF0ZSgnYScpLm9uKCdjeWNsZScsICdiJyksXG4gICAgICBzdGF0ZSgnYicpLm9uKCdjeWNsZScsICdjJyksXG4gICAgICBzdGF0ZSgnYycpLm9uKCdjeWNsZScsICdhJyksXG4gICAgXSxcbiAgICB7IGlzUGF1c2VkOiBmYWxzZSB9LFxuICAgIHtcbiAgICAgIGd1YXJkOiAoc3RhdGUsIG5leHRWYWx1ZSkgPT4gIXN0YXRlLmNvbnRleHQuaXNQYXVzZWQgfHwgbmV4dFZhbHVlICE9PSAnYicsXG4gICAgfVxuICApXG5cbiAgaW5qZWN0RWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGUgPSBzZXRJbnRlcnZhbCgoKSA9PiBzdG9yZS5zZW5kKCdjeWNsZScpLCAxMDAwKVxuXG4gICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaGFuZGxlKVxuICB9LCBbXSlcblxuICByZXR1cm4gYXBpKHN0b3JlKS5zZXRFeHBvcnRzKHtcbiAgICB0b2dnbGVQYXVzZTogKCkgPT5cbiAgICAgIHN0b3JlLnNldENvbnRleHQoY29udGV4dCA9PiAoeyBpc1BhdXNlZDogIWNvbnRleHQuaXNQYXVzZWQgfSkpLFxuICB9KVxufSlcblxuZnVuY3Rpb24gQ3ljbGVyKCkge1xuICBjb25zdCBbeyBjb250ZXh0LCB2YWx1ZSB9LCB7IHRvZ2dsZVBhdXNlIH1dID0gdXNlQXRvbVN0YXRlKGN5Y2xpbmdBdG9tKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxkaXY+XG4gICAgICAgIHt2YWx1ZX17JyAnfVxuICAgICAgICB7Y29udGV4dC5pc1BhdXNlZFxuICAgICAgICAgID8gdmFsdWUgPT09ICdhJ1xuICAgICAgICAgICAgPyAnKHBhdXNlZCknXG4gICAgICAgICAgICA6ICcoZmluaXNoaW5nIGN5Y2xlLi4uKSdcbiAgICAgICAgICA6IG51bGx9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxidXR0b24gb25DbGljaz17dG9nZ2xlUGF1c2V9PlxuICAgICAgICB7Y29udGV4dC5pc1BhdXNlZCA/ICdSZXN1bWUnIDogJ1BhdXNlJ31cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApXG59XG5gfTwvY29kZT48L3ByZT5cbiAgICA8aDIgey4uLntcbiAgICAgIFwiaWRcIjogXCJyZWNhcFwiXG4gICAgfX0+e2BSZWNhcGB9PC9oMj5cbiAgICA8dWw+XG4gICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+e2BVc2UgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwibGlcIj57YGluamVjdE1hY2hpbmVTdG9yZSgpYH08L2lubGluZUNvZGU+e2AgdG8gY3JlYXRlIGEgTWFjaGluZVN0b3JlLmB9XG4gICAgICAgIDx1bCBwYXJlbnROYW1lPVwibGlcIj5cbiAgICAgICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImxpXCI+e2BzdGF0ZS5vbigpYH08L2lubGluZUNvZGU+e2AgYWRkcyB0cmFuc2l0aW9ucyBiZXR3ZWVuIHN0YXRlcy5gfTwvbGk+XG4gICAgICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPjxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgc3RhdGUub25FbnRlcigpYH08L2lubGluZUNvZGU+e2AgYW5kIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImxpXCI+e2BzdGF0ZS5vbkxlYXZlKClgfTwvaW5saW5lQ29kZT57YCBhZGQgbGlzdGVuZXJzIHRvIGluZGl2aWR1YWwgc3RhdGVzLmB9PC9saT5cbiAgICAgICAgPC91bD5cbiAgICAgIDwvbGk+XG4gICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+e2BDb250ZXh0IGlzIHRoZSBNYWNoaW5lU3RvcmUncyBcImV4dHJhIHN0YXRlXCIuIEl0IG11c3QgYmUgYW4gb2JqZWN0IChvciBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgdW5kZWZpbmVkYH08L2lubGluZUNvZGU+e2ApLmB9XG4gICAgICAgIDx1bCBwYXJlbnROYW1lPVwibGlcIj5cbiAgICAgICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+e2BTZXQgaW5pdGlhbCBjb250ZXh0IHdpdGggdGhlIDJuZCBwYXJhbSB0byBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgaW5qZWN0TWFjaGluZVN0b3JlYH08L2lubGluZUNvZGU+e2AuYH08L2xpPlxuICAgICAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj57YEdldCBjb250ZXh0IHdpdGggYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwibGlcIj57YG1hY2hpbmVTdG9yZS5nZXRDb250ZXh0KClgfTwvaW5saW5lQ29kZT48L2xpPlxuICAgICAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj57YFNldCBjb250ZXh0IHdpdGggYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwibGlcIj57YG1hY2hpbmVTdG9yZS5zZXRDb250ZXh0KClgfTwvaW5saW5lQ29kZT57YCBvciBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgbWFjaGluZVN0b3JlLnNldENvbnRleHREZWVwKClgfTwvaW5saW5lQ29kZT48L2xpPlxuICAgICAgICA8L3VsPlxuICAgICAgPC9saT5cbiAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj57YFVzZSBndWFyZHMgdG8gcHJldmVudCB2YWxpZCB0cmFuc2l0aW9ucy5gfTwvbGk+XG4gICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+e2BBZGQgYSB1bml2ZXJzYWwgZ3VhcmQgYW5kIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImxpXCI+e2BvblRyYW5zaXRpb25gfTwvaW5saW5lQ29kZT57YCBsaXN0ZW5lciB2aWEgdGhlIDNyZCBwYXJhbSB0byBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgaW5qZWN0TWFjaGluZVN0b3JlYH08L2lubGluZUNvZGU+e2AuYH08L2xpPlxuICAgIDwvdWw+XG4gICAgPGgyIHsuLi57XG4gICAgICBcImlkXCI6IFwibmV4dC1zdGVwc1wiXG4gICAgfX0+e2BOZXh0IFN0ZXBzYH08L2gyPlxuICAgIDxwPntgVGhhdCdzIGFib3V0IGl0IGZvciB0aGUga2V5IGZlYXR1cmVzIG9mIFplZHV4LiBZb3UncmUgcmVhZHkgdG8ganVtcCBpbiBhbmQgZ2V0IGJ1aWxkaW5nISBDaGVjayBvdXQgdGhlIGB9PGEgcGFyZW50TmFtZT1cInBcIiB7Li4ue1xuICAgICAgICBcImhyZWZcIjogXCIuLi9hZHZhbmNlZC9jb21wbGV4LXBhcmFtc1wiXG4gICAgICB9fT57YGFkdmFuY2VkIGd1aWRlc2B9PC9hPntgIGFuZCBgfTxhIHBhcmVudE5hbWU9XCJwXCIgey4uLntcbiAgICAgICAgXCJocmVmXCI6IFwiLi4vYXBpL2NsYXNzZXMvQXRvbVwiXG4gICAgICB9fT57YEFQSSBkb2NzYH08L2E+e2AgYXMgbmVlZGVkLiBIYXBweSBjb2RpbmchYH08L3A+XG4gICAgPC9NRFhMYXlvdXQ+O1xufVxuO1xuTURYQ29udGVudC5pc01EWENvbXBvbmVudCA9IHRydWU7XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJtZHgiLCJmcm9udE1hdHRlciIsImlkIiwidGl0bGUiLCJjb250ZW50VGl0bGUiLCJ1bmRlZmluZWQiLCJtZXRhZGF0YSIsImFzc2V0cyIsInRvYyIsInZhbHVlIiwibGV2ZWwiLCJsYXlvdXRQcm9wcyIsIk1EWExheW91dCIsIk1EWENvbnRlbnQiLCJjb21wb25lbnRzIiwicHJvcHMiLCJpc01EWENvbXBvbmVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3975\n')}}]);