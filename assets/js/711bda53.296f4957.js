"use strict";(self.webpackChunkzedux_docs=self.webpackChunkzedux_docs||[]).push([[7611],{9312:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return s},contentTitle:function(){return c},metadata:function(){return u},toc:function(){return m},default:function(){return f}});var o,n=a(3117),r=a(102),i=(a(7294),a(3905)),l=["components"],s={id:"localAtom",title:"localAtom"},c=void 0,u={unversionedId:"api/factories/localAtom",id:"api/factories/localAtom",isDocsHomePage:!1,title:"localAtom",description:"A factory for creating local atoms.",source:"@site/docs/api/factories/localAtom.mdx",sourceDirName:"api/factories",slug:"/api/factories/localAtom",permalink:"/zedux/docs/api/factories/localAtom",editUrl:"https://github.com/Omnistac/zedux/tree/master/docs/api/factories/localAtom.mdx",tags:[],version:"current",frontMatter:{id:"localAtom",title:"localAtom"},sidebar:"react",previous:{title:"ion",permalink:"/zedux/docs/api/factories/ion"},next:{title:"useAtomConsumer",permalink:"/zedux/docs/api/hooks/useAtomConsumer"}},m=[{value:"Example",id:"example",children:[],level:2},{value:"Signature",id:"signature",children:[{value:"<code>key</code>",id:"key",children:[],level:3},{value:"<code>value</code>",id:"value",children:[],level:3},{value:"<code>config</code>",id:"config",children:[],level:3}],level:2}],d=(o="LiveEditor",function(e){return console.warn("Component "+o+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.kt)("div",e)}),p={toc:m};function f(e){var t=e.components,a=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"import { localAtom } from '@zedux/react'\n")),(0,i.kt)("p",null,"A factory for creating ",(0,i.kt)("a",{parentName:"p",href:"../classes/LocalAtom"},"local atoms"),"."),(0,i.kt)("p",null,"Local atoms are just atoms that have their first param set to an optional string id. Zedux auto-generates an id every time the atom is used, if you don't pass one. Local atoms also always have their ",(0,i.kt)("a",{parentName:"p",href:"../classes/Atom#ttl"},(0,i.kt)("inlineCode",{parentName:"a"},"ttl"))," set to ",(0,i.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,i.kt)("h2",{id:"example"},"Example"),(0,i.kt)(d,{resultVar:"App",mdxType:"LiveEditor"},"\nconst counterAtom = localAtom('counter', () => {\n  const store = injectStore(0)\n\n  return store\n})\n\nfunction App() {\n  const [counter1, setCounter1] = useAtomState(counterAtom)\n  const [counter2, setCounter2] = useAtomState(counterAtom)\n\n  return (\n    <>\n      <div>First state: {counter1}</div>\n      <button onClick={() => setCounter1(state => state + 1)}>Increment</button>\n      <div>Second state: {counter2}</div>\n      <button onClick={() => setCounter2(state => state + 1)}>Increment</button>\n    </>\n  )\n}\n"),(0,i.kt)("h2",{id:"signature"},"Signature"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"localAtom(key, value, config?) => LocalAtom\n")),(0,i.kt)("p",null,"All params are the same as ",(0,i.kt)("a",{parentName:"p",href:"atom"},"the ",(0,i.kt)("inlineCode",{parentName:"a"},"atom()")," factory"),". Just note that the first param of a passed evaluator function should be a string. And ",(0,i.kt)("inlineCode",{parentName:"p"},"ttl")," is set to 0 by default, instead of -1."),(0,i.kt)("h3",{id:"key"},(0,i.kt)("inlineCode",{parentName:"h3"},"key")),(0,i.kt)("p",null,"Required. A string. The key should typically be unique, though there are cases (e.g. for DI) where you won't make them unique. The key identifies the atom in ecosystems where it's used."),(0,i.kt)("p",null,"See ",(0,i.kt)("a",{parentName:"p",href:"../classes/Atom#key"},(0,i.kt)("inlineCode",{parentName:"a"},"Atom#key")),"."),(0,i.kt)("h3",{id:"value"},(0,i.kt)("inlineCode",{parentName:"h3"},"value")),(0,i.kt)("p",null,"Required. The value of the atom. See ",(0,i.kt)("a",{parentName:"p",href:"atom#value"},"the ",(0,i.kt)("inlineCode",{parentName:"a"},"atom()")," factory")," for possible values. If an evaluator function is passed, its first parameter should be a string (doesn't have to be an optional param)."),(0,i.kt)("h3",{id:"config"},(0,i.kt)("inlineCode",{parentName:"h3"},"config")),(0,i.kt)("p",null,"Optional. An ",(0,i.kt)("a",{parentName:"p",href:"../types/AtomConfig"},"AtomConfig")," object. If it isn't passed, ",(0,i.kt)("inlineCode",{parentName:"p"},"ttl")," will default to 0, which means the atom instance dies as soon as it has no more dependents."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"atom('key', getter, { ttl: 0 })\n")))}f.isMDXComponent=!0}}]);