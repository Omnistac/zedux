"use strict";(self.webpackChunkzedux_docs=self.webpackChunkzedux_docs||[]).push([[5006],{3905:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Zo": function() { return /* binding */ MDXProvider; },\n/* harmony export */   "kt": function() { return /* binding */ createElement; }\n/* harmony export */ });\n/* unused harmony exports MDXContext, useMDXComponents, withMDXComponents */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7294);\n\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar isFunction = function isFunction(obj) {\n  return typeof obj === \'function\';\n};\n\nvar MDXContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createContext({});\nvar withMDXComponents = function withMDXComponents(Component) {\n  return function (props) {\n    var allComponents = useMDXComponents(props.components);\n    return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n      components: allComponents\n    }));\n  };\n};\nvar useMDXComponents = function useMDXComponents(components) {\n  var contextComponents = react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);\n  var allComponents = contextComponents;\n\n  if (components) {\n    allComponents = isFunction(components) ? components(contextComponents) : _objectSpread2(_objectSpread2({}, contextComponents), components);\n  }\n\n  return allComponents;\n};\nvar MDXProvider = function MDXProvider(props) {\n  var allComponents = useMDXComponents(props.components);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider, {\n    value: allComponents\n  }, props.children);\n};\n\nvar TYPE_PROP_NAME = \'mdxType\';\nvar DEFAULTS = {\n  inlineCode: \'code\',\n  wrapper: function wrapper(_ref) {\n    var children = _ref.children;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, children);\n  }\n};\nvar MDXCreateElement = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var propComponents = props.components,\n      mdxType = props.mdxType,\n      originalType = props.originalType,\n      parentName = props.parentName,\n      etc = _objectWithoutProperties(props, ["components", "mdxType", "originalType", "parentName"]);\n\n  var components = useMDXComponents(propComponents);\n  var type = mdxType;\n  var Component = components["".concat(parentName, ".").concat(type)] || components[type] || DEFAULTS[type] || originalType;\n\n  if (propComponents) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, _objectSpread2(_objectSpread2({\n      ref: ref\n    }, etc), {}, {\n      components: propComponents\n    }));\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, _objectSpread2({\n    ref: ref\n  }, etc));\n});\nMDXCreateElement.displayName = \'MDXCreateElement\';\nfunction createElement (type, props) {\n  var args = arguments;\n  var mdxType = props && props.mdxType;\n\n  if (typeof type === \'string\' || mdxType) {\n    var argsLength = args.length;\n    var createElementArgArray = new Array(argsLength);\n    createElementArgArray[0] = MDXCreateElement;\n    var newProps = {};\n\n    for (var key in props) {\n      if (hasOwnProperty.call(props, key)) {\n        newProps[key] = props[key];\n      }\n    }\n\n    newProps.originalType = type;\n    newProps[TYPE_PROP_NAME] = typeof type === \'string\' ? type : mdxType;\n    createElementArgArray[1] = newProps;\n\n    for (var i = 2; i < argsLength; i++) {\n      createElementArgArray[i] = args[i];\n    }\n\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement.apply(null, createElementArgArray);\n  }\n\n  return react__WEBPACK_IMPORTED_MODULE_0__.createElement.apply(null, args);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzkwNS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMEI7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGNBQWMsdUJBQXVCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLGdCQUFnQiw2QkFBNkI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDhCQUE4QixnREFBbUIsR0FBRztBQUNwRDtBQUNBO0FBQ0E7QUFDQSxrRUFBa0U7QUFDbEU7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDZDQUFnQjtBQUMxQzs7QUFFQTtBQUNBLDZHQUE2RztBQUM3Rzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnREFBbUI7QUFDekM7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnREFBbUIsQ0FBQywyQ0FBYyxJQUFJO0FBQzlEO0FBQ0E7QUFDQSxvQ0FBb0MsNkNBQWdCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLGdEQUFtQjtBQUMzQztBQUNBLEtBQUssVUFBVTtBQUNmO0FBQ0EsS0FBSztBQUNMOztBQUVBLHNCQUFzQixnREFBbUI7QUFDekM7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLGdCQUFnQjtBQUNwQztBQUNBOztBQUVBLFdBQVcsc0RBQXlCO0FBQ3BDOztBQUVBLFNBQVMsc0RBQXlCO0FBQ2xDOztBQUU4RiIsInNvdXJjZXMiOlsid2VicGFjazovL3plZHV4LWRvY3MvLi9ub2RlX21vZHVsZXMvQG1keC1qcy9yZWFjdC9kaXN0L2VzbS5qcz8wY2M1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7XG4gICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xuICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XG4gICAgfSk7XG4gICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpO1xuICB9XG5cbiAgcmV0dXJuIGtleXM7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQyKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuXG4gICAgaWYgKGkgJSAyKSB7XG4gICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG5cbiAgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpO1xuXG4gIHZhciBrZXksIGk7XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldO1xuICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7XG4gICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbnZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbic7XG59O1xuXG52YXIgTURYQ29udGV4dCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVDb250ZXh0KHt9KTtcbnZhciB3aXRoTURYQ29tcG9uZW50cyA9IGZ1bmN0aW9uIHdpdGhNRFhDb21wb25lbnRzKENvbXBvbmVudCkge1xuICByZXR1cm4gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIGFsbENvbXBvbmVudHMgPSB1c2VNRFhDb21wb25lbnRzKHByb3BzLmNvbXBvbmVudHMpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgY29tcG9uZW50czogYWxsQ29tcG9uZW50c1xuICAgIH0pKTtcbiAgfTtcbn07XG52YXIgdXNlTURYQ29tcG9uZW50cyA9IGZ1bmN0aW9uIHVzZU1EWENvbXBvbmVudHMoY29tcG9uZW50cykge1xuICB2YXIgY29udGV4dENvbXBvbmVudHMgPSBSZWFjdC51c2VDb250ZXh0KE1EWENvbnRleHQpO1xuICB2YXIgYWxsQ29tcG9uZW50cyA9IGNvbnRleHRDb21wb25lbnRzO1xuXG4gIGlmIChjb21wb25lbnRzKSB7XG4gICAgYWxsQ29tcG9uZW50cyA9IGlzRnVuY3Rpb24oY29tcG9uZW50cykgPyBjb21wb25lbnRzKGNvbnRleHRDb21wb25lbnRzKSA6IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBjb250ZXh0Q29tcG9uZW50cyksIGNvbXBvbmVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGFsbENvbXBvbmVudHM7XG59O1xudmFyIE1EWFByb3ZpZGVyID0gZnVuY3Rpb24gTURYUHJvdmlkZXIocHJvcHMpIHtcbiAgdmFyIGFsbENvbXBvbmVudHMgPSB1c2VNRFhDb21wb25lbnRzKHByb3BzLmNvbXBvbmVudHMpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTURYQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBhbGxDb21wb25lbnRzXG4gIH0sIHByb3BzLmNoaWxkcmVuKTtcbn07XG5cbnZhciBUWVBFX1BST1BfTkFNRSA9ICdtZHhUeXBlJztcbnZhciBERUZBVUxUUyA9IHtcbiAgaW5saW5lQ29kZTogJ2NvZGUnLFxuICB3cmFwcGVyOiBmdW5jdGlvbiB3cmFwcGVyKF9yZWYpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwge30sIGNoaWxkcmVuKTtcbiAgfVxufTtcbnZhciBNRFhDcmVhdGVFbGVtZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHByb3BDb21wb25lbnRzID0gcHJvcHMuY29tcG9uZW50cyxcbiAgICAgIG1keFR5cGUgPSBwcm9wcy5tZHhUeXBlLFxuICAgICAgb3JpZ2luYWxUeXBlID0gcHJvcHMub3JpZ2luYWxUeXBlLFxuICAgICAgcGFyZW50TmFtZSA9IHByb3BzLnBhcmVudE5hbWUsXG4gICAgICBldGMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMocHJvcHMsIFtcImNvbXBvbmVudHNcIiwgXCJtZHhUeXBlXCIsIFwib3JpZ2luYWxUeXBlXCIsIFwicGFyZW50TmFtZVwiXSk7XG5cbiAgdmFyIGNvbXBvbmVudHMgPSB1c2VNRFhDb21wb25lbnRzKHByb3BDb21wb25lbnRzKTtcbiAgdmFyIHR5cGUgPSBtZHhUeXBlO1xuICB2YXIgQ29tcG9uZW50ID0gY29tcG9uZW50c1tcIlwiLmNvbmNhdChwYXJlbnROYW1lLCBcIi5cIikuY29uY2F0KHR5cGUpXSB8fCBjb21wb25lbnRzW3R5cGVdIHx8IERFRkFVTFRTW3R5cGVdIHx8IG9yaWdpbmFsVHlwZTtcblxuICBpZiAocHJvcENvbXBvbmVudHMpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7XG4gICAgICByZWY6IHJlZlxuICAgIH0sIGV0YyksIHt9LCB7XG4gICAgICBjb21wb25lbnRzOiBwcm9wQ29tcG9uZW50c1xuICAgIH0pKTtcbiAgfVxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIF9vYmplY3RTcHJlYWQyKHtcbiAgICByZWY6IHJlZlxuICB9LCBldGMpKTtcbn0pO1xuTURYQ3JlYXRlRWxlbWVudC5kaXNwbGF5TmFtZSA9ICdNRFhDcmVhdGVFbGVtZW50JztcbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQgKHR5cGUsIHByb3BzKSB7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICB2YXIgbWR4VHlwZSA9IHByb3BzICYmIHByb3BzLm1keFR5cGU7XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCBtZHhUeXBlKSB7XG4gICAgdmFyIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aDtcbiAgICB2YXIgY3JlYXRlRWxlbWVudEFyZ0FycmF5ID0gbmV3IEFycmF5KGFyZ3NMZW5ndGgpO1xuICAgIGNyZWF0ZUVsZW1lbnRBcmdBcnJheVswXSA9IE1EWENyZWF0ZUVsZW1lbnQ7XG4gICAgdmFyIG5ld1Byb3BzID0ge307XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCBrZXkpKSB7XG4gICAgICAgIG5ld1Byb3BzW2tleV0gPSBwcm9wc1trZXldO1xuICAgICAgfVxuICAgIH1cblxuICAgIG5ld1Byb3BzLm9yaWdpbmFsVHlwZSA9IHR5cGU7XG4gICAgbmV3UHJvcHNbVFlQRV9QUk9QX05BTUVdID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZSA6IG1keFR5cGU7XG4gICAgY3JlYXRlRWxlbWVudEFyZ0FycmF5WzFdID0gbmV3UHJvcHM7XG5cbiAgICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3NMZW5ndGg7IGkrKykge1xuICAgICAgY3JlYXRlRWxlbWVudEFyZ0FycmF5W2ldID0gYXJnc1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudC5hcHBseShudWxsLCBjcmVhdGVFbGVtZW50QXJnQXJyYXkpO1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQuYXBwbHkobnVsbCwgYXJncyk7XG59XG5cbmV4cG9ydCB7IE1EWENvbnRleHQsIE1EWFByb3ZpZGVyLCBjcmVhdGVFbGVtZW50IGFzIG1keCwgdXNlTURYQ29tcG9uZW50cywgd2l0aE1EWENvbXBvbmVudHMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3905\n')},7739:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "assets": function() { return /* binding */ assets; },\n/* harmony export */   "contentTitle": function() { return /* binding */ contentTitle; },\n/* harmony export */   "default": function() { return /* binding */ MDXContent; },\n/* harmony export */   "frontMatter": function() { return /* binding */ frontMatter; },\n/* harmony export */   "metadata": function() { return /* binding */ metadata; },\n/* harmony export */   "toc": function() { return /* binding */ toc; }\n/* harmony export */ });\n/* harmony import */ var _Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7462);\n/* harmony import */ var _Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_objectWithoutPropertiesLoose_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3366);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7294);\n/* harmony import */ var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3905);\nvar _excluded=["components"];/* @jsxRuntime classic */ /* @jsx mdx */ /* @jsxFrag React.Fragment */var frontMatter={id:\'persistence\',title:\'Persistence\'};var contentTitle=undefined;var metadata={"unversionedId":"advanced/persistence","id":"advanced/persistence","title":"Persistence","description":"There are many ways to persist and restore state \\"snapshots\\" in Zedux. It can be done at the atom instance, ecosystem, or plugin level.","source":"@site/docs/advanced/persistence.mdx","sourceDirName":"advanced","slug":"/advanced/persistence","permalink":"/zedux/docs/advanced/persistence","draft":false,"editUrl":"https://github.com/Omnistac/zedux/tree/master/docs/advanced/persistence.mdx","tags":[],"version":"current","frontMatter":{"id":"persistence","title":"Persistence"},"sidebar":"react","previous":{"title":"Plugins","permalink":"/zedux/docs/advanced/plugins"},"next":{"title":"SSR","permalink":"/zedux/docs/advanced/ssr"}};var assets={};var toc=[{value:\'Single Atom\',id:\'single-atom\',level:2},{value:\'Ecosystem Persistence\',id:\'ecosystem-persistence\',level:2},{value:\'<code>ecosystem.dehydrate()</code>\',id:\'ecosystemdehydrate\',level:3},{value:\'<code>dehydrate</code> Atom Config\',id:\'dehydrate-atom-config\',level:3},{value:\'<code>ecosystem.hydrate()</code>\',id:\'ecosystemhydrate\',level:3},{value:\'<code>hydrate</code> Atom Config\',id:\'hydrate-atom-config\',level:3},{value:\'Store Hydration\',id:\'store-hydration\',level:2},{value:\'<code>manualHydration</code>\',id:\'manualhydration\',level:2},{value:\'<code>consumeHydrations</code>\',id:\'consumehydrations\',level:2},{value:\'Reactivity Via Plugins\',id:\'reactivity-via-plugins\',level:2},{value:\'Recap\',id:\'recap\',level:2},{value:\'Next Steps\',id:\'next-steps\',level:2}];var layoutProps={toc:toc};var MDXLayout="wrapper";function MDXContent(_ref){var components=_ref.components,props=(0,_Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_objectWithoutPropertiesLoose_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(_ref,_excluded);return (0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)(MDXLayout,(0,_Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"There are many ways to persist and restore state \\"snapshots\\" in Zedux. It can be done at the atom instance, ecosystem, or plugin level."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("admonition",{"title":"you will learn:","type":"tip"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("ul",{parentName:"admonition"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"How to persist and restore a single atom instance\'s state"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"How to dehydrate and rehydrate an entire ecosystem"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"How to transform non-serializable atom values"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"One of many ways to accomplish this with plugins"))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"single-atom"},"Single Atom"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Let\'s start simple. We\'ll use ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"localStorage")," for these examples, but you can use whatever means of storage you want."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"To persist the state of a single atom, we could use a separate atom to handle the persist/restore functionality."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Here\'s an example using a separate ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"localStorageAtom")," that we give a ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"key")," param, creating a different ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"localStorageAtom")," instance for every localStorage key we want to persist data to/from:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx","metastring":"live ecosystemId=persistence/separate-atom resultVar=Username","live":true,"ecosystemId":"persistence/separate-atom","resultVar":"Username"},"const localStorageAtom = atom(\'localStorage\', (key: string) => {\\n  const val = localStorage.getItem(key)\\n\\n  // we\'re using the function overload of `injectStore` to prevent JSON.parse\\n  // from running unnecesarily on reevaluations:\\n  const store = injectStore(() =>\\n    createStore(null, val ? JSON.parse(val) : undefined)\\n  )\\n\\n  const update = (newVal: any) => {\\n    store.setState(newVal)\\n    localStorage.setItem(key, JSON.stringify(newVal))\\n  }\\n\\n  return api(store).setExports({ update })\\n})\\n\\n// this atom\'s state now persists across page reloads:\\nconst usernameAtom = atom(\'username\', () => {\\n  const [storedName, { update }] = injectAtomState(localStorageAtom, [\\n    \'username1\', // <- the localStorage key\\n  ])\\n\\n  return api(storedName || \'\').setExports({ update })\\n})\\n\\nfunction Username() {\\n  const [state, { update }] = useAtomState(usernameAtom)\\n\\n  return (\\n    <div>\\n      <input onChange={event => update(event.target.value)} value={state} />\\n      <button onClick={() => location.reload()}>Refresh page</button>\\n    </div>\\n  )\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"We could also use an injector."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx","metastring":"live ecosystemId=persistence/injector resultVar=Username","live":true,"ecosystemId":"persistence/injector","resultVar":"Username"},"const injectLocalStorage = (key: string, defaultVal: any) => {\\n  const val = localStorage.getItem(key)\\n\\n  // we\'re using the function overload of `injectStore` to prevent JSON.parse\\n  // from running unnecesarily on reevaluations:\\n  const store = injectStore(() =>\\n    createStore(null, val ? JSON.parse(val) : defaultVal)\\n  )\\n\\n  const update = (newVal: any) => {\\n    store.setState(newVal)\\n    localStorage.setItem(key, JSON.stringify(newVal))\\n  }\\n\\n  return [store, update] as const\\n}\\n\\n// this atom\'s state now persists across page reloads:\\nconst usernameAtom = atom(\'username\', () => {\\n  const [store, update] = injectLocalStorage(\'username2\', \'\')\\n\\n  return api(store).setExports({ update })\\n})\\n\\nfunction Username() {\\n  const [state, { update }] = useAtomState(usernameAtom)\\n\\n  return (\\n    <div>\\n      <input onChange={event => update(event.target.value)} value={state} />\\n      <button onClick={() => location.reload()}>Refresh page</button>\\n    </div>\\n  )\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Yep, these approaches are very similar."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"ecosystem-persistence"},"Ecosystem Persistence"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"You can get a snapshot of the state of all atoms in an ecosystem with ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"ecosystem.inspectInstanceValues()")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"import { atom, createEcosystem } from \'@zedux/react\'\\n\\nconst exampleAtom = atom(\'example\', () => \'Hello, world!\')\\nconst ecosystem = createEcosystem({ id: \'root\' })\\necosystem.getInstance(exampleAtom)\\n\\nconst snapshot = ecosystem.inspectInstanceValues() // { example: \'Hello, world!\' }\\nconst serialized = JSON.stringify(snapshot)\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"This may be all you need. However, ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"inspectInstanceValues")," is very \\"dumb\\" - it doesn\'t do anything special to transform the state, it just returns it as-is. Since atoms can hold anything, you may have a situation where you\'re storing non-serializable values (namely functions) in atoms. Data types from Immutable.js, for example, require an extra step to serialize/deserialize values."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"For these atoms you have two options:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("ul",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Skip the non-serializable atom"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Transform the atom\'s value to something that can be serialized.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Ecosystems have a method that\'s better suited for both of these:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"ecosystemdehydrate"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h3"},"ecosystem.dehydrate()")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Like ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".inspectInstanceValues()"),", ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".dehydrate()")," returns an object mapping atom instance keyHashes to their current value. But ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".dehydrate()")," does a little more magic."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"You can blacklist atoms you don\'t want to dehydrate by passing ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"exclude")," and/or ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"excludeFlags")," options:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts","metastring":"live ecosystemId=excludes-example resultVar=snapshot","live":true,"ecosystemId":"excludes-example","resultVar":"snapshot"},"const skippedAtom = atom(\'skipped\', \':(\', { flags: [\'no-persist\'] })\\nconst alsoSkippedAtom = atom(\'alsoSkipped\', \':O\')\\nconst persistedAtom = atom(\'persisted\', \':)\')\\n\\nconst ecosystem = createEcosystem({ id: \'exludes-example\' })\\necosystem.getInstance(skippedAtom)\\necosystem.getInstance(alsoSkippedAtom)\\necosystem.getInstance(persistedAtom)\\n\\nconst snapshot = ecosystem.dehydrate({\\n  exclude: [alsoSkippedAtom],\\n  excludeFlags: [\'no-persist\'],\\n})\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Similarly, you can specify a whitelist of atoms you want to be dehydrated by passing ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"include")," and/or ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"includeFlags")," options:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts","metastring":"live ecosystemId=includes-example resultVar=snapshot","live":true,"ecosystemId":"includes-example","resultVar":"snapshot"},"const skippedAtom = atom(\'skipped\', \':(\')\\nconst persistedAtom = atom(\'persisted\', \':)\', { flags: [\'persist\'] })\\nconst alsoPersistedAtom = atom(\'alsoPersisted\', \':D\')\\n\\nconst ecosystem = createEcosystem({ id: \'includes-example\' })\\necosystem.getInstance(skippedAtom)\\necosystem.getInstance(persistedAtom)\\necosystem.getInstance(alsoPersistedAtom)\\n\\nconst snapshot = ecosystem.dehydrate({\\n  include: [alsoPersistedAtom],\\n  includeFlags: [\'persist\'],\\n})\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Excludes take precedence over includes if you pass both."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"dehydrate-atom-config"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h3"},"dehydrate")," Atom Config"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Atoms can be configured with a ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"dehydrate")," config option:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const exampleAtom = atom(\'example\', () => initialState, {\\n  dehydrate: state => transform(state),\\n})\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"ecosystem.dehydrate()")," calls ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"dehydrate")," when specified to transform the state of individual atom instances."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Here\'s an example of an atom whose value is a JS Map, which can\'t be directly stringified. We use the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"dehydrate")," atom config option to tell Zedux how to transform this atom instance\'s state to a serializable value for dehydration:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx","metastring":"live ecosystemId=persistence/dehydrate resultVar=Dehydrator","live":true,"ecosystemId":"persistence/dehydrate","resultVar":"Dehydrator"},"const transformingAtom = atom(\\n  \'transforming\',\\n  () => {\\n    const store = injectStore(new Map([[\'counter\', 0]]))\\n\\n    injectEffect(() => {\\n      const handle = setInterval(() => {\\n        store.setState(state =>\\n          new Map(state).set(\'counter\', state.get(\'counter\') + 1)\\n        )\\n      }, 1000)\\n\\n      return () => clearInterval(handle)\\n    })\\n\\n    return store\\n  },\\n  // turn the map into a JS object for serialization:\\n  { dehydrate: state => Object.fromEntries(state.entries()) }\\n)\\n\\nfunction Dehydrator() {\\n  useAtomValue(transformingAtom) // just to instantiate it for this example\\n  const ecosystem = useEcosystem()\\n  const [dehydration, setDehydration] = useState()\\n\\n  return (\\n    <>\\n      <pre>{dehydration}</pre>\\n      <button\\n        onClick={() =>\\n          setDehydration(JSON.stringify(ecosystem.dehydrate(), null, 2))\\n        }\\n      >\\n        Dehydrate!\\n      </button>\\n    </>\\n  )\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Now calls to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"ecosystem.dehydrate()")," call the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"dehydrate")," atom config function to transform the state of all instances of the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"transforming")," atom."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"ecosystemhydrate"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h3"},"ecosystem.hydrate()")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"The inverse of ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"ecosystem.dehydrate()"),". After you get a state snapshot, use ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"ecosystem.hydrate()")," to restore it."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts","metastring":"live ecosystemId=hydrate-example resultVar=output","live":true,"ecosystemId":"hydrate-example","resultVar":"output"},"const fooAtom = atom(\'foo\', 1)\\nconst barAtom = atom(\'bar\', 2)\\n\\nconst ecosystem = createEcosystem({ id: \'hydrate-example\' })\\nconst fooInstance = ecosystem.getInstance(fooAtom)\\nconst barInstance = ecosystem.getInstance(barAtom)\\n\\nconst snapshot1 = ecosystem.dehydrate()\\n\\nfooInstance.setState(3) // change foo\'s state from 1 to 3\\nconst snapshot2 = ecosystem.dehydrate()\\n\\necosystem.hydrate(snapshot1) // restore the initial snapshot\\nconst snapshot3 = ecosystem.dehydrate()\\n\\nconst output = { snapshot1, snapshot2, snapshot3 }\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"After hydration, any newly-initialized atom instances that have a matching key in the hydrated snapshot will receive their hydrated state after initializing."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts","metastring":"live ecosystemId=atom-hydrate-example resultVar=snapshot","live":true,"ecosystemId":"atom-hydrate-example","resultVar":"snapshot"},"const hydrateMe = atom(\'hydrateMe\', (id: number) => {\\n  return injectStore(\'non-hydrated state\')\\n})\\n\\nconst ecosystem = createEcosystem({ id: \'atom-hydrate-example\' })\\necosystem.hydrate({ \'hydrateMe-[0]\': \'hydrated state\' })\\n\\n// these instances are created after hydration:\\necosystem.getInstance(hydrateMe, [0])\\necosystem.getInstance(hydrateMe, [1])\\n\\nconst snapshot = ecosystem.inspectInstanceValues()\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Hydration will also immediately update any existing atom instances with keyHashes in the snapshot. Pass ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"{ retroactive: false }")," as the second parameter to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"ecosystem.hydrate()")," to disable this. With this option, only instances that are created after hydration will have their state hydrated."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts","metastring":"live ecosystemId=no-retroactive-example resultVar=snapshot","live":true,"ecosystemId":"no-retroactive-example","resultVar":"snapshot"},"const hydrateMe = atom(\'hydrateMe\', (id: number) => {\\n  return injectStore(\'non-hydrated state\')\\n})\\n\\nconst ecosystem = createEcosystem({ id: \'no-retroactive-example\' })\\n\\n// these instances are created before hydration, so won\'t be updated:\\necosystem.getInstance(hydrateMe, [0])\\necosystem.getInstance(hydrateMe, [1])\\n\\necosystem.hydrate({ \'hydrateMe-[0]\': \'hydrated state\' }, { retroactive: false })\\n\\nconst snapshot = ecosystem.inspectInstanceValues()\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"hydrate-atom-config"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h3"},"hydrate")," Atom Config"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Atoms can be configured with a ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"hydrate")," transformation function:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const exampleAtom = atom(\'example\', initialState, {\\n  hydrate: rawVal => transform(rawVal),\\n})\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"This can be used to transform dehydrated values back to non-serializable form. Let\'s return to our JS Map example:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx","metastring":"live ecosystemId=persistence/hydrate resultVar=Dehydrator","live":true,"ecosystemId":"persistence/hydrate","resultVar":"Dehydrator"},"const transformingAtom = atom(\\n  \'transforming\',\\n  () => {\\n    const store = injectStore(new Map([[\'counter\', 0]]))\\n\\n    injectEffect(() => {\\n      const handle = setInterval(() => {\\n        store.setState(state =>\\n          new Map(state).set(\'counter\', state.get(\'counter\') + 1)\\n        )\\n      }, 1000)\\n\\n      return () => clearInterval(handle)\\n    })\\n\\n    return store\\n  },\\n  // transform the map to and from a JS object:\\n  {\\n    dehydrate: state => Object.fromEntries(state.entries()),\\n    hydrate: rawState => new Map(Object.entries(rawState)),\\n  }\\n)\\n\\nfunction Counter() {\\n  const map = useAtomValue(transformingAtom)\\n\\n  return <div>Counter: {map.get(\'counter\')}</div>\\n}\\n\\nfunction Dehydrator() {\\n  const ecosystem = useEcosystem()\\n  const [dehydration, setDehydration] = useState()\\n\\n  return (\\n    <>\\n      <Counter />\\n      <pre>{dehydration}</pre>\\n      <button\\n        onClick={() =>\\n          setDehydration(JSON.stringify(ecosystem.dehydrate(), null, 2))\\n        }\\n      >\\n        Dehydrate!\\n      </button>\\n      {dehydration && (\\n        <button onClick={() => ecosystem.hydrate(JSON.parse(dehydration))}>\\n          Hydrate!\\n        </button>\\n      )}\\n    </>\\n  )\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"store-hydration"},"Store Hydration"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"The default hydration flow hydrates the store after the atom instance\'s initial evaluation ends. This means that if your state factory\'s main store was injected without ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"subscribe: false"),", it will immediately trigger a second evaluation."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"This is usually fine. But of course you can control this behavior with 2 steps:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("ol",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ol"},"Hydrate the injected store\'s state yourself."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ol"},"Tell Zedux not to automatically hydrate this atom.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"To hydrate the store\'s state, use the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"hydrate")," option of ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"../api/injectors/injectStore"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"a"},"injectStore")),":"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const store = injectStore(defaultValue, { hydrate: true })\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"The store\'s state will be set to the hydration matching the current atom instance, after passing it to the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"hydrate")," atom config option (if any) to transform the value. If there is no hydration for the current atom instance, passing ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"{ hydrate: true }")," does nothing."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts","metastring":"live resultVar=output","live":true,"resultVar":"output"},"const myAtom = atom(\\n  \'myKey\',\\n  () => {\\n    const store = injectStore(\'default\', { hydrate: true })\\n  },\\n  { hydrate: hydration => `${hydration} and transformed!` }\\n)\\n\\nconst ecosystem = createEcosystem({ id: \'hydrate-flow-example\' })\\necosystem.hydrate({ myKey: \'hydrated\' })\\n\\nconst output = ecosystem.get(myAtom)\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"When the function overload is used, the hydration will be passed to your ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"storeFactory")," function. It\'s up to you to use the hydration to set your store\'s initial state."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const store = injectStore(\\n  hydration => createStore(null, hydration ?? defaultValue),\\n  { hydrate: true }\\n)\\n// (this specific example is exactly equivalent to:)\\nconst store = injectStore(defaultValue, { hydrate: true })\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"If there is no hydration, this parameter will be undefined."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Now for the 2nd step:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"manualhydration"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h2"},"manualHydration")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Set this atom config option to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"true")," to prevent Zedux from automatically hydrating instances of the atom. You\'ll usually want to pair this with passing ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"hydrate: true")," to a single ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"injectStore")," in the atom\'s state factory."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const exampleAtom = atom(\\n  \'example\',\\n  () => {\\n    const store = injectStore(defaultValue, { hydrate: true })\\n    const internalStore = injectStore() // can inject other, non-hydrated stores\\n\\n    return store // Zedux won\'t hydrate this store\'s state after init now\\n  },\\n  {\\n    manualHydration: true, // prevent automatic hydration\\n  }\\n)\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"consumehydrations"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h2"},"consumeHydrations")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"By default, once a hydration has been set, it stays in the ecosystem forever. You can override the hydration with a new one. For example:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"ecosystem.hydrate({ key: \'hydrated value\' })\\necosystem.hydrate({ key: \'different value\' }) // overrides the first hydration\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"But there\'s no way to undo the hydration (currently). This means that every time an atom instance is destroyed/recreated it will be hydrated again. Sometimes you\'ll only want to hydrate once and then never again. You can accomplish this with the ecosystem-level and atom-level ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"consumeHydrations")," config option:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx"},"const ecosystem = createEcosystem({\\n  consumeHydrations: true,\\n  id: \'root\',\\n})\\n\\n// or\\n<EcosystemProvider consumeHydrations id=\\"root\\">\\n  {children}\\n</EcosystemProvider>\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"With this set at the ecosystem level, all atoms in the ecosystem will \\"consume\\" their hydration the first time they hydration is used, removing the hydration from the ecosystem. Set it at the atom level to override the ecosystem\'s behavior for a particular atom."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts","metastring":"live resultVar=output","live":true,"resultVar":"output"},"const exampleAtom = atom(\\n  \'example\',\\n  () => injectStore(\'no hydration\', { hydrate: true }), // consume the hydration\\n  { consumeHydrations: true }\\n)\\n\\nconst ecosystem = createEcosystem({ id: \'consume-hydration-example\' })\\necosystem.hydrate({ example: \'hydrated state!\' })\\n\\nlet instance = ecosystem.getInstance(exampleAtom)\\nconst firstState = instance.getState()\\n\\ninstance.destroy()\\ninstance = ecosystem.getInstance(exampleAtom) // hydration is now gone\\n\\nconst secondState = instance.getState()\\nconst output = { firstState, secondState }\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("admonition",{"type":"note"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",{parentName:"admonition"},"Even though we\'re not using ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"manualHydration"),", this example atom will not evaluate twice. The ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"injectStore")," call will consume the hydration immediately, so it won\'t be there when Zedux tries to hydrate the store after the initial evaluation.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"With this flag set, hydrations will also be consumed for atom instances that are hydrated immediately when calling ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"ecosystem.hydrate()")," without ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"{ retroactive: false }"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"reactivity-via-plugins"},"Reactivity Via Plugins"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"The ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"localStorage")," single atom examples we gave at the beginning of this page were beautifully reactive - they would persist the atom\'s state immediately on state change. None of our ecosystem examples do that. We have to manually call ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"ecosystem.dehydrate()")," e.g. in response to a button press or on an interval."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"By default, ecosystems don\'t receive any kind of update when individual atom instances change state. This is by design, for performance reasons. However, it is possible to turn this behavior on with plugins."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Make sure your plugin turns on the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"stateChanged")," mod."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"import { createEcosystem, ZeduxPlugin } from \'@zedux/react\'\\n\\nconst plugin = new ZeduxPlugin({\\n  registerEcosystem: ecosystem => {\\n    const subscription = ecosystem.modsMessageBus.subscribe({\\n      effects: ({ action }) => {\\n        if (action.type !== ZeduxPlugin.actions.stateChanged.type) return\\n\\n        const snapshot = ecosystem.dehydrate({ includeFlags: [\'persist\'] })\\n        localStorage.setItem(\'snapshot\', snapshot)\\n      },\\n    })\\n\\n    return () => subscription.unsubscribe()\\n  },\\n})\\n\\nplugin.modsStore.setState({ stateChanged: true })\\n\\nconst ecosystem = createEcosystem({ id: \'root\' })\\necosystem.registerPlugin(plugin)\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"recap"},"Recap"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("ul",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Use ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"ecosystem.dehydrate()")," to get a state snapshot of all or some of the atoms in the ecosystem.",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("ul",{parentName:"li"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Use the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"dehydrate")," atom config option to transform the state of individual atoms to a serializable or shortened form."))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Use ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"ecosystem.hydrate()")," to restore a state snapshot.",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("ul",{parentName:"li"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Use the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"hydrate")," atom config option to transform hydrations for individual atoms."))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"The ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"{ hydrate: true }")," ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"injectStore")," option sets the store\'s initial state to the hydrated value."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Use the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"manualHydration")," atom config option to prevent Zedux from automatically hydrating individual atoms."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Use the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"consumeHydrations")," atom config or ecosystem config options to prevent atoms from being hydrated again after being destroyed and recreated."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Use a plugin with the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"stateChanged")," mod to reactively persist snapshots.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"next-steps"},"Next Steps"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Now we know the basics of persistence. Let\'s use these tools to implement ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"ssr"},"SSR"),"."));};MDXContent.isMDXComponent=true;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFDakIsbUVBQUksVUFBVSxDQUFDLElBQUksYUFBYSwyRUFBWSxVQUFVLENBQUMsSUFBSSxjQUEyQix1R0FBNEcsQ0FDL0wsQ0FDRixDQUNMLG1FQUFJLFVBQVUsQ0FBQyxJQUFJLFNBQVMsMkVBQVksVUFBVSxDQUFDLElBQUksd0JBQXFDLGlDQUMxRixtRUFBSSxVQUFVLENBQUMsSUFBSSxFQUNqQixtRUFBSSxVQUFVLENBQUMsSUFBSSxhQUFhLDJFQUFZLFVBQVUsQ0FBQyxJQUFJLFlBQXlCLHFFQUEwRSxDQUMzSixDQUNGLENBQ0wsbUVBQUksVUFBVSxDQUFDLElBQUksU0FBUywyRUFBWSxVQUFVLENBQUMsSUFBSSxzQkFBbUMsS0FBSywyRUFBWSxVQUFVLENBQUMsSUFBSSxnQkFBNkIsaUVBQXNFLENBQzdOLG1FQUFJLFVBQVUsQ0FBQyxJQUFJLGFBQWEsMkVBQVksVUFBVSxDQUFDLElBQUksb0JBQWlDLHVGQUE0RixDQUN4TCxtRUFBSSxVQUFVLENBQUMsSUFBSSxhQUFhLDJFQUFZLFVBQVUsQ0FBQyxJQUFJLHNCQUFtQyw0SEFBaUksQ0FDL04sbUVBQUksVUFBVSxDQUFDLElBQUksMkJBQTJCLDJFQUFZLFVBQVUsQ0FBQyxJQUFJLGlCQUE4Qix5Q0FBOEMsQ0FDbEosQ0FDTCxtRUFDRSxJQUFJLENBQUUsWUFBWSxlQUNFLENBQ3RCLG1KQUFpRixrRUFBRyxVQUFVLENBQUMsR0FBRyxDQUM5RixNQUFNLENBQUUsS0FBSyxRQUNELEtBQVMsQ0FDYixDQUNoQixDQUNBLENBQ0FELFVBQVUsQ0FBQ0csY0FBYyxDQUFHLElBQUkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96ZWR1eC1kb2NzLy4vZG9jcy9hZHZhbmNlZC9wZXJzaXN0ZW5jZS5tZHg/YTdjOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcblxuLyogQGpzeFJ1bnRpbWUgY2xhc3NpYyAqL1xuLyogQGpzeCBtZHggKi9cbi8qIEBqc3hGcmFnIFJlYWN0LkZyYWdtZW50ICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtZHggfSBmcm9tICdAbWR4LWpzL3JlYWN0JztcblxuXG5leHBvcnQgY29uc3QgZnJvbnRNYXR0ZXIgPSB7XG5cdGlkOiAncGVyc2lzdGVuY2UnLFxuXHR0aXRsZTogJ1BlcnNpc3RlbmNlJ1xufTtcbmV4cG9ydCBjb25zdCBjb250ZW50VGl0bGUgPSB1bmRlZmluZWQ7XG5leHBvcnQgY29uc3QgbWV0YWRhdGEgPSB7XG4gIFwidW52ZXJzaW9uZWRJZFwiOiBcImFkdmFuY2VkL3BlcnNpc3RlbmNlXCIsXG4gIFwiaWRcIjogXCJhZHZhbmNlZC9wZXJzaXN0ZW5jZVwiLFxuICBcInRpdGxlXCI6IFwiUGVyc2lzdGVuY2VcIixcbiAgXCJkZXNjcmlwdGlvblwiOiBcIlRoZXJlIGFyZSBtYW55IHdheXMgdG8gcGVyc2lzdCBhbmQgcmVzdG9yZSBzdGF0ZSBcXFwic25hcHNob3RzXFxcIiBpbiBaZWR1eC4gSXQgY2FuIGJlIGRvbmUgYXQgdGhlIGF0b20gaW5zdGFuY2UsIGVjb3N5c3RlbSwgb3IgcGx1Z2luIGxldmVsLlwiLFxuICBcInNvdXJjZVwiOiBcIkBzaXRlL2RvY3MvYWR2YW5jZWQvcGVyc2lzdGVuY2UubWR4XCIsXG4gIFwic291cmNlRGlyTmFtZVwiOiBcImFkdmFuY2VkXCIsXG4gIFwic2x1Z1wiOiBcIi9hZHZhbmNlZC9wZXJzaXN0ZW5jZVwiLFxuICBcInBlcm1hbGlua1wiOiBcIi96ZWR1eC9kb2NzL2FkdmFuY2VkL3BlcnNpc3RlbmNlXCIsXG4gIFwiZHJhZnRcIjogZmFsc2UsXG4gIFwiZWRpdFVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9PbW5pc3RhYy96ZWR1eC90cmVlL21hc3Rlci9kb2NzL2FkdmFuY2VkL3BlcnNpc3RlbmNlLm1keFwiLFxuICBcInRhZ3NcIjogW10sXG4gIFwidmVyc2lvblwiOiBcImN1cnJlbnRcIixcbiAgXCJmcm9udE1hdHRlclwiOiB7XG4gICAgXCJpZFwiOiBcInBlcnNpc3RlbmNlXCIsXG4gICAgXCJ0aXRsZVwiOiBcIlBlcnNpc3RlbmNlXCJcbiAgfSxcbiAgXCJzaWRlYmFyXCI6IFwicmVhY3RcIixcbiAgXCJwcmV2aW91c1wiOiB7XG4gICAgXCJ0aXRsZVwiOiBcIlBsdWdpbnNcIixcbiAgICBcInBlcm1hbGlua1wiOiBcIi96ZWR1eC9kb2NzL2FkdmFuY2VkL3BsdWdpbnNcIlxuICB9LFxuICBcIm5leHRcIjoge1xuICAgIFwidGl0bGVcIjogXCJTU1JcIixcbiAgICBcInBlcm1hbGlua1wiOiBcIi96ZWR1eC9kb2NzL2FkdmFuY2VkL3NzclwiXG4gIH1cbn07XG5leHBvcnQgY29uc3QgYXNzZXRzID0ge1xuXG59O1xuXG5cbmV4cG9ydCBjb25zdCB0b2MgPSBbe1xuICB2YWx1ZTogJ1NpbmdsZSBBdG9tJyxcbiAgaWQ6ICdzaW5nbGUtYXRvbScsXG4gIGxldmVsOiAyXG59LCB7XG4gIHZhbHVlOiAnRWNvc3lzdGVtIFBlcnNpc3RlbmNlJyxcbiAgaWQ6ICdlY29zeXN0ZW0tcGVyc2lzdGVuY2UnLFxuICBsZXZlbDogMlxufSwge1xuICB2YWx1ZTogJzxjb2RlPmVjb3N5c3RlbS5kZWh5ZHJhdGUoKTwvY29kZT4nLFxuICBpZDogJ2Vjb3N5c3RlbWRlaHlkcmF0ZScsXG4gIGxldmVsOiAzXG59LCB7XG4gIHZhbHVlOiAnPGNvZGU+ZGVoeWRyYXRlPC9jb2RlPiBBdG9tIENvbmZpZycsXG4gIGlkOiAnZGVoeWRyYXRlLWF0b20tY29uZmlnJyxcbiAgbGV2ZWw6IDNcbn0sIHtcbiAgdmFsdWU6ICc8Y29kZT5lY29zeXN0ZW0uaHlkcmF0ZSgpPC9jb2RlPicsXG4gIGlkOiAnZWNvc3lzdGVtaHlkcmF0ZScsXG4gIGxldmVsOiAzXG59LCB7XG4gIHZhbHVlOiAnPGNvZGU+aHlkcmF0ZTwvY29kZT4gQXRvbSBDb25maWcnLFxuICBpZDogJ2h5ZHJhdGUtYXRvbS1jb25maWcnLFxuICBsZXZlbDogM1xufSwge1xuICB2YWx1ZTogJ1N0b3JlIEh5ZHJhdGlvbicsXG4gIGlkOiAnc3RvcmUtaHlkcmF0aW9uJyxcbiAgbGV2ZWw6IDJcbn0sIHtcbiAgdmFsdWU6ICc8Y29kZT5tYW51YWxIeWRyYXRpb248L2NvZGU+JyxcbiAgaWQ6ICdtYW51YWxoeWRyYXRpb24nLFxuICBsZXZlbDogMlxufSwge1xuICB2YWx1ZTogJzxjb2RlPmNvbnN1bWVIeWRyYXRpb25zPC9jb2RlPicsXG4gIGlkOiAnY29uc3VtZWh5ZHJhdGlvbnMnLFxuICBsZXZlbDogMlxufSwge1xuICB2YWx1ZTogJ1JlYWN0aXZpdHkgVmlhIFBsdWdpbnMnLFxuICBpZDogJ3JlYWN0aXZpdHktdmlhLXBsdWdpbnMnLFxuICBsZXZlbDogMlxufSwge1xuICB2YWx1ZTogJ1JlY2FwJyxcbiAgaWQ6ICdyZWNhcCcsXG4gIGxldmVsOiAyXG59LCB7XG4gIHZhbHVlOiAnTmV4dCBTdGVwcycsXG4gIGlkOiAnbmV4dC1zdGVwcycsXG4gIGxldmVsOiAyXG59XTtcblxuY29uc3QgbGF5b3V0UHJvcHMgPSB7XG4gIHRvY1xufTtcbmNvbnN0IE1EWExheW91dCA9IFwid3JhcHBlclwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNRFhDb250ZW50KHtcbiAgY29tcG9uZW50cyxcbiAgLi4ucHJvcHNcbn0pIHtcbiAgcmV0dXJuIDxNRFhMYXlvdXQgey4uLmxheW91dFByb3BzfSB7Li4ucHJvcHN9IGNvbXBvbmVudHM9e2NvbXBvbmVudHN9IG1keFR5cGU9XCJNRFhMYXlvdXRcIj5cblxuICAgIDxwPntgVGhlcmUgYXJlIG1hbnkgd2F5cyB0byBwZXJzaXN0IGFuZCByZXN0b3JlIHN0YXRlIFwic25hcHNob3RzXCIgaW4gWmVkdXguIEl0IGNhbiBiZSBkb25lIGF0IHRoZSBhdG9tIGluc3RhbmNlLCBlY29zeXN0ZW0sIG9yIHBsdWdpbiBsZXZlbC5gfTwvcD5cbiAgICA8YWRtb25pdGlvbiB7Li4ue1xuICAgICAgXCJ0aXRsZVwiOiBcInlvdSB3aWxsIGxlYXJuOlwiLFxuICAgICAgXCJ0eXBlXCI6IFwidGlwXCJcbiAgICB9fT48dWwgcGFyZW50TmFtZT1cImFkbW9uaXRpb25cIj5cbiAgICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPntgSG93IHRvIHBlcnNpc3QgYW5kIHJlc3RvcmUgYSBzaW5nbGUgYXRvbSBpbnN0YW5jZSdzIHN0YXRlYH08L2xpPlxuICAgICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+e2BIb3cgdG8gZGVoeWRyYXRlIGFuZCByZWh5ZHJhdGUgYW4gZW50aXJlIGVjb3N5c3RlbWB9PC9saT5cbiAgICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPntgSG93IHRvIHRyYW5zZm9ybSBub24tc2VyaWFsaXphYmxlIGF0b20gdmFsdWVzYH08L2xpPlxuICAgICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+e2BPbmUgb2YgbWFueSB3YXlzIHRvIGFjY29tcGxpc2ggdGhpcyB3aXRoIHBsdWdpbnNgfTwvbGk+XG4gICAgICA8L3VsPjwvYWRtb25pdGlvbj5cbiAgICA8aDIgey4uLntcbiAgICAgIFwiaWRcIjogXCJzaW5nbGUtYXRvbVwiXG4gICAgfX0+e2BTaW5nbGUgQXRvbWB9PC9oMj5cbiAgICA8cD57YExldCdzIHN0YXJ0IHNpbXBsZS4gV2UnbGwgdXNlIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGxvY2FsU3RvcmFnZWB9PC9pbmxpbmVDb2RlPntgIGZvciB0aGVzZSBleGFtcGxlcywgYnV0IHlvdSBjYW4gdXNlIHdoYXRldmVyIG1lYW5zIG9mIHN0b3JhZ2UgeW91IHdhbnQuYH08L3A+XG4gICAgPHA+e2BUbyBwZXJzaXN0IHRoZSBzdGF0ZSBvZiBhIHNpbmdsZSBhdG9tLCB3ZSBjb3VsZCB1c2UgYSBzZXBhcmF0ZSBhdG9tIHRvIGhhbmRsZSB0aGUgcGVyc2lzdC9yZXN0b3JlIGZ1bmN0aW9uYWxpdHkuYH08L3A+XG4gICAgPHA+e2BIZXJlJ3MgYW4gZXhhbXBsZSB1c2luZyBhIHNlcGFyYXRlIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGxvY2FsU3RvcmFnZUF0b21gfTwvaW5saW5lQ29kZT57YCB0aGF0IHdlIGdpdmUgYSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BrZXlgfTwvaW5saW5lQ29kZT57YCBwYXJhbSwgY3JlYXRpbmcgYSBkaWZmZXJlbnQgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgbG9jYWxTdG9yYWdlQXRvbWB9PC9pbmxpbmVDb2RlPntgIGluc3RhbmNlIGZvciBldmVyeSBsb2NhbFN0b3JhZ2Uga2V5IHdlIHdhbnQgdG8gcGVyc2lzdCBkYXRhIHRvL2Zyb206YH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c3hcIixcbiAgICAgICAgXCJtZXRhc3RyaW5nXCI6IFwibGl2ZSBlY29zeXN0ZW1JZD1wZXJzaXN0ZW5jZS9zZXBhcmF0ZS1hdG9tIHJlc3VsdFZhcj1Vc2VybmFtZVwiLFxuICAgICAgICBcImxpdmVcIjogdHJ1ZSxcbiAgICAgICAgXCJlY29zeXN0ZW1JZFwiOiBcInBlcnNpc3RlbmNlL3NlcGFyYXRlLWF0b21cIixcbiAgICAgICAgXCJyZXN1bHRWYXJcIjogXCJVc2VybmFtZVwiXG4gICAgICB9fT57YGNvbnN0IGxvY2FsU3RvcmFnZUF0b20gPSBhdG9tKCdsb2NhbFN0b3JhZ2UnLCAoa2V5OiBzdHJpbmcpID0+IHtcbiAgY29uc3QgdmFsID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KVxuXG4gIC8vIHdlJ3JlIHVzaW5nIHRoZSBmdW5jdGlvbiBvdmVybG9hZCBvZiBcXGBpbmplY3RTdG9yZVxcYCB0byBwcmV2ZW50IEpTT04ucGFyc2VcbiAgLy8gZnJvbSBydW5uaW5nIHVubmVjZXNhcmlseSBvbiByZWV2YWx1YXRpb25zOlxuICBjb25zdCBzdG9yZSA9IGluamVjdFN0b3JlKCgpID0+XG4gICAgY3JlYXRlU3RvcmUobnVsbCwgdmFsID8gSlNPTi5wYXJzZSh2YWwpIDogdW5kZWZpbmVkKVxuICApXG5cbiAgY29uc3QgdXBkYXRlID0gKG5ld1ZhbDogYW55KSA9PiB7XG4gICAgc3RvcmUuc2V0U3RhdGUobmV3VmFsKVxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkobmV3VmFsKSlcbiAgfVxuXG4gIHJldHVybiBhcGkoc3RvcmUpLnNldEV4cG9ydHMoeyB1cGRhdGUgfSlcbn0pXG5cbi8vIHRoaXMgYXRvbSdzIHN0YXRlIG5vdyBwZXJzaXN0cyBhY3Jvc3MgcGFnZSByZWxvYWRzOlxuY29uc3QgdXNlcm5hbWVBdG9tID0gYXRvbSgndXNlcm5hbWUnLCAoKSA9PiB7XG4gIGNvbnN0IFtzdG9yZWROYW1lLCB7IHVwZGF0ZSB9XSA9IGluamVjdEF0b21TdGF0ZShsb2NhbFN0b3JhZ2VBdG9tLCBbXG4gICAgJ3VzZXJuYW1lMScsIC8vIDwtIHRoZSBsb2NhbFN0b3JhZ2Uga2V5XG4gIF0pXG5cbiAgcmV0dXJuIGFwaShzdG9yZWROYW1lIHx8ICcnKS5zZXRFeHBvcnRzKHsgdXBkYXRlIH0pXG59KVxuXG5mdW5jdGlvbiBVc2VybmFtZSgpIHtcbiAgY29uc3QgW3N0YXRlLCB7IHVwZGF0ZSB9XSA9IHVzZUF0b21TdGF0ZSh1c2VybmFtZUF0b20pXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPGlucHV0IG9uQ2hhbmdlPXtldmVudCA9PiB1cGRhdGUoZXZlbnQudGFyZ2V0LnZhbHVlKX0gdmFsdWU9e3N0YXRlfSAvPlxuICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBsb2NhdGlvbi5yZWxvYWQoKX0+UmVmcmVzaCBwYWdlPC9idXR0b24+XG4gICAgPC9kaXY+XG4gIClcbn1cbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxwPntgV2UgY291bGQgYWxzbyB1c2UgYW4gaW5qZWN0b3IuYH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c3hcIixcbiAgICAgICAgXCJtZXRhc3RyaW5nXCI6IFwibGl2ZSBlY29zeXN0ZW1JZD1wZXJzaXN0ZW5jZS9pbmplY3RvciByZXN1bHRWYXI9VXNlcm5hbWVcIixcbiAgICAgICAgXCJsaXZlXCI6IHRydWUsXG4gICAgICAgIFwiZWNvc3lzdGVtSWRcIjogXCJwZXJzaXN0ZW5jZS9pbmplY3RvclwiLFxuICAgICAgICBcInJlc3VsdFZhclwiOiBcIlVzZXJuYW1lXCJcbiAgICAgIH19PntgY29uc3QgaW5qZWN0TG9jYWxTdG9yYWdlID0gKGtleTogc3RyaW5nLCBkZWZhdWx0VmFsOiBhbnkpID0+IHtcbiAgY29uc3QgdmFsID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KVxuXG4gIC8vIHdlJ3JlIHVzaW5nIHRoZSBmdW5jdGlvbiBvdmVybG9hZCBvZiBcXGBpbmplY3RTdG9yZVxcYCB0byBwcmV2ZW50IEpTT04ucGFyc2VcbiAgLy8gZnJvbSBydW5uaW5nIHVubmVjZXNhcmlseSBvbiByZWV2YWx1YXRpb25zOlxuICBjb25zdCBzdG9yZSA9IGluamVjdFN0b3JlKCgpID0+XG4gICAgY3JlYXRlU3RvcmUobnVsbCwgdmFsID8gSlNPTi5wYXJzZSh2YWwpIDogZGVmYXVsdFZhbClcbiAgKVxuXG4gIGNvbnN0IHVwZGF0ZSA9IChuZXdWYWw6IGFueSkgPT4ge1xuICAgIHN0b3JlLnNldFN0YXRlKG5ld1ZhbClcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KG5ld1ZhbCkpXG4gIH1cblxuICByZXR1cm4gW3N0b3JlLCB1cGRhdGVdIGFzIGNvbnN0XG59XG5cbi8vIHRoaXMgYXRvbSdzIHN0YXRlIG5vdyBwZXJzaXN0cyBhY3Jvc3MgcGFnZSByZWxvYWRzOlxuY29uc3QgdXNlcm5hbWVBdG9tID0gYXRvbSgndXNlcm5hbWUnLCAoKSA9PiB7XG4gIGNvbnN0IFtzdG9yZSwgdXBkYXRlXSA9IGluamVjdExvY2FsU3RvcmFnZSgndXNlcm5hbWUyJywgJycpXG5cbiAgcmV0dXJuIGFwaShzdG9yZSkuc2V0RXhwb3J0cyh7IHVwZGF0ZSB9KVxufSlcblxuZnVuY3Rpb24gVXNlcm5hbWUoKSB7XG4gIGNvbnN0IFtzdGF0ZSwgeyB1cGRhdGUgfV0gPSB1c2VBdG9tU3RhdGUodXNlcm5hbWVBdG9tKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxpbnB1dCBvbkNoYW5nZT17ZXZlbnQgPT4gdXBkYXRlKGV2ZW50LnRhcmdldC52YWx1ZSl9IHZhbHVlPXtzdGF0ZX0gLz5cbiAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gbG9jYXRpb24ucmVsb2FkKCl9PlJlZnJlc2ggcGFnZTwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApXG59XG5gfTwvY29kZT48L3ByZT5cbiAgICA8cD57YFllcCwgdGhlc2UgYXBwcm9hY2hlcyBhcmUgdmVyeSBzaW1pbGFyLmB9PC9wPlxuICAgIDxoMiB7Li4ue1xuICAgICAgXCJpZFwiOiBcImVjb3N5c3RlbS1wZXJzaXN0ZW5jZVwiXG4gICAgfX0+e2BFY29zeXN0ZW0gUGVyc2lzdGVuY2VgfTwvaDI+XG4gICAgPHA+e2BZb3UgY2FuIGdldCBhIHNuYXBzaG90IG9mIHRoZSBzdGF0ZSBvZiBhbGwgYXRvbXMgaW4gYW4gZWNvc3lzdGVtIHdpdGggYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgZWNvc3lzdGVtLmluc3BlY3RJbnN0YW5jZVZhbHVlcygpYH08L2lubGluZUNvZGU+PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIlxuICAgICAgfX0+e2BpbXBvcnQgeyBhdG9tLCBjcmVhdGVFY29zeXN0ZW0gfSBmcm9tICdAemVkdXgvcmVhY3QnXG5cbmNvbnN0IGV4YW1wbGVBdG9tID0gYXRvbSgnZXhhbXBsZScsICgpID0+ICdIZWxsbywgd29ybGQhJylcbmNvbnN0IGVjb3N5c3RlbSA9IGNyZWF0ZUVjb3N5c3RlbSh7IGlkOiAncm9vdCcgfSlcbmVjb3N5c3RlbS5nZXRJbnN0YW5jZShleGFtcGxlQXRvbSlcblxuY29uc3Qgc25hcHNob3QgPSBlY29zeXN0ZW0uaW5zcGVjdEluc3RhbmNlVmFsdWVzKCkgLy8geyBleGFtcGxlOiAnSGVsbG8sIHdvcmxkIScgfVxuY29uc3Qgc2VyaWFsaXplZCA9IEpTT04uc3RyaW5naWZ5KHNuYXBzaG90KVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPHA+e2BUaGlzIG1heSBiZSBhbGwgeW91IG5lZWQuIEhvd2V2ZXIsIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGluc3BlY3RJbnN0YW5jZVZhbHVlc2B9PC9pbmxpbmVDb2RlPntgIGlzIHZlcnkgXCJkdW1iXCIgLSBpdCBkb2Vzbid0IGRvIGFueXRoaW5nIHNwZWNpYWwgdG8gdHJhbnNmb3JtIHRoZSBzdGF0ZSwgaXQganVzdCByZXR1cm5zIGl0IGFzLWlzLiBTaW5jZSBhdG9tcyBjYW4gaG9sZCBhbnl0aGluZywgeW91IG1heSBoYXZlIGEgc2l0dWF0aW9uIHdoZXJlIHlvdSdyZSBzdG9yaW5nIG5vbi1zZXJpYWxpemFibGUgdmFsdWVzIChuYW1lbHkgZnVuY3Rpb25zKSBpbiBhdG9tcy4gRGF0YSB0eXBlcyBmcm9tIEltbXV0YWJsZS5qcywgZm9yIGV4YW1wbGUsIHJlcXVpcmUgYW4gZXh0cmEgc3RlcCB0byBzZXJpYWxpemUvZGVzZXJpYWxpemUgdmFsdWVzLmB9PC9wPlxuICAgIDxwPntgRm9yIHRoZXNlIGF0b21zIHlvdSBoYXZlIHR3byBvcHRpb25zOmB9PC9wPlxuICAgIDx1bD5cbiAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj57YFNraXAgdGhlIG5vbi1zZXJpYWxpemFibGUgYXRvbWB9PC9saT5cbiAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj57YFRyYW5zZm9ybSB0aGUgYXRvbSdzIHZhbHVlIHRvIHNvbWV0aGluZyB0aGF0IGNhbiBiZSBzZXJpYWxpemVkLmB9PC9saT5cbiAgICA8L3VsPlxuICAgIDxwPntgRWNvc3lzdGVtcyBoYXZlIGEgbWV0aG9kIHRoYXQncyBiZXR0ZXIgc3VpdGVkIGZvciBib3RoIG9mIHRoZXNlOmB9PC9wPlxuICAgIDxoMyB7Li4ue1xuICAgICAgXCJpZFwiOiBcImVjb3N5c3RlbWRlaHlkcmF0ZVwiXG4gICAgfX0+PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImgzXCI+e2BlY29zeXN0ZW0uZGVoeWRyYXRlKClgfTwvaW5saW5lQ29kZT48L2gzPlxuICAgIDxwPntgTGlrZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2AuaW5zcGVjdEluc3RhbmNlVmFsdWVzKClgfTwvaW5saW5lQ29kZT57YCwgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgLmRlaHlkcmF0ZSgpYH08L2lubGluZUNvZGU+e2AgcmV0dXJucyBhbiBvYmplY3QgbWFwcGluZyBhdG9tIGluc3RhbmNlIGtleUhhc2hlcyB0byB0aGVpciBjdXJyZW50IHZhbHVlLiBCdXQgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgLmRlaHlkcmF0ZSgpYH08L2lubGluZUNvZGU+e2AgZG9lcyBhIGxpdHRsZSBtb3JlIG1hZ2ljLmB9PC9wPlxuICAgIDxwPntgWW91IGNhbiBibGFja2xpc3QgYXRvbXMgeW91IGRvbid0IHdhbnQgdG8gZGVoeWRyYXRlIGJ5IHBhc3NpbmcgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgZXhjbHVkZWB9PC9pbmxpbmVDb2RlPntgIGFuZC9vciBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BleGNsdWRlRmxhZ3NgfTwvaW5saW5lQ29kZT57YCBvcHRpb25zOmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIixcbiAgICAgICAgXCJtZXRhc3RyaW5nXCI6IFwibGl2ZSBlY29zeXN0ZW1JZD1leGNsdWRlcy1leGFtcGxlIHJlc3VsdFZhcj1zbmFwc2hvdFwiLFxuICAgICAgICBcImxpdmVcIjogdHJ1ZSxcbiAgICAgICAgXCJlY29zeXN0ZW1JZFwiOiBcImV4Y2x1ZGVzLWV4YW1wbGVcIixcbiAgICAgICAgXCJyZXN1bHRWYXJcIjogXCJzbmFwc2hvdFwiXG4gICAgICB9fT57YGNvbnN0IHNraXBwZWRBdG9tID0gYXRvbSgnc2tpcHBlZCcsICc6KCcsIHsgZmxhZ3M6IFsnbm8tcGVyc2lzdCddIH0pXG5jb25zdCBhbHNvU2tpcHBlZEF0b20gPSBhdG9tKCdhbHNvU2tpcHBlZCcsICc6TycpXG5jb25zdCBwZXJzaXN0ZWRBdG9tID0gYXRvbSgncGVyc2lzdGVkJywgJzopJylcblxuY29uc3QgZWNvc3lzdGVtID0gY3JlYXRlRWNvc3lzdGVtKHsgaWQ6ICdleGx1ZGVzLWV4YW1wbGUnIH0pXG5lY29zeXN0ZW0uZ2V0SW5zdGFuY2Uoc2tpcHBlZEF0b20pXG5lY29zeXN0ZW0uZ2V0SW5zdGFuY2UoYWxzb1NraXBwZWRBdG9tKVxuZWNvc3lzdGVtLmdldEluc3RhbmNlKHBlcnNpc3RlZEF0b20pXG5cbmNvbnN0IHNuYXBzaG90ID0gZWNvc3lzdGVtLmRlaHlkcmF0ZSh7XG4gIGV4Y2x1ZGU6IFthbHNvU2tpcHBlZEF0b21dLFxuICBleGNsdWRlRmxhZ3M6IFsnbm8tcGVyc2lzdCddLFxufSlcbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxwPntgU2ltaWxhcmx5LCB5b3UgY2FuIHNwZWNpZnkgYSB3aGl0ZWxpc3Qgb2YgYXRvbXMgeW91IHdhbnQgdG8gYmUgZGVoeWRyYXRlZCBieSBwYXNzaW5nIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGluY2x1ZGVgfTwvaW5saW5lQ29kZT57YCBhbmQvb3IgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgaW5jbHVkZUZsYWdzYH08L2lubGluZUNvZGU+e2Agb3B0aW9uczpgfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzXCIsXG4gICAgICAgIFwibWV0YXN0cmluZ1wiOiBcImxpdmUgZWNvc3lzdGVtSWQ9aW5jbHVkZXMtZXhhbXBsZSByZXN1bHRWYXI9c25hcHNob3RcIixcbiAgICAgICAgXCJsaXZlXCI6IHRydWUsXG4gICAgICAgIFwiZWNvc3lzdGVtSWRcIjogXCJpbmNsdWRlcy1leGFtcGxlXCIsXG4gICAgICAgIFwicmVzdWx0VmFyXCI6IFwic25hcHNob3RcIlxuICAgICAgfX0+e2Bjb25zdCBza2lwcGVkQXRvbSA9IGF0b20oJ3NraXBwZWQnLCAnOignKVxuY29uc3QgcGVyc2lzdGVkQXRvbSA9IGF0b20oJ3BlcnNpc3RlZCcsICc6KScsIHsgZmxhZ3M6IFsncGVyc2lzdCddIH0pXG5jb25zdCBhbHNvUGVyc2lzdGVkQXRvbSA9IGF0b20oJ2Fsc29QZXJzaXN0ZWQnLCAnOkQnKVxuXG5jb25zdCBlY29zeXN0ZW0gPSBjcmVhdGVFY29zeXN0ZW0oeyBpZDogJ2luY2x1ZGVzLWV4YW1wbGUnIH0pXG5lY29zeXN0ZW0uZ2V0SW5zdGFuY2Uoc2tpcHBlZEF0b20pXG5lY29zeXN0ZW0uZ2V0SW5zdGFuY2UocGVyc2lzdGVkQXRvbSlcbmVjb3N5c3RlbS5nZXRJbnN0YW5jZShhbHNvUGVyc2lzdGVkQXRvbSlcblxuY29uc3Qgc25hcHNob3QgPSBlY29zeXN0ZW0uZGVoeWRyYXRlKHtcbiAgaW5jbHVkZTogW2Fsc29QZXJzaXN0ZWRBdG9tXSxcbiAgaW5jbHVkZUZsYWdzOiBbJ3BlcnNpc3QnXSxcbn0pXG5gfTwvY29kZT48L3ByZT5cbiAgICA8cD57YEV4Y2x1ZGVzIHRha2UgcHJlY2VkZW5jZSBvdmVyIGluY2x1ZGVzIGlmIHlvdSBwYXNzIGJvdGguYH08L3A+XG4gICAgPGgzIHsuLi57XG4gICAgICBcImlkXCI6IFwiZGVoeWRyYXRlLWF0b20tY29uZmlnXCJcbiAgICB9fT48aW5saW5lQ29kZSBwYXJlbnROYW1lPVwiaDNcIj57YGRlaHlkcmF0ZWB9PC9pbmxpbmVDb2RlPntgIEF0b20gQ29uZmlnYH08L2gzPlxuICAgIDxwPntgQXRvbXMgY2FuIGJlIGNvbmZpZ3VyZWQgd2l0aCBhIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGRlaHlkcmF0ZWB9PC9pbmxpbmVDb2RlPntgIGNvbmZpZyBvcHRpb246YH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c1wiXG4gICAgICB9fT57YGNvbnN0IGV4YW1wbGVBdG9tID0gYXRvbSgnZXhhbXBsZScsICgpID0+IGluaXRpYWxTdGF0ZSwge1xuICBkZWh5ZHJhdGU6IHN0YXRlID0+IHRyYW5zZm9ybShzdGF0ZSksXG59KVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPHA+PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGVjb3N5c3RlbS5kZWh5ZHJhdGUoKWB9PC9pbmxpbmVDb2RlPntgIGNhbGxzIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGRlaHlkcmF0ZWB9PC9pbmxpbmVDb2RlPntgIHdoZW4gc3BlY2lmaWVkIHRvIHRyYW5zZm9ybSB0aGUgc3RhdGUgb2YgaW5kaXZpZHVhbCBhdG9tIGluc3RhbmNlcy5gfTwvcD5cbiAgICA8cD57YEhlcmUncyBhbiBleGFtcGxlIG9mIGFuIGF0b20gd2hvc2UgdmFsdWUgaXMgYSBKUyBNYXAsIHdoaWNoIGNhbid0IGJlIGRpcmVjdGx5IHN0cmluZ2lmaWVkLiBXZSB1c2UgdGhlIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGRlaHlkcmF0ZWB9PC9pbmxpbmVDb2RlPntgIGF0b20gY29uZmlnIG9wdGlvbiB0byB0ZWxsIFplZHV4IGhvdyB0byB0cmFuc2Zvcm0gdGhpcyBhdG9tIGluc3RhbmNlJ3Mgc3RhdGUgdG8gYSBzZXJpYWxpemFibGUgdmFsdWUgZm9yIGRlaHlkcmF0aW9uOmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHN4XCIsXG4gICAgICAgIFwibWV0YXN0cmluZ1wiOiBcImxpdmUgZWNvc3lzdGVtSWQ9cGVyc2lzdGVuY2UvZGVoeWRyYXRlIHJlc3VsdFZhcj1EZWh5ZHJhdG9yXCIsXG4gICAgICAgIFwibGl2ZVwiOiB0cnVlLFxuICAgICAgICBcImVjb3N5c3RlbUlkXCI6IFwicGVyc2lzdGVuY2UvZGVoeWRyYXRlXCIsXG4gICAgICAgIFwicmVzdWx0VmFyXCI6IFwiRGVoeWRyYXRvclwiXG4gICAgICB9fT57YGNvbnN0IHRyYW5zZm9ybWluZ0F0b20gPSBhdG9tKFxuICAndHJhbnNmb3JtaW5nJyxcbiAgKCkgPT4ge1xuICAgIGNvbnN0IHN0b3JlID0gaW5qZWN0U3RvcmUobmV3IE1hcChbWydjb3VudGVyJywgMF1dKSlcblxuICAgIGluamVjdEVmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zdCBoYW5kbGUgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIHN0b3JlLnNldFN0YXRlKHN0YXRlID0+XG4gICAgICAgICAgbmV3IE1hcChzdGF0ZSkuc2V0KCdjb3VudGVyJywgc3RhdGUuZ2V0KCdjb3VudGVyJykgKyAxKVxuICAgICAgICApXG4gICAgICB9LCAxMDAwKVxuXG4gICAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChoYW5kbGUpXG4gICAgfSlcblxuICAgIHJldHVybiBzdG9yZVxuICB9LFxuICAvLyB0dXJuIHRoZSBtYXAgaW50byBhIEpTIG9iamVjdCBmb3Igc2VyaWFsaXphdGlvbjpcbiAgeyBkZWh5ZHJhdGU6IHN0YXRlID0+IE9iamVjdC5mcm9tRW50cmllcyhzdGF0ZS5lbnRyaWVzKCkpIH1cbilcblxuZnVuY3Rpb24gRGVoeWRyYXRvcigpIHtcbiAgdXNlQXRvbVZhbHVlKHRyYW5zZm9ybWluZ0F0b20pIC8vIGp1c3QgdG8gaW5zdGFudGlhdGUgaXQgZm9yIHRoaXMgZXhhbXBsZVxuICBjb25zdCBlY29zeXN0ZW0gPSB1c2VFY29zeXN0ZW0oKVxuICBjb25zdCBbZGVoeWRyYXRpb24sIHNldERlaHlkcmF0aW9uXSA9IHVzZVN0YXRlKClcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8cHJlPntkZWh5ZHJhdGlvbn08L3ByZT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgb25DbGljaz17KCkgPT5cbiAgICAgICAgICBzZXREZWh5ZHJhdGlvbihKU09OLnN0cmluZ2lmeShlY29zeXN0ZW0uZGVoeWRyYXRlKCksIG51bGwsIDIpKVxuICAgICAgICB9XG4gICAgICA+XG4gICAgICAgIERlaHlkcmF0ZSFcbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvPlxuICApXG59XG5gfTwvY29kZT48L3ByZT5cbiAgICA8cD57YE5vdyBjYWxscyB0byBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BlY29zeXN0ZW0uZGVoeWRyYXRlKClgfTwvaW5saW5lQ29kZT57YCBjYWxsIHRoZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BkZWh5ZHJhdGVgfTwvaW5saW5lQ29kZT57YCBhdG9tIGNvbmZpZyBmdW5jdGlvbiB0byB0cmFuc2Zvcm0gdGhlIHN0YXRlIG9mIGFsbCBpbnN0YW5jZXMgb2YgdGhlIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YHRyYW5zZm9ybWluZ2B9PC9pbmxpbmVDb2RlPntgIGF0b20uYH08L3A+XG4gICAgPGgzIHsuLi57XG4gICAgICBcImlkXCI6IFwiZWNvc3lzdGVtaHlkcmF0ZVwiXG4gICAgfX0+PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImgzXCI+e2BlY29zeXN0ZW0uaHlkcmF0ZSgpYH08L2lubGluZUNvZGU+PC9oMz5cbiAgICA8cD57YFRoZSBpbnZlcnNlIG9mIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGVjb3N5c3RlbS5kZWh5ZHJhdGUoKWB9PC9pbmxpbmVDb2RlPntgLiBBZnRlciB5b3UgZ2V0IGEgc3RhdGUgc25hcHNob3QsIHVzZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BlY29zeXN0ZW0uaHlkcmF0ZSgpYH08L2lubGluZUNvZGU+e2AgdG8gcmVzdG9yZSBpdC5gfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzXCIsXG4gICAgICAgIFwibWV0YXN0cmluZ1wiOiBcImxpdmUgZWNvc3lzdGVtSWQ9aHlkcmF0ZS1leGFtcGxlIHJlc3VsdFZhcj1vdXRwdXRcIixcbiAgICAgICAgXCJsaXZlXCI6IHRydWUsXG4gICAgICAgIFwiZWNvc3lzdGVtSWRcIjogXCJoeWRyYXRlLWV4YW1wbGVcIixcbiAgICAgICAgXCJyZXN1bHRWYXJcIjogXCJvdXRwdXRcIlxuICAgICAgfX0+e2Bjb25zdCBmb29BdG9tID0gYXRvbSgnZm9vJywgMSlcbmNvbnN0IGJhckF0b20gPSBhdG9tKCdiYXInLCAyKVxuXG5jb25zdCBlY29zeXN0ZW0gPSBjcmVhdGVFY29zeXN0ZW0oeyBpZDogJ2h5ZHJhdGUtZXhhbXBsZScgfSlcbmNvbnN0IGZvb0luc3RhbmNlID0gZWNvc3lzdGVtLmdldEluc3RhbmNlKGZvb0F0b20pXG5jb25zdCBiYXJJbnN0YW5jZSA9IGVjb3N5c3RlbS5nZXRJbnN0YW5jZShiYXJBdG9tKVxuXG5jb25zdCBzbmFwc2hvdDEgPSBlY29zeXN0ZW0uZGVoeWRyYXRlKClcblxuZm9vSW5zdGFuY2Uuc2V0U3RhdGUoMykgLy8gY2hhbmdlIGZvbydzIHN0YXRlIGZyb20gMSB0byAzXG5jb25zdCBzbmFwc2hvdDIgPSBlY29zeXN0ZW0uZGVoeWRyYXRlKClcblxuZWNvc3lzdGVtLmh5ZHJhdGUoc25hcHNob3QxKSAvLyByZXN0b3JlIHRoZSBpbml0aWFsIHNuYXBzaG90XG5jb25zdCBzbmFwc2hvdDMgPSBlY29zeXN0ZW0uZGVoeWRyYXRlKClcblxuY29uc3Qgb3V0cHV0ID0geyBzbmFwc2hvdDEsIHNuYXBzaG90Miwgc25hcHNob3QzIH1cbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxwPntgQWZ0ZXIgaHlkcmF0aW9uLCBhbnkgbmV3bHktaW5pdGlhbGl6ZWQgYXRvbSBpbnN0YW5jZXMgdGhhdCBoYXZlIGEgbWF0Y2hpbmcga2V5IGluIHRoZSBoeWRyYXRlZCBzbmFwc2hvdCB3aWxsIHJlY2VpdmUgdGhlaXIgaHlkcmF0ZWQgc3RhdGUgYWZ0ZXIgaW5pdGlhbGl6aW5nLmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIixcbiAgICAgICAgXCJtZXRhc3RyaW5nXCI6IFwibGl2ZSBlY29zeXN0ZW1JZD1hdG9tLWh5ZHJhdGUtZXhhbXBsZSByZXN1bHRWYXI9c25hcHNob3RcIixcbiAgICAgICAgXCJsaXZlXCI6IHRydWUsXG4gICAgICAgIFwiZWNvc3lzdGVtSWRcIjogXCJhdG9tLWh5ZHJhdGUtZXhhbXBsZVwiLFxuICAgICAgICBcInJlc3VsdFZhclwiOiBcInNuYXBzaG90XCJcbiAgICAgIH19PntgY29uc3QgaHlkcmF0ZU1lID0gYXRvbSgnaHlkcmF0ZU1lJywgKGlkOiBudW1iZXIpID0+IHtcbiAgcmV0dXJuIGluamVjdFN0b3JlKCdub24taHlkcmF0ZWQgc3RhdGUnKVxufSlcblxuY29uc3QgZWNvc3lzdGVtID0gY3JlYXRlRWNvc3lzdGVtKHsgaWQ6ICdhdG9tLWh5ZHJhdGUtZXhhbXBsZScgfSlcbmVjb3N5c3RlbS5oeWRyYXRlKHsgJ2h5ZHJhdGVNZS1bMF0nOiAnaHlkcmF0ZWQgc3RhdGUnIH0pXG5cbi8vIHRoZXNlIGluc3RhbmNlcyBhcmUgY3JlYXRlZCBhZnRlciBoeWRyYXRpb246XG5lY29zeXN0ZW0uZ2V0SW5zdGFuY2UoaHlkcmF0ZU1lLCBbMF0pXG5lY29zeXN0ZW0uZ2V0SW5zdGFuY2UoaHlkcmF0ZU1lLCBbMV0pXG5cbmNvbnN0IHNuYXBzaG90ID0gZWNvc3lzdGVtLmluc3BlY3RJbnN0YW5jZVZhbHVlcygpXG5gfTwvY29kZT48L3ByZT5cbiAgICA8cD57YEh5ZHJhdGlvbiB3aWxsIGFsc28gaW1tZWRpYXRlbHkgdXBkYXRlIGFueSBleGlzdGluZyBhdG9tIGluc3RhbmNlcyB3aXRoIGtleUhhc2hlcyBpbiB0aGUgc25hcHNob3QuIFBhc3MgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgeyByZXRyb2FjdGl2ZTogZmFsc2UgfWB9PC9pbmxpbmVDb2RlPntgIGFzIHRoZSBzZWNvbmQgcGFyYW1ldGVyIHRvIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGVjb3N5c3RlbS5oeWRyYXRlKClgfTwvaW5saW5lQ29kZT57YCB0byBkaXNhYmxlIHRoaXMuIFdpdGggdGhpcyBvcHRpb24sIG9ubHkgaW5zdGFuY2VzIHRoYXQgYXJlIGNyZWF0ZWQgYWZ0ZXIgaHlkcmF0aW9uIHdpbGwgaGF2ZSB0aGVpciBzdGF0ZSBoeWRyYXRlZC5gfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzXCIsXG4gICAgICAgIFwibWV0YXN0cmluZ1wiOiBcImxpdmUgZWNvc3lzdGVtSWQ9bm8tcmV0cm9hY3RpdmUtZXhhbXBsZSByZXN1bHRWYXI9c25hcHNob3RcIixcbiAgICAgICAgXCJsaXZlXCI6IHRydWUsXG4gICAgICAgIFwiZWNvc3lzdGVtSWRcIjogXCJuby1yZXRyb2FjdGl2ZS1leGFtcGxlXCIsXG4gICAgICAgIFwicmVzdWx0VmFyXCI6IFwic25hcHNob3RcIlxuICAgICAgfX0+e2Bjb25zdCBoeWRyYXRlTWUgPSBhdG9tKCdoeWRyYXRlTWUnLCAoaWQ6IG51bWJlcikgPT4ge1xuICByZXR1cm4gaW5qZWN0U3RvcmUoJ25vbi1oeWRyYXRlZCBzdGF0ZScpXG59KVxuXG5jb25zdCBlY29zeXN0ZW0gPSBjcmVhdGVFY29zeXN0ZW0oeyBpZDogJ25vLXJldHJvYWN0aXZlLWV4YW1wbGUnIH0pXG5cbi8vIHRoZXNlIGluc3RhbmNlcyBhcmUgY3JlYXRlZCBiZWZvcmUgaHlkcmF0aW9uLCBzbyB3b24ndCBiZSB1cGRhdGVkOlxuZWNvc3lzdGVtLmdldEluc3RhbmNlKGh5ZHJhdGVNZSwgWzBdKVxuZWNvc3lzdGVtLmdldEluc3RhbmNlKGh5ZHJhdGVNZSwgWzFdKVxuXG5lY29zeXN0ZW0uaHlkcmF0ZSh7ICdoeWRyYXRlTWUtWzBdJzogJ2h5ZHJhdGVkIHN0YXRlJyB9LCB7IHJldHJvYWN0aXZlOiBmYWxzZSB9KVxuXG5jb25zdCBzbmFwc2hvdCA9IGVjb3N5c3RlbS5pbnNwZWN0SW5zdGFuY2VWYWx1ZXMoKVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPGgzIHsuLi57XG4gICAgICBcImlkXCI6IFwiaHlkcmF0ZS1hdG9tLWNvbmZpZ1wiXG4gICAgfX0+PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImgzXCI+e2BoeWRyYXRlYH08L2lubGluZUNvZGU+e2AgQXRvbSBDb25maWdgfTwvaDM+XG4gICAgPHA+e2BBdG9tcyBjYW4gYmUgY29uZmlndXJlZCB3aXRoIGEgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgaHlkcmF0ZWB9PC9pbmxpbmVDb2RlPntgIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9uOmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIlxuICAgICAgfX0+e2Bjb25zdCBleGFtcGxlQXRvbSA9IGF0b20oJ2V4YW1wbGUnLCBpbml0aWFsU3RhdGUsIHtcbiAgaHlkcmF0ZTogcmF3VmFsID0+IHRyYW5zZm9ybShyYXdWYWwpLFxufSlcbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxwPntgVGhpcyBjYW4gYmUgdXNlZCB0byB0cmFuc2Zvcm0gZGVoeWRyYXRlZCB2YWx1ZXMgYmFjayB0byBub24tc2VyaWFsaXphYmxlIGZvcm0uIExldCdzIHJldHVybiB0byBvdXIgSlMgTWFwIGV4YW1wbGU6YH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c3hcIixcbiAgICAgICAgXCJtZXRhc3RyaW5nXCI6IFwibGl2ZSBlY29zeXN0ZW1JZD1wZXJzaXN0ZW5jZS9oeWRyYXRlIHJlc3VsdFZhcj1EZWh5ZHJhdG9yXCIsXG4gICAgICAgIFwibGl2ZVwiOiB0cnVlLFxuICAgICAgICBcImVjb3N5c3RlbUlkXCI6IFwicGVyc2lzdGVuY2UvaHlkcmF0ZVwiLFxuICAgICAgICBcInJlc3VsdFZhclwiOiBcIkRlaHlkcmF0b3JcIlxuICAgICAgfX0+e2Bjb25zdCB0cmFuc2Zvcm1pbmdBdG9tID0gYXRvbShcbiAgJ3RyYW5zZm9ybWluZycsXG4gICgpID0+IHtcbiAgICBjb25zdCBzdG9yZSA9IGluamVjdFN0b3JlKG5ldyBNYXAoW1snY291bnRlcicsIDBdXSkpXG5cbiAgICBpbmplY3RFZmZlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgaGFuZGxlID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBzdG9yZS5zZXRTdGF0ZShzdGF0ZSA9PlxuICAgICAgICAgIG5ldyBNYXAoc3RhdGUpLnNldCgnY291bnRlcicsIHN0YXRlLmdldCgnY291bnRlcicpICsgMSlcbiAgICAgICAgKVxuICAgICAgfSwgMTAwMClcblxuICAgICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaGFuZGxlKVxuICAgIH0pXG5cbiAgICByZXR1cm4gc3RvcmVcbiAgfSxcbiAgLy8gdHJhbnNmb3JtIHRoZSBtYXAgdG8gYW5kIGZyb20gYSBKUyBvYmplY3Q6XG4gIHtcbiAgICBkZWh5ZHJhdGU6IHN0YXRlID0+IE9iamVjdC5mcm9tRW50cmllcyhzdGF0ZS5lbnRyaWVzKCkpLFxuICAgIGh5ZHJhdGU6IHJhd1N0YXRlID0+IG5ldyBNYXAoT2JqZWN0LmVudHJpZXMocmF3U3RhdGUpKSxcbiAgfVxuKVxuXG5mdW5jdGlvbiBDb3VudGVyKCkge1xuICBjb25zdCBtYXAgPSB1c2VBdG9tVmFsdWUodHJhbnNmb3JtaW5nQXRvbSlcblxuICByZXR1cm4gPGRpdj5Db3VudGVyOiB7bWFwLmdldCgnY291bnRlcicpfTwvZGl2PlxufVxuXG5mdW5jdGlvbiBEZWh5ZHJhdG9yKCkge1xuICBjb25zdCBlY29zeXN0ZW0gPSB1c2VFY29zeXN0ZW0oKVxuICBjb25zdCBbZGVoeWRyYXRpb24sIHNldERlaHlkcmF0aW9uXSA9IHVzZVN0YXRlKClcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8Q291bnRlciAvPlxuICAgICAgPHByZT57ZGVoeWRyYXRpb259PC9wcmU+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIG9uQ2xpY2s9eygpID0+XG4gICAgICAgICAgc2V0RGVoeWRyYXRpb24oSlNPTi5zdHJpbmdpZnkoZWNvc3lzdGVtLmRlaHlkcmF0ZSgpLCBudWxsLCAyKSlcbiAgICAgICAgfVxuICAgICAgPlxuICAgICAgICBEZWh5ZHJhdGUhXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIHtkZWh5ZHJhdGlvbiAmJiAoXG4gICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gZWNvc3lzdGVtLmh5ZHJhdGUoSlNPTi5wYXJzZShkZWh5ZHJhdGlvbikpfT5cbiAgICAgICAgICBIeWRyYXRlIVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICl9XG4gICAgPC8+XG4gIClcbn1cbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxoMiB7Li4ue1xuICAgICAgXCJpZFwiOiBcInN0b3JlLWh5ZHJhdGlvblwiXG4gICAgfX0+e2BTdG9yZSBIeWRyYXRpb25gfTwvaDI+XG4gICAgPHA+e2BUaGUgZGVmYXVsdCBoeWRyYXRpb24gZmxvdyBoeWRyYXRlcyB0aGUgc3RvcmUgYWZ0ZXIgdGhlIGF0b20gaW5zdGFuY2UncyBpbml0aWFsIGV2YWx1YXRpb24gZW5kcy4gVGhpcyBtZWFucyB0aGF0IGlmIHlvdXIgc3RhdGUgZmFjdG9yeSdzIG1haW4gc3RvcmUgd2FzIGluamVjdGVkIHdpdGhvdXQgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgc3Vic2NyaWJlOiBmYWxzZWB9PC9pbmxpbmVDb2RlPntgLCBpdCB3aWxsIGltbWVkaWF0ZWx5IHRyaWdnZXIgYSBzZWNvbmQgZXZhbHVhdGlvbi5gfTwvcD5cbiAgICA8cD57YFRoaXMgaXMgdXN1YWxseSBmaW5lLiBCdXQgb2YgY291cnNlIHlvdSBjYW4gY29udHJvbCB0aGlzIGJlaGF2aW9yIHdpdGggMiBzdGVwczpgfTwvcD5cbiAgICA8b2w+XG4gICAgICA8bGkgcGFyZW50TmFtZT1cIm9sXCI+e2BIeWRyYXRlIHRoZSBpbmplY3RlZCBzdG9yZSdzIHN0YXRlIHlvdXJzZWxmLmB9PC9saT5cbiAgICAgIDxsaSBwYXJlbnROYW1lPVwib2xcIj57YFRlbGwgWmVkdXggbm90IHRvIGF1dG9tYXRpY2FsbHkgaHlkcmF0ZSB0aGlzIGF0b20uYH08L2xpPlxuICAgIDwvb2w+XG4gICAgPHA+e2BUbyBoeWRyYXRlIHRoZSBzdG9yZSdzIHN0YXRlLCB1c2UgdGhlIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGh5ZHJhdGVgfTwvaW5saW5lQ29kZT57YCBvcHRpb24gb2YgYH08YSBwYXJlbnROYW1lPVwicFwiIHsuLi57XG4gICAgICAgIFwiaHJlZlwiOiBcIi4uL2FwaS9pbmplY3RvcnMvaW5qZWN0U3RvcmVcIlxuICAgICAgfX0+PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImFcIj57YGluamVjdFN0b3JlYH08L2lubGluZUNvZGU+PC9hPntgOmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIlxuICAgICAgfX0+e2Bjb25zdCBzdG9yZSA9IGluamVjdFN0b3JlKGRlZmF1bHRWYWx1ZSwgeyBoeWRyYXRlOiB0cnVlIH0pXG5gfTwvY29kZT48L3ByZT5cbiAgICA8cD57YFRoZSBzdG9yZSdzIHN0YXRlIHdpbGwgYmUgc2V0IHRvIHRoZSBoeWRyYXRpb24gbWF0Y2hpbmcgdGhlIGN1cnJlbnQgYXRvbSBpbnN0YW5jZSwgYWZ0ZXIgcGFzc2luZyBpdCB0byB0aGUgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgaHlkcmF0ZWB9PC9pbmxpbmVDb2RlPntgIGF0b20gY29uZmlnIG9wdGlvbiAoaWYgYW55KSB0byB0cmFuc2Zvcm0gdGhlIHZhbHVlLiBJZiB0aGVyZSBpcyBubyBoeWRyYXRpb24gZm9yIHRoZSBjdXJyZW50IGF0b20gaW5zdGFuY2UsIHBhc3NpbmcgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgeyBoeWRyYXRlOiB0cnVlIH1gfTwvaW5saW5lQ29kZT57YCBkb2VzIG5vdGhpbmcuYH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c1wiLFxuICAgICAgICBcIm1ldGFzdHJpbmdcIjogXCJsaXZlIHJlc3VsdFZhcj1vdXRwdXRcIixcbiAgICAgICAgXCJsaXZlXCI6IHRydWUsXG4gICAgICAgIFwicmVzdWx0VmFyXCI6IFwib3V0cHV0XCJcbiAgICAgIH19PntgY29uc3QgbXlBdG9tID0gYXRvbShcbiAgJ215S2V5JyxcbiAgKCkgPT4ge1xuICAgIGNvbnN0IHN0b3JlID0gaW5qZWN0U3RvcmUoJ2RlZmF1bHQnLCB7IGh5ZHJhdGU6IHRydWUgfSlcbiAgfSxcbiAgeyBoeWRyYXRlOiBoeWRyYXRpb24gPT4gXFxgXFwke2h5ZHJhdGlvbn0gYW5kIHRyYW5zZm9ybWVkIVxcYCB9XG4pXG5cbmNvbnN0IGVjb3N5c3RlbSA9IGNyZWF0ZUVjb3N5c3RlbSh7IGlkOiAnaHlkcmF0ZS1mbG93LWV4YW1wbGUnIH0pXG5lY29zeXN0ZW0uaHlkcmF0ZSh7IG15S2V5OiAnaHlkcmF0ZWQnIH0pXG5cbmNvbnN0IG91dHB1dCA9IGVjb3N5c3RlbS5nZXQobXlBdG9tKVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPHA+e2BXaGVuIHRoZSBmdW5jdGlvbiBvdmVybG9hZCBpcyB1c2VkLCB0aGUgaHlkcmF0aW9uIHdpbGwgYmUgcGFzc2VkIHRvIHlvdXIgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgc3RvcmVGYWN0b3J5YH08L2lubGluZUNvZGU+e2AgZnVuY3Rpb24uIEl0J3MgdXAgdG8geW91IHRvIHVzZSB0aGUgaHlkcmF0aW9uIHRvIHNldCB5b3VyIHN0b3JlJ3MgaW5pdGlhbCBzdGF0ZS5gfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzXCJcbiAgICAgIH19PntgY29uc3Qgc3RvcmUgPSBpbmplY3RTdG9yZShcbiAgaHlkcmF0aW9uID0+IGNyZWF0ZVN0b3JlKG51bGwsIGh5ZHJhdGlvbiA/PyBkZWZhdWx0VmFsdWUpLFxuICB7IGh5ZHJhdGU6IHRydWUgfVxuKVxuLy8gKHRoaXMgc3BlY2lmaWMgZXhhbXBsZSBpcyBleGFjdGx5IGVxdWl2YWxlbnQgdG86KVxuY29uc3Qgc3RvcmUgPSBpbmplY3RTdG9yZShkZWZhdWx0VmFsdWUsIHsgaHlkcmF0ZTogdHJ1ZSB9KVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPHA+e2BJZiB0aGVyZSBpcyBubyBoeWRyYXRpb24sIHRoaXMgcGFyYW1ldGVyIHdpbGwgYmUgdW5kZWZpbmVkLmB9PC9wPlxuICAgIDxwPntgTm93IGZvciB0aGUgMm5kIHN0ZXA6YH08L3A+XG4gICAgPGgyIHsuLi57XG4gICAgICBcImlkXCI6IFwibWFudWFsaHlkcmF0aW9uXCJcbiAgICB9fT48aW5saW5lQ29kZSBwYXJlbnROYW1lPVwiaDJcIj57YG1hbnVhbEh5ZHJhdGlvbmB9PC9pbmxpbmVDb2RlPjwvaDI+XG4gICAgPHA+e2BTZXQgdGhpcyBhdG9tIGNvbmZpZyBvcHRpb24gdG8gYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgdHJ1ZWB9PC9pbmxpbmVDb2RlPntgIHRvIHByZXZlbnQgWmVkdXggZnJvbSBhdXRvbWF0aWNhbGx5IGh5ZHJhdGluZyBpbnN0YW5jZXMgb2YgdGhlIGF0b20uIFlvdSdsbCB1c3VhbGx5IHdhbnQgdG8gcGFpciB0aGlzIHdpdGggcGFzc2luZyBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BoeWRyYXRlOiB0cnVlYH08L2lubGluZUNvZGU+e2AgdG8gYSBzaW5nbGUgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgaW5qZWN0U3RvcmVgfTwvaW5saW5lQ29kZT57YCBpbiB0aGUgYXRvbSdzIHN0YXRlIGZhY3RvcnkuYH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c1wiXG4gICAgICB9fT57YGNvbnN0IGV4YW1wbGVBdG9tID0gYXRvbShcbiAgJ2V4YW1wbGUnLFxuICAoKSA9PiB7XG4gICAgY29uc3Qgc3RvcmUgPSBpbmplY3RTdG9yZShkZWZhdWx0VmFsdWUsIHsgaHlkcmF0ZTogdHJ1ZSB9KVxuICAgIGNvbnN0IGludGVybmFsU3RvcmUgPSBpbmplY3RTdG9yZSgpIC8vIGNhbiBpbmplY3Qgb3RoZXIsIG5vbi1oeWRyYXRlZCBzdG9yZXNcblxuICAgIHJldHVybiBzdG9yZSAvLyBaZWR1eCB3b24ndCBoeWRyYXRlIHRoaXMgc3RvcmUncyBzdGF0ZSBhZnRlciBpbml0IG5vd1xuICB9LFxuICB7XG4gICAgbWFudWFsSHlkcmF0aW9uOiB0cnVlLCAvLyBwcmV2ZW50IGF1dG9tYXRpYyBoeWRyYXRpb25cbiAgfVxuKVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPGgyIHsuLi57XG4gICAgICBcImlkXCI6IFwiY29uc3VtZWh5ZHJhdGlvbnNcIlxuICAgIH19PjxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJoMlwiPntgY29uc3VtZUh5ZHJhdGlvbnNgfTwvaW5saW5lQ29kZT48L2gyPlxuICAgIDxwPntgQnkgZGVmYXVsdCwgb25jZSBhIGh5ZHJhdGlvbiBoYXMgYmVlbiBzZXQsIGl0IHN0YXlzIGluIHRoZSBlY29zeXN0ZW0gZm9yZXZlci4gWW91IGNhbiBvdmVycmlkZSB0aGUgaHlkcmF0aW9uIHdpdGggYSBuZXcgb25lLiBGb3IgZXhhbXBsZTpgfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzXCJcbiAgICAgIH19PntgZWNvc3lzdGVtLmh5ZHJhdGUoeyBrZXk6ICdoeWRyYXRlZCB2YWx1ZScgfSlcbmVjb3N5c3RlbS5oeWRyYXRlKHsga2V5OiAnZGlmZmVyZW50IHZhbHVlJyB9KSAvLyBvdmVycmlkZXMgdGhlIGZpcnN0IGh5ZHJhdGlvblxuYH08L2NvZGU+PC9wcmU+XG4gICAgPHA+e2BCdXQgdGhlcmUncyBubyB3YXkgdG8gdW5kbyB0aGUgaHlkcmF0aW9uIChjdXJyZW50bHkpLiBUaGlzIG1lYW5zIHRoYXQgZXZlcnkgdGltZSBhbiBhdG9tIGluc3RhbmNlIGlzIGRlc3Ryb3llZC9yZWNyZWF0ZWQgaXQgd2lsbCBiZSBoeWRyYXRlZCBhZ2Fpbi4gU29tZXRpbWVzIHlvdSdsbCBvbmx5IHdhbnQgdG8gaHlkcmF0ZSBvbmNlIGFuZCB0aGVuIG5ldmVyIGFnYWluLiBZb3UgY2FuIGFjY29tcGxpc2ggdGhpcyB3aXRoIHRoZSBlY29zeXN0ZW0tbGV2ZWwgYW5kIGF0b20tbGV2ZWwgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgY29uc3VtZUh5ZHJhdGlvbnNgfTwvaW5saW5lQ29kZT57YCBjb25maWcgb3B0aW9uOmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHN4XCJcbiAgICAgIH19PntgY29uc3QgZWNvc3lzdGVtID0gY3JlYXRlRWNvc3lzdGVtKHtcbiAgY29uc3VtZUh5ZHJhdGlvbnM6IHRydWUsXG4gIGlkOiAncm9vdCcsXG59KVxuXG4vLyBvclxuPEVjb3N5c3RlbVByb3ZpZGVyIGNvbnN1bWVIeWRyYXRpb25zIGlkPVwicm9vdFwiPlxuICB7Y2hpbGRyZW59XG48L0Vjb3N5c3RlbVByb3ZpZGVyPlxuYH08L2NvZGU+PC9wcmU+XG4gICAgPHA+e2BXaXRoIHRoaXMgc2V0IGF0IHRoZSBlY29zeXN0ZW0gbGV2ZWwsIGFsbCBhdG9tcyBpbiB0aGUgZWNvc3lzdGVtIHdpbGwgXCJjb25zdW1lXCIgdGhlaXIgaHlkcmF0aW9uIHRoZSBmaXJzdCB0aW1lIHRoZXkgaHlkcmF0aW9uIGlzIHVzZWQsIHJlbW92aW5nIHRoZSBoeWRyYXRpb24gZnJvbSB0aGUgZWNvc3lzdGVtLiBTZXQgaXQgYXQgdGhlIGF0b20gbGV2ZWwgdG8gb3ZlcnJpZGUgdGhlIGVjb3N5c3RlbSdzIGJlaGF2aW9yIGZvciBhIHBhcnRpY3VsYXIgYXRvbS5gfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzXCIsXG4gICAgICAgIFwibWV0YXN0cmluZ1wiOiBcImxpdmUgcmVzdWx0VmFyPW91dHB1dFwiLFxuICAgICAgICBcImxpdmVcIjogdHJ1ZSxcbiAgICAgICAgXCJyZXN1bHRWYXJcIjogXCJvdXRwdXRcIlxuICAgICAgfX0+e2Bjb25zdCBleGFtcGxlQXRvbSA9IGF0b20oXG4gICdleGFtcGxlJyxcbiAgKCkgPT4gaW5qZWN0U3RvcmUoJ25vIGh5ZHJhdGlvbicsIHsgaHlkcmF0ZTogdHJ1ZSB9KSwgLy8gY29uc3VtZSB0aGUgaHlkcmF0aW9uXG4gIHsgY29uc3VtZUh5ZHJhdGlvbnM6IHRydWUgfVxuKVxuXG5jb25zdCBlY29zeXN0ZW0gPSBjcmVhdGVFY29zeXN0ZW0oeyBpZDogJ2NvbnN1bWUtaHlkcmF0aW9uLWV4YW1wbGUnIH0pXG5lY29zeXN0ZW0uaHlkcmF0ZSh7IGV4YW1wbGU6ICdoeWRyYXRlZCBzdGF0ZSEnIH0pXG5cbmxldCBpbnN0YW5jZSA9IGVjb3N5c3RlbS5nZXRJbnN0YW5jZShleGFtcGxlQXRvbSlcbmNvbnN0IGZpcnN0U3RhdGUgPSBpbnN0YW5jZS5nZXRTdGF0ZSgpXG5cbmluc3RhbmNlLmRlc3Ryb3koKVxuaW5zdGFuY2UgPSBlY29zeXN0ZW0uZ2V0SW5zdGFuY2UoZXhhbXBsZUF0b20pIC8vIGh5ZHJhdGlvbiBpcyBub3cgZ29uZVxuXG5jb25zdCBzZWNvbmRTdGF0ZSA9IGluc3RhbmNlLmdldFN0YXRlKClcbmNvbnN0IG91dHB1dCA9IHsgZmlyc3RTdGF0ZSwgc2Vjb25kU3RhdGUgfVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPGFkbW9uaXRpb24gey4uLntcbiAgICAgIFwidHlwZVwiOiBcIm5vdGVcIlxuICAgIH19PjxwIHBhcmVudE5hbWU9XCJhZG1vbml0aW9uXCI+e2BFdmVuIHRob3VnaCB3ZSdyZSBub3QgdXNpbmcgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgbWFudWFsSHlkcmF0aW9uYH08L2lubGluZUNvZGU+e2AsIHRoaXMgZXhhbXBsZSBhdG9tIHdpbGwgbm90IGV2YWx1YXRlIHR3aWNlLiBUaGUgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgaW5qZWN0U3RvcmVgfTwvaW5saW5lQ29kZT57YCBjYWxsIHdpbGwgY29uc3VtZSB0aGUgaHlkcmF0aW9uIGltbWVkaWF0ZWx5LCBzbyBpdCB3b24ndCBiZSB0aGVyZSB3aGVuIFplZHV4IHRyaWVzIHRvIGh5ZHJhdGUgdGhlIHN0b3JlIGFmdGVyIHRoZSBpbml0aWFsIGV2YWx1YXRpb24uYH08L3A+PC9hZG1vbml0aW9uPlxuICAgIDxwPntgV2l0aCB0aGlzIGZsYWcgc2V0LCBoeWRyYXRpb25zIHdpbGwgYWxzbyBiZSBjb25zdW1lZCBmb3IgYXRvbSBpbnN0YW5jZXMgdGhhdCBhcmUgaHlkcmF0ZWQgaW1tZWRpYXRlbHkgd2hlbiBjYWxsaW5nIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGVjb3N5c3RlbS5oeWRyYXRlKClgfTwvaW5saW5lQ29kZT57YCB3aXRob3V0IGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YHsgcmV0cm9hY3RpdmU6IGZhbHNlIH1gfTwvaW5saW5lQ29kZT57YC5gfTwvcD5cbiAgICA8aDIgey4uLntcbiAgICAgIFwiaWRcIjogXCJyZWFjdGl2aXR5LXZpYS1wbHVnaW5zXCJcbiAgICB9fT57YFJlYWN0aXZpdHkgVmlhIFBsdWdpbnNgfTwvaDI+XG4gICAgPHA+e2BUaGUgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgbG9jYWxTdG9yYWdlYH08L2lubGluZUNvZGU+e2Agc2luZ2xlIGF0b20gZXhhbXBsZXMgd2UgZ2F2ZSBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoaXMgcGFnZSB3ZXJlIGJlYXV0aWZ1bGx5IHJlYWN0aXZlIC0gdGhleSB3b3VsZCBwZXJzaXN0IHRoZSBhdG9tJ3Mgc3RhdGUgaW1tZWRpYXRlbHkgb24gc3RhdGUgY2hhbmdlLiBOb25lIG9mIG91ciBlY29zeXN0ZW0gZXhhbXBsZXMgZG8gdGhhdC4gV2UgaGF2ZSB0byBtYW51YWxseSBjYWxsIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGVjb3N5c3RlbS5kZWh5ZHJhdGUoKWB9PC9pbmxpbmVDb2RlPntgIGUuZy4gaW4gcmVzcG9uc2UgdG8gYSBidXR0b24gcHJlc3Mgb3Igb24gYW4gaW50ZXJ2YWwuYH08L3A+XG4gICAgPHA+e2BCeSBkZWZhdWx0LCBlY29zeXN0ZW1zIGRvbid0IHJlY2VpdmUgYW55IGtpbmQgb2YgdXBkYXRlIHdoZW4gaW5kaXZpZHVhbCBhdG9tIGluc3RhbmNlcyBjaGFuZ2Ugc3RhdGUuIFRoaXMgaXMgYnkgZGVzaWduLCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy4gSG93ZXZlciwgaXQgaXMgcG9zc2libGUgdG8gdHVybiB0aGlzIGJlaGF2aW9yIG9uIHdpdGggcGx1Z2lucy5gfTwvcD5cbiAgICA8cD57YE1ha2Ugc3VyZSB5b3VyIHBsdWdpbiB0dXJucyBvbiB0aGUgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgc3RhdGVDaGFuZ2VkYH08L2lubGluZUNvZGU+e2AgbW9kLmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIlxuICAgICAgfX0+e2BpbXBvcnQgeyBjcmVhdGVFY29zeXN0ZW0sIFplZHV4UGx1Z2luIH0gZnJvbSAnQHplZHV4L3JlYWN0J1xuXG5jb25zdCBwbHVnaW4gPSBuZXcgWmVkdXhQbHVnaW4oe1xuICByZWdpc3RlckVjb3N5c3RlbTogZWNvc3lzdGVtID0+IHtcbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBlY29zeXN0ZW0ubW9kc01lc3NhZ2VCdXMuc3Vic2NyaWJlKHtcbiAgICAgIGVmZmVjdHM6ICh7IGFjdGlvbiB9KSA9PiB7XG4gICAgICAgIGlmIChhY3Rpb24udHlwZSAhPT0gWmVkdXhQbHVnaW4uYWN0aW9ucy5zdGF0ZUNoYW5nZWQudHlwZSkgcmV0dXJuXG5cbiAgICAgICAgY29uc3Qgc25hcHNob3QgPSBlY29zeXN0ZW0uZGVoeWRyYXRlKHsgaW5jbHVkZUZsYWdzOiBbJ3BlcnNpc3QnXSB9KVxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc25hcHNob3QnLCBzbmFwc2hvdClcbiAgICAgIH0sXG4gICAgfSlcblxuICAgIHJldHVybiAoKSA9PiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKVxuICB9LFxufSlcblxucGx1Z2luLm1vZHNTdG9yZS5zZXRTdGF0ZSh7IHN0YXRlQ2hhbmdlZDogdHJ1ZSB9KVxuXG5jb25zdCBlY29zeXN0ZW0gPSBjcmVhdGVFY29zeXN0ZW0oeyBpZDogJ3Jvb3QnIH0pXG5lY29zeXN0ZW0ucmVnaXN0ZXJQbHVnaW4ocGx1Z2luKVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPGgyIHsuLi57XG4gICAgICBcImlkXCI6IFwicmVjYXBcIlxuICAgIH19PntgUmVjYXBgfTwvaDI+XG4gICAgPHVsPlxuICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPntgVXNlIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImxpXCI+e2BlY29zeXN0ZW0uZGVoeWRyYXRlKClgfTwvaW5saW5lQ29kZT57YCB0byBnZXQgYSBzdGF0ZSBzbmFwc2hvdCBvZiBhbGwgb3Igc29tZSBvZiB0aGUgYXRvbXMgaW4gdGhlIGVjb3N5c3RlbS5gfVxuICAgICAgICA8dWwgcGFyZW50TmFtZT1cImxpXCI+XG4gICAgICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPntgVXNlIHRoZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgZGVoeWRyYXRlYH08L2lubGluZUNvZGU+e2AgYXRvbSBjb25maWcgb3B0aW9uIHRvIHRyYW5zZm9ybSB0aGUgc3RhdGUgb2YgaW5kaXZpZHVhbCBhdG9tcyB0byBhIHNlcmlhbGl6YWJsZSBvciBzaG9ydGVuZWQgZm9ybS5gfTwvbGk+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2xpPlxuICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPntgVXNlIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImxpXCI+e2BlY29zeXN0ZW0uaHlkcmF0ZSgpYH08L2lubGluZUNvZGU+e2AgdG8gcmVzdG9yZSBhIHN0YXRlIHNuYXBzaG90LmB9XG4gICAgICAgIDx1bCBwYXJlbnROYW1lPVwibGlcIj5cbiAgICAgICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+e2BVc2UgdGhlIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImxpXCI+e2BoeWRyYXRlYH08L2lubGluZUNvZGU+e2AgYXRvbSBjb25maWcgb3B0aW9uIHRvIHRyYW5zZm9ybSBoeWRyYXRpb25zIGZvciBpbmRpdmlkdWFsIGF0b21zLmB9PC9saT5cbiAgICAgICAgPC91bD5cbiAgICAgIDwvbGk+XG4gICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+e2BUaGUgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwibGlcIj57YHsgaHlkcmF0ZTogdHJ1ZSB9YH08L2lubGluZUNvZGU+e2AgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwibGlcIj57YGluamVjdFN0b3JlYH08L2lubGluZUNvZGU+e2Agb3B0aW9uIHNldHMgdGhlIHN0b3JlJ3MgaW5pdGlhbCBzdGF0ZSB0byB0aGUgaHlkcmF0ZWQgdmFsdWUuYH08L2xpPlxuICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPntgVXNlIHRoZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgbWFudWFsSHlkcmF0aW9uYH08L2lubGluZUNvZGU+e2AgYXRvbSBjb25maWcgb3B0aW9uIHRvIHByZXZlbnQgWmVkdXggZnJvbSBhdXRvbWF0aWNhbGx5IGh5ZHJhdGluZyBpbmRpdmlkdWFsIGF0b21zLmB9PC9saT5cbiAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj57YFVzZSB0aGUgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwibGlcIj57YGNvbnN1bWVIeWRyYXRpb25zYH08L2lubGluZUNvZGU+e2AgYXRvbSBjb25maWcgb3IgZWNvc3lzdGVtIGNvbmZpZyBvcHRpb25zIHRvIHByZXZlbnQgYXRvbXMgZnJvbSBiZWluZyBoeWRyYXRlZCBhZ2FpbiBhZnRlciBiZWluZyBkZXN0cm95ZWQgYW5kIHJlY3JlYXRlZC5gfTwvbGk+XG4gICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+e2BVc2UgYSBwbHVnaW4gd2l0aCB0aGUgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwibGlcIj57YHN0YXRlQ2hhbmdlZGB9PC9pbmxpbmVDb2RlPntgIG1vZCB0byByZWFjdGl2ZWx5IHBlcnNpc3Qgc25hcHNob3RzLmB9PC9saT5cbiAgICA8L3VsPlxuICAgIDxoMiB7Li4ue1xuICAgICAgXCJpZFwiOiBcIm5leHQtc3RlcHNcIlxuICAgIH19PntgTmV4dCBTdGVwc2B9PC9oMj5cbiAgICA8cD57YE5vdyB3ZSBrbm93IHRoZSBiYXNpY3Mgb2YgcGVyc2lzdGVuY2UuIExldCdzIHVzZSB0aGVzZSB0b29scyB0byBpbXBsZW1lbnQgYH08YSBwYXJlbnROYW1lPVwicFwiIHsuLi57XG4gICAgICAgIFwiaHJlZlwiOiBcInNzclwiXG4gICAgICB9fT57YFNTUmB9PC9hPntgLmB9PC9wPlxuICAgIDwvTURYTGF5b3V0Pjtcbn1cbjtcbk1EWENvbnRlbnQuaXNNRFhDb21wb25lbnQgPSB0cnVlO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwibWR4IiwiZnJvbnRNYXR0ZXIiLCJpZCIsInRpdGxlIiwiY29udGVudFRpdGxlIiwidW5kZWZpbmVkIiwibWV0YWRhdGEiLCJhc3NldHMiLCJ0b2MiLCJ2YWx1ZSIsImxldmVsIiwibGF5b3V0UHJvcHMiLCJNRFhMYXlvdXQiLCJNRFhDb250ZW50IiwiY29tcG9uZW50cyIsInByb3BzIiwiaXNNRFhDb21wb25lbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7739\n')}}]);