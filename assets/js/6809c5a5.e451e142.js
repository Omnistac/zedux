"use strict";(self.webpackChunkzedux_docs=self.webpackChunkzedux_docs||[]).push([[8133],{7470:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "assets": function() { return /* binding */ assets; },\n/* harmony export */   "contentTitle": function() { return /* binding */ contentTitle; },\n/* harmony export */   "default": function() { return /* binding */ MDXContent; },\n/* harmony export */   "frontMatter": function() { return /* binding */ frontMatter; },\n/* harmony export */   "metadata": function() { return /* binding */ metadata; },\n/* harmony export */   "toc": function() { return /* binding */ toc; }\n/* harmony export */ });\n/* harmony import */ var _Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7462);\n/* harmony import */ var _Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_objectWithoutPropertiesLoose_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3366);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7294);\n/* harmony import */ var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3905);\nvar _excluded=["components"];/* @jsxRuntime classic */ /* @jsx mdx */ /* @jsxFrag React.Fragment */var frontMatter={id:\'resets\',title:\'Resets\'};var contentTitle=undefined;var metadata={"unversionedId":"walkthrough/resets","id":"walkthrough/resets","title":"Resets","description":"There are many situations where you may want to reset the state of one or more atoms. While Zedux doesn\'t have any built-in atom reset helpers like Recoil or Jotai, there are many ways to go about resetting state.","source":"@site/docs/walkthrough/resets.mdx","sourceDirName":"walkthrough","slug":"/walkthrough/resets","permalink":"/zedux/docs/walkthrough/resets","draft":false,"editUrl":"https://github.com/Omnistac/zedux/tree/master/docs/walkthrough/resets.mdx","tags":[],"version":"current","frontMatter":{"id":"resets","title":"Resets"},"sidebar":"react","previous":{"title":"Custom Injectors","permalink":"/zedux/docs/walkthrough/custom-injectors"},"next":{"title":"State Machines","permalink":"/zedux/docs/walkthrough/state-machines"}};var assets={};var toc=[{value:\'Invalidation\',id:\'invalidation\',level:2},{value:\'Exports\',id:\'exports\',level:2},{value:\'Force Destruction\',id:\'force-destruction\',level:2},{value:\'Multiple Atoms\',id:\'multiple-atoms\',level:2},{value:\'Using A Stream\',id:\'using-a-stream\',level:3},{value:\'Ecosystem Resets\',id:\'ecosystem-resets\',level:2},{value:\'Recap\',id:\'recap\',level:2},{value:\'Next Steps\',id:\'next-steps\',level:2}];var layoutProps={toc:toc};var MDXLayout="wrapper";function MDXContent(_ref){var components=_ref.components,props=(0,_Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_objectWithoutPropertiesLoose_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(_ref,_excluded);return (0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)(MDXLayout,(0,_Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"There are many situations where you may want to reset the state of one or more atoms. While Zedux doesn\'t have any built-in atom reset helpers like Recoil or Jotai, there are many ways to go about resetting state."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("admonition",{"title":"you will learn:","type":"tip"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("ul",{parentName:"admonition"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Several ways to reset an atom instance\'s state"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"How to reset the state of multiple atom instances at once"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"How to reset an entire ecosystem"))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"invalidation"},"Invalidation"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"For atoms that don\'t inject their own stores, including ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"query-atoms"},"query atoms"),", you can use ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"instance.invalidate()")," to essentially \\"reset\\" an atom instance\'s state:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx"},"// this atom never reevaluates unless someone calls `instance.invalidate()`:\\nconst todoListAtom = atom(\'todoList\', () => [])\\n\\nconst TodoResetButton = () => {\\n  const { invalidate } = useAtomInstance(todoListAtom)\\n\\n  return <button onClick={invalidate}>Reset</button>\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Here\'s another example using the ecosystem to prevent registering a static dependency on the atom instance:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx"},"const todoListAtom = atom(\'todoList\', () => [])\\n\\nconst TodoResetButton = () => {\\n  const ecosystem = useEcosystem()\\n\\n  return (\\n    <button onClick={() => ecosystem.find(todoListAtom)?.invalidate()}>\\n      Reset\\n    </button>\\n  )\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"This approach falls short when the atom does inject a store, since the store persists state across evaluations."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const todoListAtom = atom(\'todoList\', () => {\\n  // invalidating this atom does nothing \'cause the store\'s state is unchanged:\\n  const store = injectStore([])\\n\\n  return store\\n})\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"exports"},"Exports"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Atoms can export anything. This means they can export a function that selectively \\"resets\\" whatever you want:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx"},"const todoListAtom = atom(\'todoList\', () => {\\n  const store = injectStore([])\\n\\n  return api(store).setExports({\\n    // highlight-next-line\\n    reset: () => store.setState([]),\\n  })\\n})\\n\\nconst TodoResetButton = () => {\\n  const { reset } = useAtomInstance(todoListAtom).exports\\n\\n  return <button onClick={reset}>Reset</button>\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Here\'s that example expanded in a live sandbox:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx","metastring":"live ecosystemId=resets/exports resultVar=Todos","live":true,"ecosystemId":"resets/exports","resultVar":"Todos"},"const todoListAtom = atom(\'todoList\', () => {\\n  const store = injectStore<string[]>([])\\n\\n  const addTodo = (text: string) =>\\n    store.setState(state => Array.from(new Set([...state, text])))\\n\\n  const reset = () => store.setState([])\\n\\n  return api(store).setExports({\\n    addTodo,\\n    reset,\\n  })\\n})\\n\\nfunction Controls() {\\n  const [text, setText] = useState(\'\')\\n  const { addTodo, reset } = useAtomInstance(todoListAtom).exports\\n\\n  return (\\n    <div>\\n      <input onChange={event => setText(event.target.value)} value={text} />\\n      <button\\n        onClick={() => {\\n          addTodo(text)\\n          setText(\'\')\\n        }}\\n      >\\n        + Add Todo\\n      </button>\\n      <button onClick={reset}>Reset</button>\\n    </div>\\n  )\\n}\\n\\nfunction TodoList() {\\n  const todos = useAtomValue(todoListAtom)\\n\\n  return (\\n    <ul>\\n      {todos.map(todo => (\\n        <li key={todo}>{todo}</li>\\n      ))}\\n    </ul>\\n  )\\n}\\n\\nfunction Todos() {\\n  return (\\n    <>\\n      <TodoList />\\n      <Controls />\\n    </>\\n  )\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"force-destruction"},"Force Destruction"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"As seen in the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"destruction"},"destruction walkthrough"),", every atom instance can be force-destroyed. This destroys the atom instance regardless of whether it has dependents."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"If the atom instance does have dependents, those dependents will immediately recreate the instance. This resurrected instance is a completely new instance - fresh store, exports, promise, everything."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Just pass ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"true")," to ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"../api/classes/AtomInstance#destroy"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"a"},"instance.destroy()")),":"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx"},"const todoListAtom = atom(\'todoList\', () => [])\\n\\nconst TodoResetButton = () => {\\n  // don\'t destructure the `destroy` AtomInstance class method:\\n  const instance = useAtomInstance(todoListAtom)\\n\\n  return <button onClick={() => instance.destroy(true)}>Reset</button>\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"This is probably the most generally useful method of resetting state."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"multiple-atoms"},"Multiple Atoms"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"So far we\'ve looked at ways to reset a single atom instance. To reset several atom instances at once, there are many ways to go about it. For example:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("ul",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Create a ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"li","href":"custom-injectors"},"custom injector")," that hooks into global \\"reset\\" events and runs a callback."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Create a \\"resetStream\\" atom that exposes an RxJS observable that can be piped off of to perform resets."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Create an ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"li","href":"../advanced/plugins"},"ecosystem plugin")," or external helper with access to the ecosystem that invalidates or force-destroys multiple instances.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"using-a-stream"},"Using A Stream"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Here\'s an example using a custom ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"injectReset")," injector to hook into a universal \\"reset stream\\":"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx"},"// reset helpers:\\nconst resetAtom = atom(\'reset\', null)\\nconst injectReset = callback => {\\n  const resetInstance = injectAtomInstance(resetAtom)\\n\\n  injectEffect(() => {\\n    const subscription = resetInstance.store.subscribe({\\n      effects: () => callback(),\\n    })\\n\\n    return () => subscription.unsubscribe()\\n  }, [resetInstance])\\n}\\n\\n// example usage:\\nconst todoListAtom = atom(\'todoList\', () => {\\n  const store = injectStore([])\\n\\n  // highlight-next-line\\n  injectReset(() => store.setState([]))\\n\\n  return store\\n})\\n\\nconst GlobalResetButton = () => {\\n  const instance = useAtomInstance(resetAtom)\\n\\n  return (\\n    <button onClick={() => instance.dispatch({ type: \'reset\' })}>Reset</button>\\n  )\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"And here\'s that example expanded in a live sandbox:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx","metastring":"live ecosystemId=resets/using-a-stream resultVar=Todos","live":true,"ecosystemId":"resets/using-a-stream","resultVar":"Todos"},"// reset helpers:\\nconst resetAtom = atom(\'reset\', () => {\\n  const store = injectStore()\\n\\n  const reset = () => store.dispatch({ type: \'reset\' })\\n\\n  return api(store).setExports({ reset })\\n})\\n\\nconst injectReset = callback => {\\n  const resetInstance = injectAtomInstance(resetAtom)\\n\\n  injectEffect(() => {\\n    const subscription = resetInstance.store.subscribe({\\n      effects: () => callback(),\\n    })\\n\\n    return () => subscription.unsubscribe()\\n  }, [resetInstance])\\n}\\n\\n// todos app:\\nconst todoListAtom = atom(\'todoList\', () => {\\n  const store = injectStore<string[]>([])\\n\\n  const addTodo = (text: string) =>\\n    store.setState(state => Array.from(new Set([...state, text])))\\n\\n  injectReset(() => store.setState([]))\\n\\n  return api(store).setExports({ addTodo })\\n})\\n\\nfunction Controls() {\\n  const [text, setText] = useState(\'\')\\n  const { addTodo } = useAtomInstance(todoListAtom).exports\\n  const { reset } = useAtomInstance(resetAtom).exports\\n\\n  return (\\n    <div>\\n      <input onChange={event => setText(event.target.value)} value={text} />\\n      <button\\n        onClick={() => {\\n          addTodo(text)\\n          setText(\'\')\\n        }}\\n      >\\n        + Add Todo\\n      </button>\\n      <button onClick={reset}>Reset</button>\\n    </div>\\n  )\\n}\\n\\nfunction TodoList() {\\n  const todos = useAtomValue(todoListAtom)\\n\\n  return (\\n    <ul>\\n      {todos.map(todo => (\\n        <li key={todo}>{todo}</li>\\n      ))}\\n    </ul>\\n  )\\n}\\n\\nfunction Todos() {\\n  return (\\n    <>\\n      <TodoList />\\n      <Controls />\\n    </>\\n  )\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"ecosystem-resets"},"Ecosystem Resets"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"To surgically reset the state of every atom instance in the ecosystem, you\'d have to follow one of the above approaches. But for a basic global reset, you can use ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"../api/classes/Ecosystem#reset"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"a"},"ecosystem.reset()")),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"A single ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"ecosystem.reset()")," call will:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("ul",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Force-destroy every atom instance and cached atom selector in the ecosystem."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Run the previous ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"li","href":"../api/types/EcosystemConfig#onready"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"a"},"onReady")," function"),"\'s cleanup function (if any)."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Rerun the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"onReady")," function (if any)."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Allow all external dependents (e.g. React components) to recreate their dependencies. These are the \\"leaf nodes\\" of the graph."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"The leaf nodes will recreate their own dependencies and so on up the graph tree.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"The final result should contain every non-stale atom instance and every cached selector that existed before the reset, but of course as freshly initialized new references."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx","metastring":"live ecosystemId=resets/ecosystem-resets resultVar=Todos","live":true,"ecosystemId":"resets/ecosystem-resets","resultVar":"Todos"},"const todoListAtom = atom(\'todoList\', () => {\\n  const store = injectStore<string[]>([])\\n\\n  const addTodo = (text: string) =>\\n    store.setState(state => Array.from(new Set([...state, text])))\\n\\n  return api(store).setExports({ addTodo })\\n})\\n\\nfunction Controls() {\\n  const [text, setText] = useState(\'\')\\n  const { addTodo } = useAtomInstance(todoListAtom).exports\\n  // just grab the ecosystem:\\n  const ecosystem = useEcosystem()\\n\\n  return (\\n    <div>\\n      <input onChange={event => setText(event.target.value)} value={text} />\\n      <button\\n        onClick={() => {\\n          addTodo(text)\\n          setText(\'\')\\n        }}\\n      >\\n        + Add Todo\\n      </button>\\n      <button onClick={() => ecosystem.reset()}>Reset</button>\\n    </div>\\n  )\\n}\\n\\nfunction TodoList() {\\n  const todos = useAtomValue(todoListAtom)\\n\\n  return (\\n    <ul>\\n      {todos.map(todo => (\\n        <li key={todo}>{todo}</li>\\n      ))}\\n    </ul>\\n  )\\n}\\n\\nfunction Todos() {\\n  return (\\n    <>\\n      <TodoList />\\n      <Controls />\\n    </>\\n  )\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"The ecosystem can be reset anywhere - whether above or below an ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"../api/components/EcosystemProvider"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"a"},"EcosystemProvider"))," or completely outside React."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("admonition",{"type":"tip"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",{parentName:"admonition"},"While ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"ecosystem.reset()")," is incredibly effective, you probably won\'t find yourself using it in most apps. An approach like the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"injectReset()")," example adds more boilerplate, but is more powerful.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"recap"},"Recap"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("ul",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Use ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"instance.invalidate()")," to \\"reset\\" atoms that don\'t use stores in their state factory."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Use ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"instance.destroy(true)")," to \\"reset\\" any atom by fully destroying and recreating it."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Use atom exports to gain more control over precisely what is reset."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Hook into another atom or external stream for the most control."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Reset an entire ecosystem with ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"ecosystem.reset()"))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"next-steps"},"Next Steps"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"There remains but ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"state-machines"},"one solitary concept")," to master ere thou be crowned king of the state. For now."));};MDXContent.isMDXComponent=true;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBSyxDQUN2SCxDQUNMLG1FQUNFLElBQUksQ0FBRSxZQUFZLGVBQ0UsQ0FDdEIsMkZBQXlCLGtFQUFHLFVBQVUsQ0FBQyxHQUFHLENBQ3RDLE1BQU0sQ0FBRSxnQkFBZ0IseUJBQ0ssOERBQWtFLENBQ3ZGLENBQ2hCLENBQ0EsQ0FDQUQsVUFBVSxDQUFDRyxjQUFjLENBQUcsSUFBSSIsInNvdXJjZXMiOlsid2VicGFjazovL3plZHV4LWRvY3MvLi9kb2NzL3dhbGt0aHJvdWdoL3Jlc2V0cy5tZHg/MDJkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcblxuLyogQGpzeFJ1bnRpbWUgY2xhc3NpYyAqL1xuLyogQGpzeCBtZHggKi9cbi8qIEBqc3hGcmFnIFJlYWN0LkZyYWdtZW50ICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtZHggfSBmcm9tICdAbWR4LWpzL3JlYWN0JztcblxuXG5leHBvcnQgY29uc3QgZnJvbnRNYXR0ZXIgPSB7XG5cdGlkOiAncmVzZXRzJyxcblx0dGl0bGU6ICdSZXNldHMnXG59O1xuZXhwb3J0IGNvbnN0IGNvbnRlbnRUaXRsZSA9IHVuZGVmaW5lZDtcbmV4cG9ydCBjb25zdCBtZXRhZGF0YSA9IHtcbiAgXCJ1bnZlcnNpb25lZElkXCI6IFwid2Fsa3Rocm91Z2gvcmVzZXRzXCIsXG4gIFwiaWRcIjogXCJ3YWxrdGhyb3VnaC9yZXNldHNcIixcbiAgXCJ0aXRsZVwiOiBcIlJlc2V0c1wiLFxuICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlcmUgYXJlIG1hbnkgc2l0dWF0aW9ucyB3aGVyZSB5b3UgbWF5IHdhbnQgdG8gcmVzZXQgdGhlIHN0YXRlIG9mIG9uZSBvciBtb3JlIGF0b21zLiBXaGlsZSBaZWR1eCBkb2Vzbid0IGhhdmUgYW55IGJ1aWx0LWluIGF0b20gcmVzZXQgaGVscGVycyBsaWtlIFJlY29pbCBvciBKb3RhaSwgdGhlcmUgYXJlIG1hbnkgd2F5cyB0byBnbyBhYm91dCByZXNldHRpbmcgc3RhdGUuXCIsXG4gIFwic291cmNlXCI6IFwiQHNpdGUvZG9jcy93YWxrdGhyb3VnaC9yZXNldHMubWR4XCIsXG4gIFwic291cmNlRGlyTmFtZVwiOiBcIndhbGt0aHJvdWdoXCIsXG4gIFwic2x1Z1wiOiBcIi93YWxrdGhyb3VnaC9yZXNldHNcIixcbiAgXCJwZXJtYWxpbmtcIjogXCIvemVkdXgvZG9jcy93YWxrdGhyb3VnaC9yZXNldHNcIixcbiAgXCJkcmFmdFwiOiBmYWxzZSxcbiAgXCJlZGl0VXJsXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL09tbmlzdGFjL3plZHV4L3RyZWUvbWFzdGVyL2RvY3Mvd2Fsa3Rocm91Z2gvcmVzZXRzLm1keFwiLFxuICBcInRhZ3NcIjogW10sXG4gIFwidmVyc2lvblwiOiBcImN1cnJlbnRcIixcbiAgXCJmcm9udE1hdHRlclwiOiB7XG4gICAgXCJpZFwiOiBcInJlc2V0c1wiLFxuICAgIFwidGl0bGVcIjogXCJSZXNldHNcIlxuICB9LFxuICBcInNpZGViYXJcIjogXCJyZWFjdFwiLFxuICBcInByZXZpb3VzXCI6IHtcbiAgICBcInRpdGxlXCI6IFwiQ3VzdG9tIEluamVjdG9yc1wiLFxuICAgIFwicGVybWFsaW5rXCI6IFwiL3plZHV4L2RvY3Mvd2Fsa3Rocm91Z2gvY3VzdG9tLWluamVjdG9yc1wiXG4gIH0sXG4gIFwibmV4dFwiOiB7XG4gICAgXCJ0aXRsZVwiOiBcIlN0YXRlIE1hY2hpbmVzXCIsXG4gICAgXCJwZXJtYWxpbmtcIjogXCIvemVkdXgvZG9jcy93YWxrdGhyb3VnaC9zdGF0ZS1tYWNoaW5lc1wiXG4gIH1cbn07XG5leHBvcnQgY29uc3QgYXNzZXRzID0ge1xuXG59O1xuXG5cbmV4cG9ydCBjb25zdCB0b2MgPSBbe1xuICB2YWx1ZTogJ0ludmFsaWRhdGlvbicsXG4gIGlkOiAnaW52YWxpZGF0aW9uJyxcbiAgbGV2ZWw6IDJcbn0sIHtcbiAgdmFsdWU6ICdFeHBvcnRzJyxcbiAgaWQ6ICdleHBvcnRzJyxcbiAgbGV2ZWw6IDJcbn0sIHtcbiAgdmFsdWU6ICdGb3JjZSBEZXN0cnVjdGlvbicsXG4gIGlkOiAnZm9yY2UtZGVzdHJ1Y3Rpb24nLFxuICBsZXZlbDogMlxufSwge1xuICB2YWx1ZTogJ011bHRpcGxlIEF0b21zJyxcbiAgaWQ6ICdtdWx0aXBsZS1hdG9tcycsXG4gIGxldmVsOiAyXG59LCB7XG4gIHZhbHVlOiAnVXNpbmcgQSBTdHJlYW0nLFxuICBpZDogJ3VzaW5nLWEtc3RyZWFtJyxcbiAgbGV2ZWw6IDNcbn0sIHtcbiAgdmFsdWU6ICdFY29zeXN0ZW0gUmVzZXRzJyxcbiAgaWQ6ICdlY29zeXN0ZW0tcmVzZXRzJyxcbiAgbGV2ZWw6IDJcbn0sIHtcbiAgdmFsdWU6ICdSZWNhcCcsXG4gIGlkOiAncmVjYXAnLFxuICBsZXZlbDogMlxufSwge1xuICB2YWx1ZTogJ05leHQgU3RlcHMnLFxuICBpZDogJ25leHQtc3RlcHMnLFxuICBsZXZlbDogMlxufV07XG5cbmNvbnN0IGxheW91dFByb3BzID0ge1xuICB0b2Ncbn07XG5jb25zdCBNRFhMYXlvdXQgPSBcIndyYXBwZXJcIlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTURYQ29udGVudCh7XG4gIGNvbXBvbmVudHMsXG4gIC4uLnByb3BzXG59KSB7XG4gIHJldHVybiA8TURYTGF5b3V0IHsuLi5sYXlvdXRQcm9wc30gey4uLnByb3BzfSBjb21wb25lbnRzPXtjb21wb25lbnRzfSBtZHhUeXBlPVwiTURYTGF5b3V0XCI+XG5cbiAgICA8cD57YFRoZXJlIGFyZSBtYW55IHNpdHVhdGlvbnMgd2hlcmUgeW91IG1heSB3YW50IHRvIHJlc2V0IHRoZSBzdGF0ZSBvZiBvbmUgb3IgbW9yZSBhdG9tcy4gV2hpbGUgWmVkdXggZG9lc24ndCBoYXZlIGFueSBidWlsdC1pbiBhdG9tIHJlc2V0IGhlbHBlcnMgbGlrZSBSZWNvaWwgb3IgSm90YWksIHRoZXJlIGFyZSBtYW55IHdheXMgdG8gZ28gYWJvdXQgcmVzZXR0aW5nIHN0YXRlLmB9PC9wPlxuICAgIDxhZG1vbml0aW9uIHsuLi57XG4gICAgICBcInRpdGxlXCI6IFwieW91IHdpbGwgbGVhcm46XCIsXG4gICAgICBcInR5cGVcIjogXCJ0aXBcIlxuICAgIH19Pjx1bCBwYXJlbnROYW1lPVwiYWRtb25pdGlvblwiPlxuICAgICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+e2BTZXZlcmFsIHdheXMgdG8gcmVzZXQgYW4gYXRvbSBpbnN0YW5jZSdzIHN0YXRlYH08L2xpPlxuICAgICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+e2BIb3cgdG8gcmVzZXQgdGhlIHN0YXRlIG9mIG11bHRpcGxlIGF0b20gaW5zdGFuY2VzIGF0IG9uY2VgfTwvbGk+XG4gICAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj57YEhvdyB0byByZXNldCBhbiBlbnRpcmUgZWNvc3lzdGVtYH08L2xpPlxuICAgICAgPC91bD48L2FkbW9uaXRpb24+XG4gICAgPGgyIHsuLi57XG4gICAgICBcImlkXCI6IFwiaW52YWxpZGF0aW9uXCJcbiAgICB9fT57YEludmFsaWRhdGlvbmB9PC9oMj5cbiAgICA8cD57YEZvciBhdG9tcyB0aGF0IGRvbid0IGluamVjdCB0aGVpciBvd24gc3RvcmVzLCBpbmNsdWRpbmcgYH08YSBwYXJlbnROYW1lPVwicFwiIHsuLi57XG4gICAgICAgIFwiaHJlZlwiOiBcInF1ZXJ5LWF0b21zXCJcbiAgICAgIH19PntgcXVlcnkgYXRvbXNgfTwvYT57YCwgeW91IGNhbiB1c2UgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgaW5zdGFuY2UuaW52YWxpZGF0ZSgpYH08L2lubGluZUNvZGU+e2AgdG8gZXNzZW50aWFsbHkgXCJyZXNldFwiIGFuIGF0b20gaW5zdGFuY2UncyBzdGF0ZTpgfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzeFwiXG4gICAgICB9fT57YC8vIHRoaXMgYXRvbSBuZXZlciByZWV2YWx1YXRlcyB1bmxlc3Mgc29tZW9uZSBjYWxscyBcXGBpbnN0YW5jZS5pbnZhbGlkYXRlKClcXGA6XG5jb25zdCB0b2RvTGlzdEF0b20gPSBhdG9tKCd0b2RvTGlzdCcsICgpID0+IFtdKVxuXG5jb25zdCBUb2RvUmVzZXRCdXR0b24gPSAoKSA9PiB7XG4gIGNvbnN0IHsgaW52YWxpZGF0ZSB9ID0gdXNlQXRvbUluc3RhbmNlKHRvZG9MaXN0QXRvbSlcblxuICByZXR1cm4gPGJ1dHRvbiBvbkNsaWNrPXtpbnZhbGlkYXRlfT5SZXNldDwvYnV0dG9uPlxufVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPHA+e2BIZXJlJ3MgYW5vdGhlciBleGFtcGxlIHVzaW5nIHRoZSBlY29zeXN0ZW0gdG8gcHJldmVudCByZWdpc3RlcmluZyBhIHN0YXRpYyBkZXBlbmRlbmN5IG9uIHRoZSBhdG9tIGluc3RhbmNlOmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHN4XCJcbiAgICAgIH19PntgY29uc3QgdG9kb0xpc3RBdG9tID0gYXRvbSgndG9kb0xpc3QnLCAoKSA9PiBbXSlcblxuY29uc3QgVG9kb1Jlc2V0QnV0dG9uID0gKCkgPT4ge1xuICBjb25zdCBlY29zeXN0ZW0gPSB1c2VFY29zeXN0ZW0oKVxuXG4gIHJldHVybiAoXG4gICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBlY29zeXN0ZW0uZmluZCh0b2RvTGlzdEF0b20pPy5pbnZhbGlkYXRlKCl9PlxuICAgICAgUmVzZXRcbiAgICA8L2J1dHRvbj5cbiAgKVxufVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPHA+e2BUaGlzIGFwcHJvYWNoIGZhbGxzIHNob3J0IHdoZW4gdGhlIGF0b20gZG9lcyBpbmplY3QgYSBzdG9yZSwgc2luY2UgdGhlIHN0b3JlIHBlcnNpc3RzIHN0YXRlIGFjcm9zcyBldmFsdWF0aW9ucy5gfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzXCJcbiAgICAgIH19PntgY29uc3QgdG9kb0xpc3RBdG9tID0gYXRvbSgndG9kb0xpc3QnLCAoKSA9PiB7XG4gIC8vIGludmFsaWRhdGluZyB0aGlzIGF0b20gZG9lcyBub3RoaW5nICdjYXVzZSB0aGUgc3RvcmUncyBzdGF0ZSBpcyB1bmNoYW5nZWQ6XG4gIGNvbnN0IHN0b3JlID0gaW5qZWN0U3RvcmUoW10pXG5cbiAgcmV0dXJuIHN0b3JlXG59KVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPGgyIHsuLi57XG4gICAgICBcImlkXCI6IFwiZXhwb3J0c1wiXG4gICAgfX0+e2BFeHBvcnRzYH08L2gyPlxuICAgIDxwPntgQXRvbXMgY2FuIGV4cG9ydCBhbnl0aGluZy4gVGhpcyBtZWFucyB0aGV5IGNhbiBleHBvcnQgYSBmdW5jdGlvbiB0aGF0IHNlbGVjdGl2ZWx5IFwicmVzZXRzXCIgd2hhdGV2ZXIgeW91IHdhbnQ6YH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c3hcIlxuICAgICAgfX0+e2Bjb25zdCB0b2RvTGlzdEF0b20gPSBhdG9tKCd0b2RvTGlzdCcsICgpID0+IHtcbiAgY29uc3Qgc3RvcmUgPSBpbmplY3RTdG9yZShbXSlcblxuICByZXR1cm4gYXBpKHN0b3JlKS5zZXRFeHBvcnRzKHtcbiAgICAvLyBoaWdobGlnaHQtbmV4dC1saW5lXG4gICAgcmVzZXQ6ICgpID0+IHN0b3JlLnNldFN0YXRlKFtdKSxcbiAgfSlcbn0pXG5cbmNvbnN0IFRvZG9SZXNldEJ1dHRvbiA9ICgpID0+IHtcbiAgY29uc3QgeyByZXNldCB9ID0gdXNlQXRvbUluc3RhbmNlKHRvZG9MaXN0QXRvbSkuZXhwb3J0c1xuXG4gIHJldHVybiA8YnV0dG9uIG9uQ2xpY2s9e3Jlc2V0fT5SZXNldDwvYnV0dG9uPlxufVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPHA+e2BIZXJlJ3MgdGhhdCBleGFtcGxlIGV4cGFuZGVkIGluIGEgbGl2ZSBzYW5kYm94OmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHN4XCIsXG4gICAgICAgIFwibWV0YXN0cmluZ1wiOiBcImxpdmUgZWNvc3lzdGVtSWQ9cmVzZXRzL2V4cG9ydHMgcmVzdWx0VmFyPVRvZG9zXCIsXG4gICAgICAgIFwibGl2ZVwiOiB0cnVlLFxuICAgICAgICBcImVjb3N5c3RlbUlkXCI6IFwicmVzZXRzL2V4cG9ydHNcIixcbiAgICAgICAgXCJyZXN1bHRWYXJcIjogXCJUb2Rvc1wiXG4gICAgICB9fT57YGNvbnN0IHRvZG9MaXN0QXRvbSA9IGF0b20oJ3RvZG9MaXN0JywgKCkgPT4ge1xuICBjb25zdCBzdG9yZSA9IGluamVjdFN0b3JlPHN0cmluZ1tdPihbXSlcblxuICBjb25zdCBhZGRUb2RvID0gKHRleHQ6IHN0cmluZykgPT5cbiAgICBzdG9yZS5zZXRTdGF0ZShzdGF0ZSA9PiBBcnJheS5mcm9tKG5ldyBTZXQoWy4uLnN0YXRlLCB0ZXh0XSkpKVxuXG4gIGNvbnN0IHJlc2V0ID0gKCkgPT4gc3RvcmUuc2V0U3RhdGUoW10pXG5cbiAgcmV0dXJuIGFwaShzdG9yZSkuc2V0RXhwb3J0cyh7XG4gICAgYWRkVG9kbyxcbiAgICByZXNldCxcbiAgfSlcbn0pXG5cbmZ1bmN0aW9uIENvbnRyb2xzKCkge1xuICBjb25zdCBbdGV4dCwgc2V0VGV4dF0gPSB1c2VTdGF0ZSgnJylcbiAgY29uc3QgeyBhZGRUb2RvLCByZXNldCB9ID0gdXNlQXRvbUluc3RhbmNlKHRvZG9MaXN0QXRvbSkuZXhwb3J0c1xuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxpbnB1dCBvbkNoYW5nZT17ZXZlbnQgPT4gc2V0VGV4dChldmVudC50YXJnZXQudmFsdWUpfSB2YWx1ZT17dGV4dH0gLz5cbiAgICAgIDxidXR0b25cbiAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgIGFkZFRvZG8odGV4dClcbiAgICAgICAgICBzZXRUZXh0KCcnKVxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICArIEFkZCBUb2RvXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxidXR0b24gb25DbGljaz17cmVzZXR9PlJlc2V0PC9idXR0b24+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZnVuY3Rpb24gVG9kb0xpc3QoKSB7XG4gIGNvbnN0IHRvZG9zID0gdXNlQXRvbVZhbHVlKHRvZG9MaXN0QXRvbSlcblxuICByZXR1cm4gKFxuICAgIDx1bD5cbiAgICAgIHt0b2Rvcy5tYXAodG9kbyA9PiAoXG4gICAgICAgIDxsaSBrZXk9e3RvZG99Pnt0b2RvfTwvbGk+XG4gICAgICApKX1cbiAgICA8L3VsPlxuICApXG59XG5cbmZ1bmN0aW9uIFRvZG9zKCkge1xuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8VG9kb0xpc3QgLz5cbiAgICAgIDxDb250cm9scyAvPlxuICAgIDwvPlxuICApXG59XG5gfTwvY29kZT48L3ByZT5cbiAgICA8aDIgey4uLntcbiAgICAgIFwiaWRcIjogXCJmb3JjZS1kZXN0cnVjdGlvblwiXG4gICAgfX0+e2BGb3JjZSBEZXN0cnVjdGlvbmB9PC9oMj5cbiAgICA8cD57YEFzIHNlZW4gaW4gdGhlIGB9PGEgcGFyZW50TmFtZT1cInBcIiB7Li4ue1xuICAgICAgICBcImhyZWZcIjogXCJkZXN0cnVjdGlvblwiXG4gICAgICB9fT57YGRlc3RydWN0aW9uIHdhbGt0aHJvdWdoYH08L2E+e2AsIGV2ZXJ5IGF0b20gaW5zdGFuY2UgY2FuIGJlIGZvcmNlLWRlc3Ryb3llZC4gVGhpcyBkZXN0cm95cyB0aGUgYXRvbSBpbnN0YW5jZSByZWdhcmRsZXNzIG9mIHdoZXRoZXIgaXQgaGFzIGRlcGVuZGVudHMuYH08L3A+XG4gICAgPHA+e2BJZiB0aGUgYXRvbSBpbnN0YW5jZSBkb2VzIGhhdmUgZGVwZW5kZW50cywgdGhvc2UgZGVwZW5kZW50cyB3aWxsIGltbWVkaWF0ZWx5IHJlY3JlYXRlIHRoZSBpbnN0YW5jZS4gVGhpcyByZXN1cnJlY3RlZCBpbnN0YW5jZSBpcyBhIGNvbXBsZXRlbHkgbmV3IGluc3RhbmNlIC0gZnJlc2ggc3RvcmUsIGV4cG9ydHMsIHByb21pc2UsIGV2ZXJ5dGhpbmcuYH08L3A+XG4gICAgPHA+e2BKdXN0IHBhc3MgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgdHJ1ZWB9PC9pbmxpbmVDb2RlPntgIHRvIGB9PGEgcGFyZW50TmFtZT1cInBcIiB7Li4ue1xuICAgICAgICBcImhyZWZcIjogXCIuLi9hcGkvY2xhc3Nlcy9BdG9tSW5zdGFuY2UjZGVzdHJveVwiXG4gICAgICB9fT48aW5saW5lQ29kZSBwYXJlbnROYW1lPVwiYVwiPntgaW5zdGFuY2UuZGVzdHJveSgpYH08L2lubGluZUNvZGU+PC9hPntgOmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHN4XCJcbiAgICAgIH19PntgY29uc3QgdG9kb0xpc3RBdG9tID0gYXRvbSgndG9kb0xpc3QnLCAoKSA9PiBbXSlcblxuY29uc3QgVG9kb1Jlc2V0QnV0dG9uID0gKCkgPT4ge1xuICAvLyBkb24ndCBkZXN0cnVjdHVyZSB0aGUgXFxgZGVzdHJveVxcYCBBdG9tSW5zdGFuY2UgY2xhc3MgbWV0aG9kOlxuICBjb25zdCBpbnN0YW5jZSA9IHVzZUF0b21JbnN0YW5jZSh0b2RvTGlzdEF0b20pXG5cbiAgcmV0dXJuIDxidXR0b24gb25DbGljaz17KCkgPT4gaW5zdGFuY2UuZGVzdHJveSh0cnVlKX0+UmVzZXQ8L2J1dHRvbj5cbn1cbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxwPntgVGhpcyBpcyBwcm9iYWJseSB0aGUgbW9zdCBnZW5lcmFsbHkgdXNlZnVsIG1ldGhvZCBvZiByZXNldHRpbmcgc3RhdGUuYH08L3A+XG4gICAgPGgyIHsuLi57XG4gICAgICBcImlkXCI6IFwibXVsdGlwbGUtYXRvbXNcIlxuICAgIH19PntgTXVsdGlwbGUgQXRvbXNgfTwvaDI+XG4gICAgPHA+e2BTbyBmYXIgd2UndmUgbG9va2VkIGF0IHdheXMgdG8gcmVzZXQgYSBzaW5nbGUgYXRvbSBpbnN0YW5jZS4gVG8gcmVzZXQgc2V2ZXJhbCBhdG9tIGluc3RhbmNlcyBhdCBvbmNlLCB0aGVyZSBhcmUgbWFueSB3YXlzIHRvIGdvIGFib3V0IGl0LiBGb3IgZXhhbXBsZTpgfTwvcD5cbiAgICA8dWw+XG4gICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+e2BDcmVhdGUgYSBgfTxhIHBhcmVudE5hbWU9XCJsaVwiIHsuLi57XG4gICAgICAgICAgXCJocmVmXCI6IFwiY3VzdG9tLWluamVjdG9yc1wiXG4gICAgICAgIH19PntgY3VzdG9tIGluamVjdG9yYH08L2E+e2AgdGhhdCBob29rcyBpbnRvIGdsb2JhbCBcInJlc2V0XCIgZXZlbnRzIGFuZCBydW5zIGEgY2FsbGJhY2suYH08L2xpPlxuICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPntgQ3JlYXRlIGEgXCJyZXNldFN0cmVhbVwiIGF0b20gdGhhdCBleHBvc2VzIGFuIFJ4SlMgb2JzZXJ2YWJsZSB0aGF0IGNhbiBiZSBwaXBlZCBvZmYgb2YgdG8gcGVyZm9ybSByZXNldHMuYH08L2xpPlxuICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPntgQ3JlYXRlIGFuIGB9PGEgcGFyZW50TmFtZT1cImxpXCIgey4uLntcbiAgICAgICAgICBcImhyZWZcIjogXCIuLi9hZHZhbmNlZC9wbHVnaW5zXCJcbiAgICAgICAgfX0+e2BlY29zeXN0ZW0gcGx1Z2luYH08L2E+e2Agb3IgZXh0ZXJuYWwgaGVscGVyIHdpdGggYWNjZXNzIHRvIHRoZSBlY29zeXN0ZW0gdGhhdCBpbnZhbGlkYXRlcyBvciBmb3JjZS1kZXN0cm95cyBtdWx0aXBsZSBpbnN0YW5jZXMuYH08L2xpPlxuICAgIDwvdWw+XG4gICAgPGgzIHsuLi57XG4gICAgICBcImlkXCI6IFwidXNpbmctYS1zdHJlYW1cIlxuICAgIH19PntgVXNpbmcgQSBTdHJlYW1gfTwvaDM+XG4gICAgPHA+e2BIZXJlJ3MgYW4gZXhhbXBsZSB1c2luZyBhIGN1c3RvbSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BpbmplY3RSZXNldGB9PC9pbmxpbmVDb2RlPntgIGluamVjdG9yIHRvIGhvb2sgaW50byBhIHVuaXZlcnNhbCBcInJlc2V0IHN0cmVhbVwiOmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHN4XCJcbiAgICAgIH19PntgLy8gcmVzZXQgaGVscGVyczpcbmNvbnN0IHJlc2V0QXRvbSA9IGF0b20oJ3Jlc2V0JywgbnVsbClcbmNvbnN0IGluamVjdFJlc2V0ID0gY2FsbGJhY2sgPT4ge1xuICBjb25zdCByZXNldEluc3RhbmNlID0gaW5qZWN0QXRvbUluc3RhbmNlKHJlc2V0QXRvbSlcblxuICBpbmplY3RFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IHJlc2V0SW5zdGFuY2Uuc3RvcmUuc3Vic2NyaWJlKHtcbiAgICAgIGVmZmVjdHM6ICgpID0+IGNhbGxiYWNrKCksXG4gICAgfSlcblxuICAgIHJldHVybiAoKSA9PiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKVxuICB9LCBbcmVzZXRJbnN0YW5jZV0pXG59XG5cbi8vIGV4YW1wbGUgdXNhZ2U6XG5jb25zdCB0b2RvTGlzdEF0b20gPSBhdG9tKCd0b2RvTGlzdCcsICgpID0+IHtcbiAgY29uc3Qgc3RvcmUgPSBpbmplY3RTdG9yZShbXSlcblxuICAvLyBoaWdobGlnaHQtbmV4dC1saW5lXG4gIGluamVjdFJlc2V0KCgpID0+IHN0b3JlLnNldFN0YXRlKFtdKSlcblxuICByZXR1cm4gc3RvcmVcbn0pXG5cbmNvbnN0IEdsb2JhbFJlc2V0QnV0dG9uID0gKCkgPT4ge1xuICBjb25zdCBpbnN0YW5jZSA9IHVzZUF0b21JbnN0YW5jZShyZXNldEF0b20pXG5cbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IGluc3RhbmNlLmRpc3BhdGNoKHsgdHlwZTogJ3Jlc2V0JyB9KX0+UmVzZXQ8L2J1dHRvbj5cbiAgKVxufVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPHA+e2BBbmQgaGVyZSdzIHRoYXQgZXhhbXBsZSBleHBhbmRlZCBpbiBhIGxpdmUgc2FuZGJveDpgfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzeFwiLFxuICAgICAgICBcIm1ldGFzdHJpbmdcIjogXCJsaXZlIGVjb3N5c3RlbUlkPXJlc2V0cy91c2luZy1hLXN0cmVhbSByZXN1bHRWYXI9VG9kb3NcIixcbiAgICAgICAgXCJsaXZlXCI6IHRydWUsXG4gICAgICAgIFwiZWNvc3lzdGVtSWRcIjogXCJyZXNldHMvdXNpbmctYS1zdHJlYW1cIixcbiAgICAgICAgXCJyZXN1bHRWYXJcIjogXCJUb2Rvc1wiXG4gICAgICB9fT57YC8vIHJlc2V0IGhlbHBlcnM6XG5jb25zdCByZXNldEF0b20gPSBhdG9tKCdyZXNldCcsICgpID0+IHtcbiAgY29uc3Qgc3RvcmUgPSBpbmplY3RTdG9yZSgpXG5cbiAgY29uc3QgcmVzZXQgPSAoKSA9PiBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdyZXNldCcgfSlcblxuICByZXR1cm4gYXBpKHN0b3JlKS5zZXRFeHBvcnRzKHsgcmVzZXQgfSlcbn0pXG5cbmNvbnN0IGluamVjdFJlc2V0ID0gY2FsbGJhY2sgPT4ge1xuICBjb25zdCByZXNldEluc3RhbmNlID0gaW5qZWN0QXRvbUluc3RhbmNlKHJlc2V0QXRvbSlcblxuICBpbmplY3RFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IHJlc2V0SW5zdGFuY2Uuc3RvcmUuc3Vic2NyaWJlKHtcbiAgICAgIGVmZmVjdHM6ICgpID0+IGNhbGxiYWNrKCksXG4gICAgfSlcblxuICAgIHJldHVybiAoKSA9PiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKVxuICB9LCBbcmVzZXRJbnN0YW5jZV0pXG59XG5cbi8vIHRvZG9zIGFwcDpcbmNvbnN0IHRvZG9MaXN0QXRvbSA9IGF0b20oJ3RvZG9MaXN0JywgKCkgPT4ge1xuICBjb25zdCBzdG9yZSA9IGluamVjdFN0b3JlPHN0cmluZ1tdPihbXSlcblxuICBjb25zdCBhZGRUb2RvID0gKHRleHQ6IHN0cmluZykgPT5cbiAgICBzdG9yZS5zZXRTdGF0ZShzdGF0ZSA9PiBBcnJheS5mcm9tKG5ldyBTZXQoWy4uLnN0YXRlLCB0ZXh0XSkpKVxuXG4gIGluamVjdFJlc2V0KCgpID0+IHN0b3JlLnNldFN0YXRlKFtdKSlcblxuICByZXR1cm4gYXBpKHN0b3JlKS5zZXRFeHBvcnRzKHsgYWRkVG9kbyB9KVxufSlcblxuZnVuY3Rpb24gQ29udHJvbHMoKSB7XG4gIGNvbnN0IFt0ZXh0LCBzZXRUZXh0XSA9IHVzZVN0YXRlKCcnKVxuICBjb25zdCB7IGFkZFRvZG8gfSA9IHVzZUF0b21JbnN0YW5jZSh0b2RvTGlzdEF0b20pLmV4cG9ydHNcbiAgY29uc3QgeyByZXNldCB9ID0gdXNlQXRvbUluc3RhbmNlKHJlc2V0QXRvbSkuZXhwb3J0c1xuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxpbnB1dCBvbkNoYW5nZT17ZXZlbnQgPT4gc2V0VGV4dChldmVudC50YXJnZXQudmFsdWUpfSB2YWx1ZT17dGV4dH0gLz5cbiAgICAgIDxidXR0b25cbiAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgIGFkZFRvZG8odGV4dClcbiAgICAgICAgICBzZXRUZXh0KCcnKVxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICArIEFkZCBUb2RvXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxidXR0b24gb25DbGljaz17cmVzZXR9PlJlc2V0PC9idXR0b24+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZnVuY3Rpb24gVG9kb0xpc3QoKSB7XG4gIGNvbnN0IHRvZG9zID0gdXNlQXRvbVZhbHVlKHRvZG9MaXN0QXRvbSlcblxuICByZXR1cm4gKFxuICAgIDx1bD5cbiAgICAgIHt0b2Rvcy5tYXAodG9kbyA9PiAoXG4gICAgICAgIDxsaSBrZXk9e3RvZG99Pnt0b2RvfTwvbGk+XG4gICAgICApKX1cbiAgICA8L3VsPlxuICApXG59XG5cbmZ1bmN0aW9uIFRvZG9zKCkge1xuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8VG9kb0xpc3QgLz5cbiAgICAgIDxDb250cm9scyAvPlxuICAgIDwvPlxuICApXG59XG5gfTwvY29kZT48L3ByZT5cbiAgICA8aDIgey4uLntcbiAgICAgIFwiaWRcIjogXCJlY29zeXN0ZW0tcmVzZXRzXCJcbiAgICB9fT57YEVjb3N5c3RlbSBSZXNldHNgfTwvaDI+XG4gICAgPHA+e2BUbyBzdXJnaWNhbGx5IHJlc2V0IHRoZSBzdGF0ZSBvZiBldmVyeSBhdG9tIGluc3RhbmNlIGluIHRoZSBlY29zeXN0ZW0sIHlvdSdkIGhhdmUgdG8gZm9sbG93IG9uZSBvZiB0aGUgYWJvdmUgYXBwcm9hY2hlcy4gQnV0IGZvciBhIGJhc2ljIGdsb2JhbCByZXNldCwgeW91IGNhbiB1c2UgYH08YSBwYXJlbnROYW1lPVwicFwiIHsuLi57XG4gICAgICAgIFwiaHJlZlwiOiBcIi4uL2FwaS9jbGFzc2VzL0Vjb3N5c3RlbSNyZXNldFwiXG4gICAgICB9fT48aW5saW5lQ29kZSBwYXJlbnROYW1lPVwiYVwiPntgZWNvc3lzdGVtLnJlc2V0KClgfTwvaW5saW5lQ29kZT48L2E+e2AuYH08L3A+XG4gICAgPHA+e2BBIHNpbmdsZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BlY29zeXN0ZW0ucmVzZXQoKWB9PC9pbmxpbmVDb2RlPntgIGNhbGwgd2lsbDpgfTwvcD5cbiAgICA8dWw+XG4gICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+e2BGb3JjZS1kZXN0cm95IGV2ZXJ5IGF0b20gaW5zdGFuY2UgYW5kIGNhY2hlZCBhdG9tIHNlbGVjdG9yIGluIHRoZSBlY29zeXN0ZW0uYH08L2xpPlxuICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPntgUnVuIHRoZSBwcmV2aW91cyBgfTxhIHBhcmVudE5hbWU9XCJsaVwiIHsuLi57XG4gICAgICAgICAgXCJocmVmXCI6IFwiLi4vYXBpL3R5cGVzL0Vjb3N5c3RlbUNvbmZpZyNvbnJlYWR5XCJcbiAgICAgICAgfX0+PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImFcIj57YG9uUmVhZHlgfTwvaW5saW5lQ29kZT57YCBmdW5jdGlvbmB9PC9hPntgJ3MgY2xlYW51cCBmdW5jdGlvbiAoaWYgYW55KS5gfTwvbGk+XG4gICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+e2BSZXJ1biB0aGUgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwibGlcIj57YG9uUmVhZHlgfTwvaW5saW5lQ29kZT57YCBmdW5jdGlvbiAoaWYgYW55KS5gfTwvbGk+XG4gICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+e2BBbGxvdyBhbGwgZXh0ZXJuYWwgZGVwZW5kZW50cyAoZS5nLiBSZWFjdCBjb21wb25lbnRzKSB0byByZWNyZWF0ZSB0aGVpciBkZXBlbmRlbmNpZXMuIFRoZXNlIGFyZSB0aGUgXCJsZWFmIG5vZGVzXCIgb2YgdGhlIGdyYXBoLmB9PC9saT5cbiAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj57YFRoZSBsZWFmIG5vZGVzIHdpbGwgcmVjcmVhdGUgdGhlaXIgb3duIGRlcGVuZGVuY2llcyBhbmQgc28gb24gdXAgdGhlIGdyYXBoIHRyZWUuYH08L2xpPlxuICAgIDwvdWw+XG4gICAgPHA+e2BUaGUgZmluYWwgcmVzdWx0IHNob3VsZCBjb250YWluIGV2ZXJ5IG5vbi1zdGFsZSBhdG9tIGluc3RhbmNlIGFuZCBldmVyeSBjYWNoZWQgc2VsZWN0b3IgdGhhdCBleGlzdGVkIGJlZm9yZSB0aGUgcmVzZXQsIGJ1dCBvZiBjb3Vyc2UgYXMgZnJlc2hseSBpbml0aWFsaXplZCBuZXcgcmVmZXJlbmNlcy5gfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzeFwiLFxuICAgICAgICBcIm1ldGFzdHJpbmdcIjogXCJsaXZlIGVjb3N5c3RlbUlkPXJlc2V0cy9lY29zeXN0ZW0tcmVzZXRzIHJlc3VsdFZhcj1Ub2Rvc1wiLFxuICAgICAgICBcImxpdmVcIjogdHJ1ZSxcbiAgICAgICAgXCJlY29zeXN0ZW1JZFwiOiBcInJlc2V0cy9lY29zeXN0ZW0tcmVzZXRzXCIsXG4gICAgICAgIFwicmVzdWx0VmFyXCI6IFwiVG9kb3NcIlxuICAgICAgfX0+e2Bjb25zdCB0b2RvTGlzdEF0b20gPSBhdG9tKCd0b2RvTGlzdCcsICgpID0+IHtcbiAgY29uc3Qgc3RvcmUgPSBpbmplY3RTdG9yZTxzdHJpbmdbXT4oW10pXG5cbiAgY29uc3QgYWRkVG9kbyA9ICh0ZXh0OiBzdHJpbmcpID0+XG4gICAgc3RvcmUuc2V0U3RhdGUoc3RhdGUgPT4gQXJyYXkuZnJvbShuZXcgU2V0KFsuLi5zdGF0ZSwgdGV4dF0pKSlcblxuICByZXR1cm4gYXBpKHN0b3JlKS5zZXRFeHBvcnRzKHsgYWRkVG9kbyB9KVxufSlcblxuZnVuY3Rpb24gQ29udHJvbHMoKSB7XG4gIGNvbnN0IFt0ZXh0LCBzZXRUZXh0XSA9IHVzZVN0YXRlKCcnKVxuICBjb25zdCB7IGFkZFRvZG8gfSA9IHVzZUF0b21JbnN0YW5jZSh0b2RvTGlzdEF0b20pLmV4cG9ydHNcbiAgLy8ganVzdCBncmFiIHRoZSBlY29zeXN0ZW06XG4gIGNvbnN0IGVjb3N5c3RlbSA9IHVzZUVjb3N5c3RlbSgpXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPGlucHV0IG9uQ2hhbmdlPXtldmVudCA9PiBzZXRUZXh0KGV2ZW50LnRhcmdldC52YWx1ZSl9IHZhbHVlPXt0ZXh0fSAvPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgYWRkVG9kbyh0ZXh0KVxuICAgICAgICAgIHNldFRleHQoJycpXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgICsgQWRkIFRvZG9cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBlY29zeXN0ZW0ucmVzZXQoKX0+UmVzZXQ8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5mdW5jdGlvbiBUb2RvTGlzdCgpIHtcbiAgY29uc3QgdG9kb3MgPSB1c2VBdG9tVmFsdWUodG9kb0xpc3RBdG9tKVxuXG4gIHJldHVybiAoXG4gICAgPHVsPlxuICAgICAge3RvZG9zLm1hcCh0b2RvID0+IChcbiAgICAgICAgPGxpIGtleT17dG9kb30+e3RvZG99PC9saT5cbiAgICAgICkpfVxuICAgIDwvdWw+XG4gIClcbn1cblxuZnVuY3Rpb24gVG9kb3MoKSB7XG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxUb2RvTGlzdCAvPlxuICAgICAgPENvbnRyb2xzIC8+XG4gICAgPC8+XG4gIClcbn1cbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxwPntgVGhlIGVjb3N5c3RlbSBjYW4gYmUgcmVzZXQgYW55d2hlcmUgLSB3aGV0aGVyIGFib3ZlIG9yIGJlbG93IGFuIGB9PGEgcGFyZW50TmFtZT1cInBcIiB7Li4ue1xuICAgICAgICBcImhyZWZcIjogXCIuLi9hcGkvY29tcG9uZW50cy9FY29zeXN0ZW1Qcm92aWRlclwiXG4gICAgICB9fT48aW5saW5lQ29kZSBwYXJlbnROYW1lPVwiYVwiPntgRWNvc3lzdGVtUHJvdmlkZXJgfTwvaW5saW5lQ29kZT48L2E+e2Agb3IgY29tcGxldGVseSBvdXRzaWRlIFJlYWN0LmB9PC9wPlxuICAgIDxhZG1vbml0aW9uIHsuLi57XG4gICAgICBcInR5cGVcIjogXCJ0aXBcIlxuICAgIH19PjxwIHBhcmVudE5hbWU9XCJhZG1vbml0aW9uXCI+e2BXaGlsZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BlY29zeXN0ZW0ucmVzZXQoKWB9PC9pbmxpbmVDb2RlPntgIGlzIGluY3JlZGlibHkgZWZmZWN0aXZlLCB5b3UgcHJvYmFibHkgd29uJ3QgZmluZCB5b3Vyc2VsZiB1c2luZyBpdCBpbiBtb3N0IGFwcHMuIEFuIGFwcHJvYWNoIGxpa2UgdGhlIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGluamVjdFJlc2V0KClgfTwvaW5saW5lQ29kZT57YCBleGFtcGxlIGFkZHMgbW9yZSBib2lsZXJwbGF0ZSwgYnV0IGlzIG1vcmUgcG93ZXJmdWwuYH08L3A+PC9hZG1vbml0aW9uPlxuICAgIDxoMiB7Li4ue1xuICAgICAgXCJpZFwiOiBcInJlY2FwXCJcbiAgICB9fT57YFJlY2FwYH08L2gyPlxuICAgIDx1bD5cbiAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj57YFVzZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgaW5zdGFuY2UuaW52YWxpZGF0ZSgpYH08L2lubGluZUNvZGU+e2AgdG8gXCJyZXNldFwiIGF0b21zIHRoYXQgZG9uJ3QgdXNlIHN0b3JlcyBpbiB0aGVpciBzdGF0ZSBmYWN0b3J5LmB9PC9saT5cbiAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj57YFVzZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgaW5zdGFuY2UuZGVzdHJveSh0cnVlKWB9PC9pbmxpbmVDb2RlPntgIHRvIFwicmVzZXRcIiBhbnkgYXRvbSBieSBmdWxseSBkZXN0cm95aW5nIGFuZCByZWNyZWF0aW5nIGl0LmB9PC9saT5cbiAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj57YFVzZSBhdG9tIGV4cG9ydHMgdG8gZ2FpbiBtb3JlIGNvbnRyb2wgb3ZlciBwcmVjaXNlbHkgd2hhdCBpcyByZXNldC5gfTwvbGk+XG4gICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+e2BIb29rIGludG8gYW5vdGhlciBhdG9tIG9yIGV4dGVybmFsIHN0cmVhbSBmb3IgdGhlIG1vc3QgY29udHJvbC5gfTwvbGk+XG4gICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+e2BSZXNldCBhbiBlbnRpcmUgZWNvc3lzdGVtIHdpdGggYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwibGlcIj57YGVjb3N5c3RlbS5yZXNldCgpYH08L2lubGluZUNvZGU+PC9saT5cbiAgICA8L3VsPlxuICAgIDxoMiB7Li4ue1xuICAgICAgXCJpZFwiOiBcIm5leHQtc3RlcHNcIlxuICAgIH19PntgTmV4dCBTdGVwc2B9PC9oMj5cbiAgICA8cD57YFRoZXJlIHJlbWFpbnMgYnV0IGB9PGEgcGFyZW50TmFtZT1cInBcIiB7Li4ue1xuICAgICAgICBcImhyZWZcIjogXCJzdGF0ZS1tYWNoaW5lc1wiXG4gICAgICB9fT57YG9uZSBzb2xpdGFyeSBjb25jZXB0YH08L2E+e2AgdG8gbWFzdGVyIGVyZSB0aG91IGJlIGNyb3duZWQga2luZyBvZiB0aGUgc3RhdGUuIEZvciBub3cuYH08L3A+XG4gICAgPC9NRFhMYXlvdXQ+O1xufVxuO1xuTURYQ29udGVudC5pc01EWENvbXBvbmVudCA9IHRydWU7XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJtZHgiLCJmcm9udE1hdHRlciIsImlkIiwidGl0bGUiLCJjb250ZW50VGl0bGUiLCJ1bmRlZmluZWQiLCJtZXRhZGF0YSIsImFzc2V0cyIsInRvYyIsInZhbHVlIiwibGV2ZWwiLCJsYXlvdXRQcm9wcyIsIk1EWExheW91dCIsIk1EWENvbnRlbnQiLCJjb21wb25lbnRzIiwicHJvcHMiLCJpc01EWENvbXBvbmVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7470\n')}}]);