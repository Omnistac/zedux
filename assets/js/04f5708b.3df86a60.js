"use strict";(self.webpackChunkzedux_docs=self.webpackChunkzedux_docs||[]).push([[9862],{3905:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Zo": function() { return /* binding */ MDXProvider; },\n/* harmony export */   "kt": function() { return /* binding */ createElement; }\n/* harmony export */ });\n/* unused harmony exports MDXContext, useMDXComponents, withMDXComponents */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7294);\n\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar isFunction = function isFunction(obj) {\n  return typeof obj === \'function\';\n};\n\nvar MDXContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createContext({});\nvar withMDXComponents = function withMDXComponents(Component) {\n  return function (props) {\n    var allComponents = useMDXComponents(props.components);\n    return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n      components: allComponents\n    }));\n  };\n};\nvar useMDXComponents = function useMDXComponents(components) {\n  var contextComponents = react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);\n  var allComponents = contextComponents;\n\n  if (components) {\n    allComponents = isFunction(components) ? components(contextComponents) : _objectSpread2(_objectSpread2({}, contextComponents), components);\n  }\n\n  return allComponents;\n};\nvar MDXProvider = function MDXProvider(props) {\n  var allComponents = useMDXComponents(props.components);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider, {\n    value: allComponents\n  }, props.children);\n};\n\nvar TYPE_PROP_NAME = \'mdxType\';\nvar DEFAULTS = {\n  inlineCode: \'code\',\n  wrapper: function wrapper(_ref) {\n    var children = _ref.children;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, children);\n  }\n};\nvar MDXCreateElement = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {\n  var propComponents = props.components,\n      mdxType = props.mdxType,\n      originalType = props.originalType,\n      parentName = props.parentName,\n      etc = _objectWithoutProperties(props, ["components", "mdxType", "originalType", "parentName"]);\n\n  var components = useMDXComponents(propComponents);\n  var type = mdxType;\n  var Component = components["".concat(parentName, ".").concat(type)] || components[type] || DEFAULTS[type] || originalType;\n\n  if (propComponents) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, _objectSpread2(_objectSpread2({\n      ref: ref\n    }, etc), {}, {\n      components: propComponents\n    }));\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, _objectSpread2({\n    ref: ref\n  }, etc));\n});\nMDXCreateElement.displayName = \'MDXCreateElement\';\nfunction createElement (type, props) {\n  var args = arguments;\n  var mdxType = props && props.mdxType;\n\n  if (typeof type === \'string\' || mdxType) {\n    var argsLength = args.length;\n    var createElementArgArray = new Array(argsLength);\n    createElementArgArray[0] = MDXCreateElement;\n    var newProps = {};\n\n    for (var key in props) {\n      if (hasOwnProperty.call(props, key)) {\n        newProps[key] = props[key];\n      }\n    }\n\n    newProps.originalType = type;\n    newProps[TYPE_PROP_NAME] = typeof type === \'string\' ? type : mdxType;\n    createElementArgArray[1] = newProps;\n\n    for (var i = 2; i < argsLength; i++) {\n      createElementArgArray[i] = args[i];\n    }\n\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement.apply(null, createElementArgArray);\n  }\n\n  return react__WEBPACK_IMPORTED_MODULE_0__.createElement.apply(null, args);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzkwNS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMEI7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGNBQWMsdUJBQXVCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLGdCQUFnQiw2QkFBNkI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDhCQUE4QixnREFBbUIsR0FBRztBQUNwRDtBQUNBO0FBQ0E7QUFDQSxrRUFBa0U7QUFDbEU7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDZDQUFnQjtBQUMxQzs7QUFFQTtBQUNBLDZHQUE2RztBQUM3Rzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnREFBbUI7QUFDekM7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnREFBbUIsQ0FBQywyQ0FBYyxJQUFJO0FBQzlEO0FBQ0E7QUFDQSxvQ0FBb0MsNkNBQWdCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLGdEQUFtQjtBQUMzQztBQUNBLEtBQUssVUFBVTtBQUNmO0FBQ0EsS0FBSztBQUNMOztBQUVBLHNCQUFzQixnREFBbUI7QUFDekM7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLGdCQUFnQjtBQUNwQztBQUNBOztBQUVBLFdBQVcsc0RBQXlCO0FBQ3BDOztBQUVBLFNBQVMsc0RBQXlCO0FBQ2xDOztBQUU4RiIsInNvdXJjZXMiOlsid2VicGFjazovL3plZHV4LWRvY3MvLi9ub2RlX21vZHVsZXMvQG1keC1qcy9yZWFjdC9kaXN0L2VzbS5qcz8wY2M1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7XG4gICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xuICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XG4gICAgfSk7XG4gICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpO1xuICB9XG5cbiAgcmV0dXJuIGtleXM7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQyKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuXG4gICAgaWYgKGkgJSAyKSB7XG4gICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG5cbiAgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpO1xuXG4gIHZhciBrZXksIGk7XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldO1xuICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7XG4gICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbnZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbic7XG59O1xuXG52YXIgTURYQ29udGV4dCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVDb250ZXh0KHt9KTtcbnZhciB3aXRoTURYQ29tcG9uZW50cyA9IGZ1bmN0aW9uIHdpdGhNRFhDb21wb25lbnRzKENvbXBvbmVudCkge1xuICByZXR1cm4gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIGFsbENvbXBvbmVudHMgPSB1c2VNRFhDb21wb25lbnRzKHByb3BzLmNvbXBvbmVudHMpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgY29tcG9uZW50czogYWxsQ29tcG9uZW50c1xuICAgIH0pKTtcbiAgfTtcbn07XG52YXIgdXNlTURYQ29tcG9uZW50cyA9IGZ1bmN0aW9uIHVzZU1EWENvbXBvbmVudHMoY29tcG9uZW50cykge1xuICB2YXIgY29udGV4dENvbXBvbmVudHMgPSBSZWFjdC51c2VDb250ZXh0KE1EWENvbnRleHQpO1xuICB2YXIgYWxsQ29tcG9uZW50cyA9IGNvbnRleHRDb21wb25lbnRzO1xuXG4gIGlmIChjb21wb25lbnRzKSB7XG4gICAgYWxsQ29tcG9uZW50cyA9IGlzRnVuY3Rpb24oY29tcG9uZW50cykgPyBjb21wb25lbnRzKGNvbnRleHRDb21wb25lbnRzKSA6IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBjb250ZXh0Q29tcG9uZW50cyksIGNvbXBvbmVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGFsbENvbXBvbmVudHM7XG59O1xudmFyIE1EWFByb3ZpZGVyID0gZnVuY3Rpb24gTURYUHJvdmlkZXIocHJvcHMpIHtcbiAgdmFyIGFsbENvbXBvbmVudHMgPSB1c2VNRFhDb21wb25lbnRzKHByb3BzLmNvbXBvbmVudHMpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTURYQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBhbGxDb21wb25lbnRzXG4gIH0sIHByb3BzLmNoaWxkcmVuKTtcbn07XG5cbnZhciBUWVBFX1BST1BfTkFNRSA9ICdtZHhUeXBlJztcbnZhciBERUZBVUxUUyA9IHtcbiAgaW5saW5lQ29kZTogJ2NvZGUnLFxuICB3cmFwcGVyOiBmdW5jdGlvbiB3cmFwcGVyKF9yZWYpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwge30sIGNoaWxkcmVuKTtcbiAgfVxufTtcbnZhciBNRFhDcmVhdGVFbGVtZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHByb3BDb21wb25lbnRzID0gcHJvcHMuY29tcG9uZW50cyxcbiAgICAgIG1keFR5cGUgPSBwcm9wcy5tZHhUeXBlLFxuICAgICAgb3JpZ2luYWxUeXBlID0gcHJvcHMub3JpZ2luYWxUeXBlLFxuICAgICAgcGFyZW50TmFtZSA9IHByb3BzLnBhcmVudE5hbWUsXG4gICAgICBldGMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMocHJvcHMsIFtcImNvbXBvbmVudHNcIiwgXCJtZHhUeXBlXCIsIFwib3JpZ2luYWxUeXBlXCIsIFwicGFyZW50TmFtZVwiXSk7XG5cbiAgdmFyIGNvbXBvbmVudHMgPSB1c2VNRFhDb21wb25lbnRzKHByb3BDb21wb25lbnRzKTtcbiAgdmFyIHR5cGUgPSBtZHhUeXBlO1xuICB2YXIgQ29tcG9uZW50ID0gY29tcG9uZW50c1tcIlwiLmNvbmNhdChwYXJlbnROYW1lLCBcIi5cIikuY29uY2F0KHR5cGUpXSB8fCBjb21wb25lbnRzW3R5cGVdIHx8IERFRkFVTFRTW3R5cGVdIHx8IG9yaWdpbmFsVHlwZTtcblxuICBpZiAocHJvcENvbXBvbmVudHMpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7XG4gICAgICByZWY6IHJlZlxuICAgIH0sIGV0YyksIHt9LCB7XG4gICAgICBjb21wb25lbnRzOiBwcm9wQ29tcG9uZW50c1xuICAgIH0pKTtcbiAgfVxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIF9vYmplY3RTcHJlYWQyKHtcbiAgICByZWY6IHJlZlxuICB9LCBldGMpKTtcbn0pO1xuTURYQ3JlYXRlRWxlbWVudC5kaXNwbGF5TmFtZSA9ICdNRFhDcmVhdGVFbGVtZW50JztcbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQgKHR5cGUsIHByb3BzKSB7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICB2YXIgbWR4VHlwZSA9IHByb3BzICYmIHByb3BzLm1keFR5cGU7XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCBtZHhUeXBlKSB7XG4gICAgdmFyIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aDtcbiAgICB2YXIgY3JlYXRlRWxlbWVudEFyZ0FycmF5ID0gbmV3IEFycmF5KGFyZ3NMZW5ndGgpO1xuICAgIGNyZWF0ZUVsZW1lbnRBcmdBcnJheVswXSA9IE1EWENyZWF0ZUVsZW1lbnQ7XG4gICAgdmFyIG5ld1Byb3BzID0ge307XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCBrZXkpKSB7XG4gICAgICAgIG5ld1Byb3BzW2tleV0gPSBwcm9wc1trZXldO1xuICAgICAgfVxuICAgIH1cblxuICAgIG5ld1Byb3BzLm9yaWdpbmFsVHlwZSA9IHR5cGU7XG4gICAgbmV3UHJvcHNbVFlQRV9QUk9QX05BTUVdID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZSA6IG1keFR5cGU7XG4gICAgY3JlYXRlRWxlbWVudEFyZ0FycmF5WzFdID0gbmV3UHJvcHM7XG5cbiAgICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3NMZW5ndGg7IGkrKykge1xuICAgICAgY3JlYXRlRWxlbWVudEFyZ0FycmF5W2ldID0gYXJnc1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudC5hcHBseShudWxsLCBjcmVhdGVFbGVtZW50QXJnQXJyYXkpO1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQuYXBwbHkobnVsbCwgYXJncyk7XG59XG5cbmV4cG9ydCB7IE1EWENvbnRleHQsIE1EWFByb3ZpZGVyLCBjcmVhdGVFbGVtZW50IGFzIG1keCwgdXNlTURYQ29tcG9uZW50cywgd2l0aE1EWENvbXBvbmVudHMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3905\n')},23:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "assets": function() { return /* binding */ assets; },\n/* harmony export */   "contentTitle": function() { return /* binding */ contentTitle; },\n/* harmony export */   "default": function() { return /* binding */ MDXContent; },\n/* harmony export */   "frontMatter": function() { return /* binding */ frontMatter; },\n/* harmony export */   "metadata": function() { return /* binding */ metadata; },\n/* harmony export */   "toc": function() { return /* binding */ toc; }\n/* harmony export */ });\n/* harmony import */ var _Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7462);\n/* harmony import */ var _Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_objectWithoutPropertiesLoose_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3366);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7294);\n/* harmony import */ var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3905);\nvar _excluded=["components"];/* @jsxRuntime classic */ /* @jsx mdx */ /* @jsxFrag React.Fragment */var frontMatter={id:\'side-effects\',title:\'Side Effects\'};var contentTitle=undefined;var metadata={"unversionedId":"walkthrough/side-effects","id":"walkthrough/side-effects","title":"Side Effects","description":"Zedux doesn\'t place any restrictions on how you manage asynchronous code. You can use promises, observables, sockets, generators, or any third-party library.","source":"@site/docs/walkthrough/side-effects.mdx","sourceDirName":"walkthrough","slug":"/walkthrough/side-effects","permalink":"/zedux/docs/walkthrough/side-effects","draft":false,"editUrl":"https://github.com/Omnistac/zedux/tree/master/docs/walkthrough/side-effects.mdx","tags":[],"version":"current","frontMatter":{"id":"side-effects","title":"Side Effects"},"sidebar":"react","previous":{"title":"Stores","permalink":"/zedux/docs/walkthrough/stores"},"next":{"title":"Custom Injectors","permalink":"/zedux/docs/walkthrough/custom-injectors"}};var assets={};var toc=[{value:\'Render As You Fetch\',id:\'render-as-you-fetch\',level:2},{value:\'<code>Syncing State</code>\',id:\'syncing-state\',level:2},{value:\'<code>injectWhy()</code>\',id:\'injectwhy\',level:2},{value:\'Effects Subscribers\',id:\'effects-subscribers\',level:2},{value:\'WhenBuilder\',id:\'whenbuilder\',level:2},{value:\'<code>.receivesAction()</code>\',id:\'receivesaction\',level:3},{value:\'<code>.setState()</code>\',id:\'setstate\',level:4},{value:\'<code>.stateChanges()</code>\',id:\'statechanges\',level:3},{value:\'<code>.stateMatches()</code>\',id:\'statematches\',level:3},{value:\'Chaining\',id:\'chaining\',level:3},{value:\'Cleanup\',id:\'cleanup\',level:3},{value:\'Odd-Looking Actions\',id:\'odd-looking-actions\',level:2},{value:\'Observables\',id:\'observables\',level:2},{value:\'Recap\',id:\'recap\',level:2},{value:\'Next Steps\',id:\'next-steps\',level:2}];var layoutProps={toc:toc};var MDXLayout="wrapper";function MDXContent(_ref){var components=_ref.components,props=(0,_Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_objectWithoutPropertiesLoose_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(_ref,_excluded);return (0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)(MDXLayout,(0,_Users_joshuaclaunch_code_oss_zedux_docs_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Zedux doesn\'t place any restrictions on how you manage asynchronous code. You can use promises, observables, sockets, generators, or any third-party library."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Zedux stores do not have middleware. Read more on that in the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"../about/redux-comparison"},"Redux comparison"),". There are many other ways to manage side effects that avoid hijacking control from the store like middleware does."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"We\'ve learned how to use ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"injectEffect")," to run side effects on state changes that cause atom reevaluations. We also learned in ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"stores"},"the stores walkthrough")," that stores can take effects subscribers. We\'ll learn all about those here."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("admonition",{"title":"you will learn","type":"tip"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("ul",{parentName:"admonition"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"That you may not need ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"injectEffect")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"How to use effects subscribers"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Some utilities for conditionally running side effects"))),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"render-as-you-fetch"},"Render As You Fetch"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Many of the best practices for managing side effects in React still apply with Zedux. If you\'ve been following the React community, you\'ve probably heard that ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"useEffect")," is not a great pattern for most side effects - it\'s prone to race conditions and some of its quirks are unintuitive. The same applies for ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"injectEffect"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"When React suspense came out, we learned about a new pattern called \\"render-as-you-fetch\\". This boils down to putting side effects in event handlers instead of ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"useEffect"),". That is boiling it pretty heavily, but let\'s see an example:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx"},"const userAtom = atom(\'user\', () => {\\n  const idStore = injectStore(1)\\n  const promiseRef = injectRef()\\n\\n  if (!promiseRef.current) {\\n    promiseRef.current = fetch(`/users/${idStore.getState()}`)\\n      .then(data => data.json())\\n  }\\n\\n  const setId = (newId: number) => {\\n    idStore.setState(newId)\\n    promiseRef.current = fetch(`/users/${newId}`).then(data => data.json())\\n  }\\n\\n  return api(idStore).setExports({ setId }).setPromise(promiseRef.current)\\n})\\n\\nfunction User() {\\n  const userData = useAtomValue(userAtom)\\n  const { setId } = useAtomInstance(userAtom).exports\\n  ...\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Rather than using ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"injectEffect")," to listen to a state update on ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"idStore"),", we kick off the request immediately, in the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"setId")," callback. The state update will cause the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"User")," component to rerender, and when it does it will suspend again."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"We\'ll learn more about suspense in ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"suspense"},"the suspense walkthrough"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("admonition",{"type":"tip"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",{parentName:"admonition"},"In general, side effects should be colocated with the state they manipulate. This is exactly what we do in React thanks to hooks and props. In Zedux, we can use injectors and exports.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"syncing-state"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h2"},"Syncing State")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"A key piece of managing side effects well is having as few of them as possible. Here\'s a common situation you might find yourself in:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Ions are often used as selectors with better memoization capabilities. As such, they often transform state from one shape to another. You might be tempted to use ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"injectEffect")," for this:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const sortUsers = list => [...list].sort((a, b) => a.name.localeCompare(b.name))\\n\\nconst sortedUsersAtom = ion(\'sortedUsers\', () => {\\n  const usersList = injectAtomValue(usersAtom)\\n  const store = injectStore(sortUsers(usersList))\\n\\n  injectEffect(() => {\\n    store.setState(sortUsers(usersList))\\n  }, [usersList])\\n\\n  return store\\n})\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"This works but has a few imperfections:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("ul",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"We set the initial state twice! Once on initial evaluation and once the first time the effect runs."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"We had to define the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"sort")," logic outside the ion so we can reuse it when setting the initial state and inside the effect."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"injectEffect")," runs the callback one tick later than the atom evaluation. This can be annoying to account for in tests."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"We call ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"sortUsers")," every time this ion evaluates and discard the result every time except on the first evaluation. This can be fixed by using the function overload of ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"injectStore"),", but that\'s much more verbose since it requires creating the store manually.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"The fix is simple: Remove ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"injectEffect"),"! Remember that you can call ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".setState()")," on local stores during atom evaluation without triggering another evaluation. Let\'s refactor:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const sortedUsersAtom = ion(\'sortedUsers\', () => {\\n  const usersList = injectAtomValue(usersAtom)\\n  const store = injectStore()\\n\\n  // highlight-next-line\\n  store.setState([...usersList].sort((a, b) => a.name.localeCompare(b.name)))\\n\\n  return store\\n})\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"This fixes every single problem. Zedux is very specifically designed to work like this. Take advantage of it!"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("admonition",{"type":"tip"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",{parentName:"admonition"},"While updating a locally injected store during evaluation is good, updating stores in other atom instances during evaluation is not recommended. This is because atom instances can be created during render, and React doesn\'t like it when components update while another component is rendering.")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"But now. We did introduce a new potential problem: What if we had other dependencies in this atom? We\'d be spreading and sorting the users list every single time this atom reevaluates as a result of any of those dependencies changing. Well. You won\'t believe this ... but Zedux actually has yet another superpower:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"injectwhy"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h2"},"injectWhy()")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"This little beast returns an array of ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"../api/types/EvaluationReason"},"reasons")," that tell you why the current atom is evaluating \\uD83E\\uDD2F. Yes. \\uD83E\\uDD2F."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"The list is empty on initial evaluation. After that, every reason in the list has a ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"sourceKey")," field that gives the unique key, if any, of the dependency that caused the update. We can use this to determine if the current evaluation is the initial evaluation or was caused by a specific dependency updating:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const sortedUsersAtom = ion(\'sortedUsers\', () => {\\n  // highlight-next-line\\n  const usersInstance = injectAtomInstance(usersAtom)\\n  const usersList = injectAtomValue(usersInstance)\\n  const store = injectStore()\\n  const reasons = injectWhy()\\n\\n  // only set state if this is the initial evaluation or this evaluation was at\\n  // least partially caused by usersInstance:\\n  // highlight-next-line\\n  if (\\n    !reasons.length ||\\n    reasons.some(reason => reason.sourceKey === usersInstance.keyHash)\\n  ) {\\n    store.setState([...usersList].sort((a, b) => a.name.localeCompare(b.name)))\\n  }\\n\\n  return store\\n})\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"We\'ll learn more about ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"injectWhy")," in ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"../advanced/dev-tools"},"the dev tools walkthrough"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"effects-subscribers"},"Effects Subscribers"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"In ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"stores"},"the stores walkthrough"),", we learned that stores can be given an effects subscriber:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"function App() {\\n  const { store } = useAtomInstance(myAtom)\\n\\n  useEffect(() => {\\n    const subscription = store.subscribe({\\n      effects: ({ action, newState, oldState }) => {\\n        console.log(\'running effect\', { action, newState, oldState })\\n      }\\n    })\\n\\n    return () => subscription.unsubscribe()\\n  }, [store])\\n  ...\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"See the full effect subscriber definition ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"/not-done"},"here"),". Effects subscribers are simple and powerful. But you shouldn\'t need to rig them up manually. Zedux exposes a high-level API that does this for you:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"whenbuilder"},"WhenBuilder"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"when()")," is a declarative and simple way to hook into stores. It has several methods for tying into certain events and status updates in stores."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"receivesaction"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h3"},".receivesAction()")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Calls an effect handler every time the store receives an action."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"import { useAtomInstance, when } from \'@zedux/react\'\\n\\nfunction App() {\\n  const { store } = useAtomInstance(myAtom)\\n\\n  useEffect(() => {\\n    // highlight-next-line\\n    const { subscription } = when(store).receivesAction(\\n      ({ action, newState, oldState }) => {\\n        console.log(\'store received action\', { action, newState, oldState })\\n      }\\n    )\\n\\n    return () => subscription.unsubscribe()\\n  }, [store])\\n  ...\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".receivesAction()")," can be given a specific ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"../api/types/ActionFactory"},"ActionFactory")," or action type:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"import { actionFactory, when } from \'@zedux/react\'\\n\\nconst login = actionFactory(\'login\')\\nwhen(myStore).receivesAction(login, doStuffOnLogin)\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"In this way, stores can easily be consumed as streams of actions."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h4",{"id":"setstate"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h4"},".setState()")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"When ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"store.setState()")," is called, Zedux translates that into a dispatch of the special ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"HYDRATE")," action. To listen to only this action, import the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"actionTypes")," object and use the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".HYDRATE")," property:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"import { actionTypes, when } from \'@zedux/react\'\\n\\nwhen(store).receivesAction(actionTypes.HYDRATE, handleSetState)\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"statechanges"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h3"},".stateChanges()")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Calls an effect handler every time the store\'s state changes in response to an action (which includes every time ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".setState()")," is called)."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"when(myStore).stateChanges(({ action, newState, oldState }) => {\\n  console.log(\'store state changed\', { action, newState, oldState })\\n})\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"statematches"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"h3"},".stateMatches()")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Calls an effect handler every time the store\'s state updates to match the passed predicate. Does not call the handler if the previous state also matched the predicate."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"const counterStore = createStore(null, 0)\\n\\nwhen(counterStore).stateMatches(\\n  num => num > 1,\\n  ({ newState, oldState }) => {\\n    console.log(\'triggered!\', { newState, oldState })\\n  }\\n)\\n\\ncounterStore.setState(1)\\ncounterStore.setState(2) // triggered! { newState: 2, oldState: 1 }\\ncounterStore.setState(3)\\ncounterStore.setState(0)\\ncounterStore.setState(4) // triggered! { newState: 4, oldState: 0 }\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"To perform a side effect on every action or every state change while the predicate is matched, regardless of previous state, use ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".receivesAction()")," or ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},".stateChanges()")," with a normal if statement:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"when(counterStore).receivesAction(({ newState, oldState }) => {\\n  if (newState > 1) {\\n    console.log(\'triggered!\', { newState, oldState })\\n  }\\n})\\n\\ncounterStore.setState(1)\\ncounterStore.setState(2) // triggered! { newState: 2, oldState: 1 }\\ncounterStore.setState(3) // triggered! { newState: 3, oldState: 2 }\\ncounterStore.setState(0)\\ncounterStore.setState(4) // triggered! { newState: 4, oldState: 0 }\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"chaining"},"Chaining"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Multiple handlers can be chained together."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"when(myStore).receivesAction(logAction).stateChanges(persistStateChange)\\n\\n// Or\\nconst whenMyStore = when(myStore)\\n\\nwhenMyStore.receivesAction(logAction)\\nwhenMyStore.stateChanges(persistStateChange)\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h3",{"id":"cleanup"},"Cleanup"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"As with all subscriptions, it\'s important to clean up effects subscribers when their context is destroyed (e.g. the component is unmounted or the atom instance is destroyed)."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"when()")," builders have a ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"subscription")," property, which is a reference to the store subscription created by the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"when()")," call. Remember to call ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"subscription.unsubscribe()")," in ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"useEffect")," and ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"injectEffect"),":"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-tsx","metastring":"live ecosystemId=side-effects/cleanup resultVar=Button","live":true,"ecosystemId":"side-effects/cleanup","resultVar":"Button"},"const triggerAlert = actionFactory(\'triggerAlert\')\\n\\nconst buttonPressAtom = atom(\'buttonPress\', () => {\\n  const store = injectStore()\\n\\n  injectEffect(() => {\\n    const { subscription } = when(store).receivesAction(triggerAlert, () =>\\n      alert(\'consider it done\')\\n    )\\n\\n    return () => subscription.unsubscribe()\\n  }, [store]) // don\'t have to pass store since it\'s a stable reference\\n\\n  return store\\n})\\n\\nfunction Button() {\\n  const { dispatch } = useAtomInstance(buttonPressAtom)\\n\\n  return <button onClick={() => dispatch(triggerAlert())}>Do It</button>\\n}\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"For the full API, see ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"/not-done"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"a"},"when()")),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"odd-looking-actions"},"Odd-Looking Actions"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Zedux\' store composition model works by making actions themselves composable objects called ActionChains. The ActionChain contains needed metadata for Zedux to perform its store composition magic. ActionChains consist of any number of \\"meta nodes\\" with the wrapped action being the last node in the chain."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"We\'ll go over the specifics of Zedux\' store composition model in ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"../advanced/time-travel"},"the time travel walkthrough"),". For now you just need to know that, depending on your store setup, you may see these ActionChain objects as the ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"action")," property in your effects handlers. Zedux doesn\'t unwrap the action because sometimes you will need to observe the metadata the action is wrapped in."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"If you don\'t care about the metadata, you can get the wrapped action with ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"removeAllMeta")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"import { removeAllMeta, when } from \'@zedux/react\'\\n\\nwhen(store).receivesAction(({ action }) => {\\n  const unwrappedAction = removeAllMeta(action)\\n\\n  switch (unwrappedAction.type) { ... }\\n})\\n\\nstore.subscribe((newState, oldState, actionChain) => {\\n  const action = removeAllMeta(actionChain)\\n})\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"observables"},"Observables"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Zedux stores are a type of observable. However, Zedux doesn\'t have any built-in helpers (currently) for integrating with observable libraries such as ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"https://github.com/ReactiveX/rxjs"},"RxJS"),". But Zedux\' extreme flexibility makes working with observables easy."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"For example, any atom\'s value can be an observable:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"import { atom } from \'@zedux/react\'\\nimport { of } from \'rxjs\'\\n\\nconst observableValue = atom(\'observableValue\', of(\'hello, world\'))\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"This can be useful for taking advantage of Zedux\' caching abilities to share observable references."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"You can export an observable from any atom:"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"import { api, atom, injectMemo } from \'@zedux/react\'\\nimport { from } from \'rxjs\'\\n\\nconst usersStreamAtom = atom(\'usersStream\', () => {\\n  const users$ = injectMemo(() => from(streamUsers()), [])\\n\\n  return api().setExports({\\n    users$,\\n  })\\n})\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Handling observable subscriptions is easy with ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"p"},"injectEffect()"),":"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("pre",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("code",{parentName:"pre","className":"language-ts"},"import { atom, injectAtomValue, injectEffect, injectStore } from \'@zedux/react\'\\n\\nconst userAtom = atom(\'user\', () => {\\n  const user$ = injectAtomValue(userStreamAtom)\\n  const store = injectStore(null)\\n\\n  injectEffect(() => {\\n    const subscription = user$.subscribe(val => store.setState(val))\\n\\n    return () => subscription.unsubscribe()\\n  }, [user$])\\n\\n  return store\\n})\\n")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"recap"},"Recap"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("ul",null,(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"injectEffect()")," is a simple tool for running side effects on changes that trigger atom reevaluation. It\'s also good for managing cleanup."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"BUT you may not need ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"injectEffect()"),"."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"when(store).receivesAction()")," runs a side effect on every action."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"when(store).stateChanges()")," runs a side effect on every state change."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"when(store).stateMatches()")," runs a side effect when the store\'s new state passes the predicate function, but the old state did not."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("inlineCode",{parentName:"li"},"when(store).subscription.unsubscribe()")," cleans up the subscription."),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("li",{parentName:"ul"},"Zedux can handle every possible asynchronous flow, e.g. RxJS streams, generators, promises, sockets, etc")),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("h2",{"id":"next-steps"},"Next Steps"),(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("p",null,"Let\'s take a closer look at using ",(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__/* .mdx */ .kt)("a",{parentName:"p","href":"custom-injectors"},"custom injectors")," to simplify managing side effects."));};MDXContent.isMDXComponent=true;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUksNkdBQWtILENBQ2xJLENBQ0wsbUVBQ0UsSUFBSSxDQUFFLFlBQVksZUFDRSxDQUN0QiwyR0FBeUMsa0VBQUcsVUFBVSxDQUFDLEdBQUcsQ0FDdEQsTUFBTSxDQUFFLGtCQUFrQixxQkFDRCx1Q0FBMkMsQ0FDNUQsQ0FDaEIsQ0FDQSxDQUNBRCxVQUFVLENBQUNHLGNBQWMsQ0FBRyxJQUFJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vemVkdXgtZG9jcy8uL2RvY3Mvd2Fsa3Rocm91Z2gvc2lkZS1lZmZlY3RzLm1keD9kOWFjIl0sInNvdXJjZXNDb250ZW50IjpbIlxuXG4vKiBAanN4UnVudGltZSBjbGFzc2ljICovXG4vKiBAanN4IG1keCAqL1xuLyogQGpzeEZyYWcgUmVhY3QuRnJhZ21lbnQgKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1keCB9IGZyb20gJ0BtZHgtanMvcmVhY3QnO1xuXG5cbmV4cG9ydCBjb25zdCBmcm9udE1hdHRlciA9IHtcblx0aWQ6ICdzaWRlLWVmZmVjdHMnLFxuXHR0aXRsZTogJ1NpZGUgRWZmZWN0cydcbn07XG5leHBvcnQgY29uc3QgY29udGVudFRpdGxlID0gdW5kZWZpbmVkO1xuZXhwb3J0IGNvbnN0IG1ldGFkYXRhID0ge1xuICBcInVudmVyc2lvbmVkSWRcIjogXCJ3YWxrdGhyb3VnaC9zaWRlLWVmZmVjdHNcIixcbiAgXCJpZFwiOiBcIndhbGt0aHJvdWdoL3NpZGUtZWZmZWN0c1wiLFxuICBcInRpdGxlXCI6IFwiU2lkZSBFZmZlY3RzXCIsXG4gIFwiZGVzY3JpcHRpb25cIjogXCJaZWR1eCBkb2Vzbid0IHBsYWNlIGFueSByZXN0cmljdGlvbnMgb24gaG93IHlvdSBtYW5hZ2UgYXN5bmNocm9ub3VzIGNvZGUuIFlvdSBjYW4gdXNlIHByb21pc2VzLCBvYnNlcnZhYmxlcywgc29ja2V0cywgZ2VuZXJhdG9ycywgb3IgYW55IHRoaXJkLXBhcnR5IGxpYnJhcnkuXCIsXG4gIFwic291cmNlXCI6IFwiQHNpdGUvZG9jcy93YWxrdGhyb3VnaC9zaWRlLWVmZmVjdHMubWR4XCIsXG4gIFwic291cmNlRGlyTmFtZVwiOiBcIndhbGt0aHJvdWdoXCIsXG4gIFwic2x1Z1wiOiBcIi93YWxrdGhyb3VnaC9zaWRlLWVmZmVjdHNcIixcbiAgXCJwZXJtYWxpbmtcIjogXCIvemVkdXgvZG9jcy93YWxrdGhyb3VnaC9zaWRlLWVmZmVjdHNcIixcbiAgXCJkcmFmdFwiOiBmYWxzZSxcbiAgXCJlZGl0VXJsXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL09tbmlzdGFjL3plZHV4L3RyZWUvbWFzdGVyL2RvY3Mvd2Fsa3Rocm91Z2gvc2lkZS1lZmZlY3RzLm1keFwiLFxuICBcInRhZ3NcIjogW10sXG4gIFwidmVyc2lvblwiOiBcImN1cnJlbnRcIixcbiAgXCJmcm9udE1hdHRlclwiOiB7XG4gICAgXCJpZFwiOiBcInNpZGUtZWZmZWN0c1wiLFxuICAgIFwidGl0bGVcIjogXCJTaWRlIEVmZmVjdHNcIlxuICB9LFxuICBcInNpZGViYXJcIjogXCJyZWFjdFwiLFxuICBcInByZXZpb3VzXCI6IHtcbiAgICBcInRpdGxlXCI6IFwiU3RvcmVzXCIsXG4gICAgXCJwZXJtYWxpbmtcIjogXCIvemVkdXgvZG9jcy93YWxrdGhyb3VnaC9zdG9yZXNcIlxuICB9LFxuICBcIm5leHRcIjoge1xuICAgIFwidGl0bGVcIjogXCJDdXN0b20gSW5qZWN0b3JzXCIsXG4gICAgXCJwZXJtYWxpbmtcIjogXCIvemVkdXgvZG9jcy93YWxrdGhyb3VnaC9jdXN0b20taW5qZWN0b3JzXCJcbiAgfVxufTtcbmV4cG9ydCBjb25zdCBhc3NldHMgPSB7XG5cbn07XG5cblxuZXhwb3J0IGNvbnN0IHRvYyA9IFt7XG4gIHZhbHVlOiAnUmVuZGVyIEFzIFlvdSBGZXRjaCcsXG4gIGlkOiAncmVuZGVyLWFzLXlvdS1mZXRjaCcsXG4gIGxldmVsOiAyXG59LCB7XG4gIHZhbHVlOiAnPGNvZGU+U3luY2luZyBTdGF0ZTwvY29kZT4nLFxuICBpZDogJ3N5bmNpbmctc3RhdGUnLFxuICBsZXZlbDogMlxufSwge1xuICB2YWx1ZTogJzxjb2RlPmluamVjdFdoeSgpPC9jb2RlPicsXG4gIGlkOiAnaW5qZWN0d2h5JyxcbiAgbGV2ZWw6IDJcbn0sIHtcbiAgdmFsdWU6ICdFZmZlY3RzIFN1YnNjcmliZXJzJyxcbiAgaWQ6ICdlZmZlY3RzLXN1YnNjcmliZXJzJyxcbiAgbGV2ZWw6IDJcbn0sIHtcbiAgdmFsdWU6ICdXaGVuQnVpbGRlcicsXG4gIGlkOiAnd2hlbmJ1aWxkZXInLFxuICBsZXZlbDogMlxufSwge1xuICB2YWx1ZTogJzxjb2RlPi5yZWNlaXZlc0FjdGlvbigpPC9jb2RlPicsXG4gIGlkOiAncmVjZWl2ZXNhY3Rpb24nLFxuICBsZXZlbDogM1xufSwge1xuICB2YWx1ZTogJzxjb2RlPi5zZXRTdGF0ZSgpPC9jb2RlPicsXG4gIGlkOiAnc2V0c3RhdGUnLFxuICBsZXZlbDogNFxufSwge1xuICB2YWx1ZTogJzxjb2RlPi5zdGF0ZUNoYW5nZXMoKTwvY29kZT4nLFxuICBpZDogJ3N0YXRlY2hhbmdlcycsXG4gIGxldmVsOiAzXG59LCB7XG4gIHZhbHVlOiAnPGNvZGU+LnN0YXRlTWF0Y2hlcygpPC9jb2RlPicsXG4gIGlkOiAnc3RhdGVtYXRjaGVzJyxcbiAgbGV2ZWw6IDNcbn0sIHtcbiAgdmFsdWU6ICdDaGFpbmluZycsXG4gIGlkOiAnY2hhaW5pbmcnLFxuICBsZXZlbDogM1xufSwge1xuICB2YWx1ZTogJ0NsZWFudXAnLFxuICBpZDogJ2NsZWFudXAnLFxuICBsZXZlbDogM1xufSwge1xuICB2YWx1ZTogJ09kZC1Mb29raW5nIEFjdGlvbnMnLFxuICBpZDogJ29kZC1sb29raW5nLWFjdGlvbnMnLFxuICBsZXZlbDogMlxufSwge1xuICB2YWx1ZTogJ09ic2VydmFibGVzJyxcbiAgaWQ6ICdvYnNlcnZhYmxlcycsXG4gIGxldmVsOiAyXG59LCB7XG4gIHZhbHVlOiAnUmVjYXAnLFxuICBpZDogJ3JlY2FwJyxcbiAgbGV2ZWw6IDJcbn0sIHtcbiAgdmFsdWU6ICdOZXh0IFN0ZXBzJyxcbiAgaWQ6ICduZXh0LXN0ZXBzJyxcbiAgbGV2ZWw6IDJcbn1dO1xuXG5jb25zdCBsYXlvdXRQcm9wcyA9IHtcbiAgdG9jXG59O1xuY29uc3QgTURYTGF5b3V0ID0gXCJ3cmFwcGVyXCJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1EWENvbnRlbnQoe1xuICBjb21wb25lbnRzLFxuICAuLi5wcm9wc1xufSkge1xuICByZXR1cm4gPE1EWExheW91dCB7Li4ubGF5b3V0UHJvcHN9IHsuLi5wcm9wc30gY29tcG9uZW50cz17Y29tcG9uZW50c30gbWR4VHlwZT1cIk1EWExheW91dFwiPlxuXG4gICAgPHA+e2BaZWR1eCBkb2Vzbid0IHBsYWNlIGFueSByZXN0cmljdGlvbnMgb24gaG93IHlvdSBtYW5hZ2UgYXN5bmNocm9ub3VzIGNvZGUuIFlvdSBjYW4gdXNlIHByb21pc2VzLCBvYnNlcnZhYmxlcywgc29ja2V0cywgZ2VuZXJhdG9ycywgb3IgYW55IHRoaXJkLXBhcnR5IGxpYnJhcnkuYH08L3A+XG4gICAgPHA+e2BaZWR1eCBzdG9yZXMgZG8gbm90IGhhdmUgbWlkZGxld2FyZS4gUmVhZCBtb3JlIG9uIHRoYXQgaW4gdGhlIGB9PGEgcGFyZW50TmFtZT1cInBcIiB7Li4ue1xuICAgICAgICBcImhyZWZcIjogXCIuLi9hYm91dC9yZWR1eC1jb21wYXJpc29uXCJcbiAgICAgIH19PntgUmVkdXggY29tcGFyaXNvbmB9PC9hPntgLiBUaGVyZSBhcmUgbWFueSBvdGhlciB3YXlzIHRvIG1hbmFnZSBzaWRlIGVmZmVjdHMgdGhhdCBhdm9pZCBoaWphY2tpbmcgY29udHJvbCBmcm9tIHRoZSBzdG9yZSBsaWtlIG1pZGRsZXdhcmUgZG9lcy5gfTwvcD5cbiAgICA8cD57YFdlJ3ZlIGxlYXJuZWQgaG93IHRvIHVzZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BpbmplY3RFZmZlY3RgfTwvaW5saW5lQ29kZT57YCB0byBydW4gc2lkZSBlZmZlY3RzIG9uIHN0YXRlIGNoYW5nZXMgdGhhdCBjYXVzZSBhdG9tIHJlZXZhbHVhdGlvbnMuIFdlIGFsc28gbGVhcm5lZCBpbiBgfTxhIHBhcmVudE5hbWU9XCJwXCIgey4uLntcbiAgICAgICAgXCJocmVmXCI6IFwic3RvcmVzXCJcbiAgICAgIH19PntgdGhlIHN0b3JlcyB3YWxrdGhyb3VnaGB9PC9hPntgIHRoYXQgc3RvcmVzIGNhbiB0YWtlIGVmZmVjdHMgc3Vic2NyaWJlcnMuIFdlJ2xsIGxlYXJuIGFsbCBhYm91dCB0aG9zZSBoZXJlLmB9PC9wPlxuICAgIDxhZG1vbml0aW9uIHsuLi57XG4gICAgICBcInRpdGxlXCI6IFwieW91IHdpbGwgbGVhcm5cIixcbiAgICAgIFwidHlwZVwiOiBcInRpcFwiXG4gICAgfX0+PHVsIHBhcmVudE5hbWU9XCJhZG1vbml0aW9uXCI+XG4gICAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj57YFRoYXQgeW91IG1heSBub3QgbmVlZCBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgaW5qZWN0RWZmZWN0YH08L2lubGluZUNvZGU+PC9saT5cbiAgICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPntgSG93IHRvIHVzZSBlZmZlY3RzIHN1YnNjcmliZXJzYH08L2xpPlxuICAgICAgICA8bGkgcGFyZW50TmFtZT1cInVsXCI+e2BTb21lIHV0aWxpdGllcyBmb3IgY29uZGl0aW9uYWxseSBydW5uaW5nIHNpZGUgZWZmZWN0c2B9PC9saT5cbiAgICAgIDwvdWw+PC9hZG1vbml0aW9uPlxuICAgIDxoMiB7Li4ue1xuICAgICAgXCJpZFwiOiBcInJlbmRlci1hcy15b3UtZmV0Y2hcIlxuICAgIH19PntgUmVuZGVyIEFzIFlvdSBGZXRjaGB9PC9oMj5cbiAgICA8cD57YE1hbnkgb2YgdGhlIGJlc3QgcHJhY3RpY2VzIGZvciBtYW5hZ2luZyBzaWRlIGVmZmVjdHMgaW4gUmVhY3Qgc3RpbGwgYXBwbHkgd2l0aCBaZWR1eC4gSWYgeW91J3ZlIGJlZW4gZm9sbG93aW5nIHRoZSBSZWFjdCBjb21tdW5pdHksIHlvdSd2ZSBwcm9iYWJseSBoZWFyZCB0aGF0IGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YHVzZUVmZmVjdGB9PC9pbmxpbmVDb2RlPntgIGlzIG5vdCBhIGdyZWF0IHBhdHRlcm4gZm9yIG1vc3Qgc2lkZSBlZmZlY3RzIC0gaXQncyBwcm9uZSB0byByYWNlIGNvbmRpdGlvbnMgYW5kIHNvbWUgb2YgaXRzIHF1aXJrcyBhcmUgdW5pbnR1aXRpdmUuIFRoZSBzYW1lIGFwcGxpZXMgZm9yIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGluamVjdEVmZmVjdGB9PC9pbmxpbmVDb2RlPntgLmB9PC9wPlxuICAgIDxwPntgV2hlbiBSZWFjdCBzdXNwZW5zZSBjYW1lIG91dCwgd2UgbGVhcm5lZCBhYm91dCBhIG5ldyBwYXR0ZXJuIGNhbGxlZCBcInJlbmRlci1hcy15b3UtZmV0Y2hcIi4gVGhpcyBib2lscyBkb3duIHRvIHB1dHRpbmcgc2lkZSBlZmZlY3RzIGluIGV2ZW50IGhhbmRsZXJzIGluc3RlYWQgb2YgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgdXNlRWZmZWN0YH08L2lubGluZUNvZGU+e2AuIFRoYXQgaXMgYm9pbGluZyBpdCBwcmV0dHkgaGVhdmlseSwgYnV0IGxldCdzIHNlZSBhbiBleGFtcGxlOmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHN4XCJcbiAgICAgIH19PntgY29uc3QgdXNlckF0b20gPSBhdG9tKCd1c2VyJywgKCkgPT4ge1xuICBjb25zdCBpZFN0b3JlID0gaW5qZWN0U3RvcmUoMSlcbiAgY29uc3QgcHJvbWlzZVJlZiA9IGluamVjdFJlZigpXG5cbiAgaWYgKCFwcm9taXNlUmVmLmN1cnJlbnQpIHtcbiAgICBwcm9taXNlUmVmLmN1cnJlbnQgPSBmZXRjaChcXGAvdXNlcnMvXFwke2lkU3RvcmUuZ2V0U3RhdGUoKX1cXGApXG4gICAgICAudGhlbihkYXRhID0+IGRhdGEuanNvbigpKVxuICB9XG5cbiAgY29uc3Qgc2V0SWQgPSAobmV3SWQ6IG51bWJlcikgPT4ge1xuICAgIGlkU3RvcmUuc2V0U3RhdGUobmV3SWQpXG4gICAgcHJvbWlzZVJlZi5jdXJyZW50ID0gZmV0Y2goXFxgL3VzZXJzL1xcJHtuZXdJZH1cXGApLnRoZW4oZGF0YSA9PiBkYXRhLmpzb24oKSlcbiAgfVxuXG4gIHJldHVybiBhcGkoaWRTdG9yZSkuc2V0RXhwb3J0cyh7IHNldElkIH0pLnNldFByb21pc2UocHJvbWlzZVJlZi5jdXJyZW50KVxufSlcblxuZnVuY3Rpb24gVXNlcigpIHtcbiAgY29uc3QgdXNlckRhdGEgPSB1c2VBdG9tVmFsdWUodXNlckF0b20pXG4gIGNvbnN0IHsgc2V0SWQgfSA9IHVzZUF0b21JbnN0YW5jZSh1c2VyQXRvbSkuZXhwb3J0c1xuICAuLi5cbn1cbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxwPntgUmF0aGVyIHRoYW4gdXNpbmcgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgaW5qZWN0RWZmZWN0YH08L2lubGluZUNvZGU+e2AgdG8gbGlzdGVuIHRvIGEgc3RhdGUgdXBkYXRlIG9uIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGlkU3RvcmVgfTwvaW5saW5lQ29kZT57YCwgd2Uga2ljayBvZmYgdGhlIHJlcXVlc3QgaW1tZWRpYXRlbHksIGluIHRoZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BzZXRJZGB9PC9pbmxpbmVDb2RlPntgIGNhbGxiYWNrLiBUaGUgc3RhdGUgdXBkYXRlIHdpbGwgY2F1c2UgdGhlIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YFVzZXJgfTwvaW5saW5lQ29kZT57YCBjb21wb25lbnQgdG8gcmVyZW5kZXIsIGFuZCB3aGVuIGl0IGRvZXMgaXQgd2lsbCBzdXNwZW5kIGFnYWluLmB9PC9wPlxuICAgIDxwPntgV2UnbGwgbGVhcm4gbW9yZSBhYm91dCBzdXNwZW5zZSBpbiBgfTxhIHBhcmVudE5hbWU9XCJwXCIgey4uLntcbiAgICAgICAgXCJocmVmXCI6IFwic3VzcGVuc2VcIlxuICAgICAgfX0+e2B0aGUgc3VzcGVuc2Ugd2Fsa3Rocm91Z2hgfTwvYT57YC5gfTwvcD5cbiAgICA8YWRtb25pdGlvbiB7Li4ue1xuICAgICAgXCJ0eXBlXCI6IFwidGlwXCJcbiAgICB9fT48cCBwYXJlbnROYW1lPVwiYWRtb25pdGlvblwiPntgSW4gZ2VuZXJhbCwgc2lkZSBlZmZlY3RzIHNob3VsZCBiZSBjb2xvY2F0ZWQgd2l0aCB0aGUgc3RhdGUgdGhleSBtYW5pcHVsYXRlLiBUaGlzIGlzIGV4YWN0bHkgd2hhdCB3ZSBkbyBpbiBSZWFjdCB0aGFua3MgdG8gaG9va3MgYW5kIHByb3BzLiBJbiBaZWR1eCwgd2UgY2FuIHVzZSBpbmplY3RvcnMgYW5kIGV4cG9ydHMuYH08L3A+PC9hZG1vbml0aW9uPlxuICAgIDxoMiB7Li4ue1xuICAgICAgXCJpZFwiOiBcInN5bmNpbmctc3RhdGVcIlxuICAgIH19PjxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJoMlwiPntgU3luY2luZyBTdGF0ZWB9PC9pbmxpbmVDb2RlPjwvaDI+XG4gICAgPHA+e2BBIGtleSBwaWVjZSBvZiBtYW5hZ2luZyBzaWRlIGVmZmVjdHMgd2VsbCBpcyBoYXZpbmcgYXMgZmV3IG9mIHRoZW0gYXMgcG9zc2libGUuIEhlcmUncyBhIGNvbW1vbiBzaXR1YXRpb24geW91IG1pZ2h0IGZpbmQgeW91cnNlbGYgaW46YH08L3A+XG4gICAgPHA+e2BJb25zIGFyZSBvZnRlbiB1c2VkIGFzIHNlbGVjdG9ycyB3aXRoIGJldHRlciBtZW1vaXphdGlvbiBjYXBhYmlsaXRpZXMuIEFzIHN1Y2gsIHRoZXkgb2Z0ZW4gdHJhbnNmb3JtIHN0YXRlIGZyb20gb25lIHNoYXBlIHRvIGFub3RoZXIuIFlvdSBtaWdodCBiZSB0ZW1wdGVkIHRvIHVzZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BpbmplY3RFZmZlY3RgfTwvaW5saW5lQ29kZT57YCBmb3IgdGhpczpgfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzXCJcbiAgICAgIH19PntgY29uc3Qgc29ydFVzZXJzID0gbGlzdCA9PiBbLi4ubGlzdF0uc29ydCgoYSwgYikgPT4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKSlcblxuY29uc3Qgc29ydGVkVXNlcnNBdG9tID0gaW9uKCdzb3J0ZWRVc2VycycsICgpID0+IHtcbiAgY29uc3QgdXNlcnNMaXN0ID0gaW5qZWN0QXRvbVZhbHVlKHVzZXJzQXRvbSlcbiAgY29uc3Qgc3RvcmUgPSBpbmplY3RTdG9yZShzb3J0VXNlcnModXNlcnNMaXN0KSlcblxuICBpbmplY3RFZmZlY3QoKCkgPT4ge1xuICAgIHN0b3JlLnNldFN0YXRlKHNvcnRVc2Vycyh1c2Vyc0xpc3QpKVxuICB9LCBbdXNlcnNMaXN0XSlcblxuICByZXR1cm4gc3RvcmVcbn0pXG5gfTwvY29kZT48L3ByZT5cbiAgICA8cD57YFRoaXMgd29ya3MgYnV0IGhhcyBhIGZldyBpbXBlcmZlY3Rpb25zOmB9PC9wPlxuICAgIDx1bD5cbiAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj57YFdlIHNldCB0aGUgaW5pdGlhbCBzdGF0ZSB0d2ljZSEgT25jZSBvbiBpbml0aWFsIGV2YWx1YXRpb24gYW5kIG9uY2UgdGhlIGZpcnN0IHRpbWUgdGhlIGVmZmVjdCBydW5zLmB9PC9saT5cbiAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj57YFdlIGhhZCB0byBkZWZpbmUgdGhlIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImxpXCI+e2Bzb3J0YH08L2lubGluZUNvZGU+e2AgbG9naWMgb3V0c2lkZSB0aGUgaW9uIHNvIHdlIGNhbiByZXVzZSBpdCB3aGVuIHNldHRpbmcgdGhlIGluaXRpYWwgc3RhdGUgYW5kIGluc2lkZSB0aGUgZWZmZWN0LmB9PC9saT5cbiAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj48aW5saW5lQ29kZSBwYXJlbnROYW1lPVwibGlcIj57YGluamVjdEVmZmVjdGB9PC9pbmxpbmVDb2RlPntgIHJ1bnMgdGhlIGNhbGxiYWNrIG9uZSB0aWNrIGxhdGVyIHRoYW4gdGhlIGF0b20gZXZhbHVhdGlvbi4gVGhpcyBjYW4gYmUgYW5ub3lpbmcgdG8gYWNjb3VudCBmb3IgaW4gdGVzdHMuYH08L2xpPlxuICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPntgV2UgY2FsbCBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgc29ydFVzZXJzYH08L2lubGluZUNvZGU+e2AgZXZlcnkgdGltZSB0aGlzIGlvbiBldmFsdWF0ZXMgYW5kIGRpc2NhcmQgdGhlIHJlc3VsdCBldmVyeSB0aW1lIGV4Y2VwdCBvbiB0aGUgZmlyc3QgZXZhbHVhdGlvbi4gVGhpcyBjYW4gYmUgZml4ZWQgYnkgdXNpbmcgdGhlIGZ1bmN0aW9uIG92ZXJsb2FkIG9mIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImxpXCI+e2BpbmplY3RTdG9yZWB9PC9pbmxpbmVDb2RlPntgLCBidXQgdGhhdCdzIG11Y2ggbW9yZSB2ZXJib3NlIHNpbmNlIGl0IHJlcXVpcmVzIGNyZWF0aW5nIHRoZSBzdG9yZSBtYW51YWxseS5gfTwvbGk+XG4gICAgPC91bD5cbiAgICA8cD57YFRoZSBmaXggaXMgc2ltcGxlOiBSZW1vdmUgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgaW5qZWN0RWZmZWN0YH08L2lubGluZUNvZGU+e2AhIFJlbWVtYmVyIHRoYXQgeW91IGNhbiBjYWxsIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YC5zZXRTdGF0ZSgpYH08L2lubGluZUNvZGU+e2Agb24gbG9jYWwgc3RvcmVzIGR1cmluZyBhdG9tIGV2YWx1YXRpb24gd2l0aG91dCB0cmlnZ2VyaW5nIGFub3RoZXIgZXZhbHVhdGlvbi4gTGV0J3MgcmVmYWN0b3I6YH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c1wiXG4gICAgICB9fT57YGNvbnN0IHNvcnRlZFVzZXJzQXRvbSA9IGlvbignc29ydGVkVXNlcnMnLCAoKSA9PiB7XG4gIGNvbnN0IHVzZXJzTGlzdCA9IGluamVjdEF0b21WYWx1ZSh1c2Vyc0F0b20pXG4gIGNvbnN0IHN0b3JlID0gaW5qZWN0U3RvcmUoKVxuXG4gIC8vIGhpZ2hsaWdodC1uZXh0LWxpbmVcbiAgc3RvcmUuc2V0U3RhdGUoWy4uLnVzZXJzTGlzdF0uc29ydCgoYSwgYikgPT4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKSkpXG5cbiAgcmV0dXJuIHN0b3JlXG59KVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPHA+e2BUaGlzIGZpeGVzIGV2ZXJ5IHNpbmdsZSBwcm9ibGVtLiBaZWR1eCBpcyB2ZXJ5IHNwZWNpZmljYWxseSBkZXNpZ25lZCB0byB3b3JrIGxpa2UgdGhpcy4gVGFrZSBhZHZhbnRhZ2Ugb2YgaXQhYH08L3A+XG4gICAgPGFkbW9uaXRpb24gey4uLntcbiAgICAgIFwidHlwZVwiOiBcInRpcFwiXG4gICAgfX0+PHAgcGFyZW50TmFtZT1cImFkbW9uaXRpb25cIj57YFdoaWxlIHVwZGF0aW5nIGEgbG9jYWxseSBpbmplY3RlZCBzdG9yZSBkdXJpbmcgZXZhbHVhdGlvbiBpcyBnb29kLCB1cGRhdGluZyBzdG9yZXMgaW4gb3RoZXIgYXRvbSBpbnN0YW5jZXMgZHVyaW5nIGV2YWx1YXRpb24gaXMgbm90IHJlY29tbWVuZGVkLiBUaGlzIGlzIGJlY2F1c2UgYXRvbSBpbnN0YW5jZXMgY2FuIGJlIGNyZWF0ZWQgZHVyaW5nIHJlbmRlciwgYW5kIFJlYWN0IGRvZXNuJ3QgbGlrZSBpdCB3aGVuIGNvbXBvbmVudHMgdXBkYXRlIHdoaWxlIGFub3RoZXIgY29tcG9uZW50IGlzIHJlbmRlcmluZy5gfTwvcD48L2FkbW9uaXRpb24+XG4gICAgPHA+e2BCdXQgbm93LiBXZSBkaWQgaW50cm9kdWNlIGEgbmV3IHBvdGVudGlhbCBwcm9ibGVtOiBXaGF0IGlmIHdlIGhhZCBvdGhlciBkZXBlbmRlbmNpZXMgaW4gdGhpcyBhdG9tPyBXZSdkIGJlIHNwcmVhZGluZyBhbmQgc29ydGluZyB0aGUgdXNlcnMgbGlzdCBldmVyeSBzaW5nbGUgdGltZSB0aGlzIGF0b20gcmVldmFsdWF0ZXMgYXMgYSByZXN1bHQgb2YgYW55IG9mIHRob3NlIGRlcGVuZGVuY2llcyBjaGFuZ2luZy4gV2VsbC4gWW91IHdvbid0IGJlbGlldmUgdGhpcyAuLi4gYnV0IFplZHV4IGFjdHVhbGx5IGhhcyB5ZXQgYW5vdGhlciBzdXBlcnBvd2VyOmB9PC9wPlxuICAgIDxoMiB7Li4ue1xuICAgICAgXCJpZFwiOiBcImluamVjdHdoeVwiXG4gICAgfX0+PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImgyXCI+e2BpbmplY3RXaHkoKWB9PC9pbmxpbmVDb2RlPjwvaDI+XG4gICAgPHA+e2BUaGlzIGxpdHRsZSBiZWFzdCByZXR1cm5zIGFuIGFycmF5IG9mIGB9PGEgcGFyZW50TmFtZT1cInBcIiB7Li4ue1xuICAgICAgICBcImhyZWZcIjogXCIuLi9hcGkvdHlwZXMvRXZhbHVhdGlvblJlYXNvblwiXG4gICAgICB9fT57YHJlYXNvbnNgfTwvYT57YCB0aGF0IHRlbGwgeW91IHdoeSB0aGUgY3VycmVudCBhdG9tIGlzIGV2YWx1YXRpbmcg8J+kry4gWWVzLiDwn6SvLmB9PC9wPlxuICAgIDxwPntgVGhlIGxpc3QgaXMgZW1wdHkgb24gaW5pdGlhbCBldmFsdWF0aW9uLiBBZnRlciB0aGF0LCBldmVyeSByZWFzb24gaW4gdGhlIGxpc3QgaGFzIGEgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgc291cmNlS2V5YH08L2lubGluZUNvZGU+e2AgZmllbGQgdGhhdCBnaXZlcyB0aGUgdW5pcXVlIGtleSwgaWYgYW55LCBvZiB0aGUgZGVwZW5kZW5jeSB0aGF0IGNhdXNlZCB0aGUgdXBkYXRlLiBXZSBjYW4gdXNlIHRoaXMgdG8gZGV0ZXJtaW5lIGlmIHRoZSBjdXJyZW50IGV2YWx1YXRpb24gaXMgdGhlIGluaXRpYWwgZXZhbHVhdGlvbiBvciB3YXMgY2F1c2VkIGJ5IGEgc3BlY2lmaWMgZGVwZW5kZW5jeSB1cGRhdGluZzpgfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzXCJcbiAgICAgIH19PntgY29uc3Qgc29ydGVkVXNlcnNBdG9tID0gaW9uKCdzb3J0ZWRVc2VycycsICgpID0+IHtcbiAgLy8gaGlnaGxpZ2h0LW5leHQtbGluZVxuICBjb25zdCB1c2Vyc0luc3RhbmNlID0gaW5qZWN0QXRvbUluc3RhbmNlKHVzZXJzQXRvbSlcbiAgY29uc3QgdXNlcnNMaXN0ID0gaW5qZWN0QXRvbVZhbHVlKHVzZXJzSW5zdGFuY2UpXG4gIGNvbnN0IHN0b3JlID0gaW5qZWN0U3RvcmUoKVxuICBjb25zdCByZWFzb25zID0gaW5qZWN0V2h5KClcblxuICAvLyBvbmx5IHNldCBzdGF0ZSBpZiB0aGlzIGlzIHRoZSBpbml0aWFsIGV2YWx1YXRpb24gb3IgdGhpcyBldmFsdWF0aW9uIHdhcyBhdFxuICAvLyBsZWFzdCBwYXJ0aWFsbHkgY2F1c2VkIGJ5IHVzZXJzSW5zdGFuY2U6XG4gIC8vIGhpZ2hsaWdodC1uZXh0LWxpbmVcbiAgaWYgKFxuICAgICFyZWFzb25zLmxlbmd0aCB8fFxuICAgIHJlYXNvbnMuc29tZShyZWFzb24gPT4gcmVhc29uLnNvdXJjZUtleSA9PT0gdXNlcnNJbnN0YW5jZS5rZXlIYXNoKVxuICApIHtcbiAgICBzdG9yZS5zZXRTdGF0ZShbLi4udXNlcnNMaXN0XS5zb3J0KChhLCBiKSA9PiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpKSlcbiAgfVxuXG4gIHJldHVybiBzdG9yZVxufSlcbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxwPntgV2UnbGwgbGVhcm4gbW9yZSBhYm91dCBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BpbmplY3RXaHlgfTwvaW5saW5lQ29kZT57YCBpbiBgfTxhIHBhcmVudE5hbWU9XCJwXCIgey4uLntcbiAgICAgICAgXCJocmVmXCI6IFwiLi4vYWR2YW5jZWQvZGV2LXRvb2xzXCJcbiAgICAgIH19PntgdGhlIGRldiB0b29scyB3YWxrdGhyb3VnaGB9PC9hPntgLmB9PC9wPlxuICAgIDxoMiB7Li4ue1xuICAgICAgXCJpZFwiOiBcImVmZmVjdHMtc3Vic2NyaWJlcnNcIlxuICAgIH19PntgRWZmZWN0cyBTdWJzY3JpYmVyc2B9PC9oMj5cbiAgICA8cD57YEluIGB9PGEgcGFyZW50TmFtZT1cInBcIiB7Li4ue1xuICAgICAgICBcImhyZWZcIjogXCJzdG9yZXNcIlxuICAgICAgfX0+e2B0aGUgc3RvcmVzIHdhbGt0aHJvdWdoYH08L2E+e2AsIHdlIGxlYXJuZWQgdGhhdCBzdG9yZXMgY2FuIGJlIGdpdmVuIGFuIGVmZmVjdHMgc3Vic2NyaWJlcjpgfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzXCJcbiAgICAgIH19PntgZnVuY3Rpb24gQXBwKCkge1xuICBjb25zdCB7IHN0b3JlIH0gPSB1c2VBdG9tSW5zdGFuY2UobXlBdG9tKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gc3RvcmUuc3Vic2NyaWJlKHtcbiAgICAgIGVmZmVjdHM6ICh7IGFjdGlvbiwgbmV3U3RhdGUsIG9sZFN0YXRlIH0pID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ3J1bm5pbmcgZWZmZWN0JywgeyBhY3Rpb24sIG5ld1N0YXRlLCBvbGRTdGF0ZSB9KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gKCkgPT4gc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKClcbiAgfSwgW3N0b3JlXSlcbiAgLi4uXG59XG5gfTwvY29kZT48L3ByZT5cbiAgICA8cD57YFNlZSB0aGUgZnVsbCBlZmZlY3Qgc3Vic2NyaWJlciBkZWZpbml0aW9uIGB9PGEgcGFyZW50TmFtZT1cInBcIiB7Li4ue1xuICAgICAgICBcImhyZWZcIjogXCIvbm90LWRvbmVcIlxuICAgICAgfX0+e2BoZXJlYH08L2E+e2AuIEVmZmVjdHMgc3Vic2NyaWJlcnMgYXJlIHNpbXBsZSBhbmQgcG93ZXJmdWwuIEJ1dCB5b3Ugc2hvdWxkbid0IG5lZWQgdG8gcmlnIHRoZW0gdXAgbWFudWFsbHkuIFplZHV4IGV4cG9zZXMgYSBoaWdoLWxldmVsIEFQSSB0aGF0IGRvZXMgdGhpcyBmb3IgeW91OmB9PC9wPlxuICAgIDxoMiB7Li4ue1xuICAgICAgXCJpZFwiOiBcIndoZW5idWlsZGVyXCJcbiAgICB9fT57YFdoZW5CdWlsZGVyYH08L2gyPlxuICAgIDxwPjxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2B3aGVuKClgfTwvaW5saW5lQ29kZT57YCBpcyBhIGRlY2xhcmF0aXZlIGFuZCBzaW1wbGUgd2F5IHRvIGhvb2sgaW50byBzdG9yZXMuIEl0IGhhcyBzZXZlcmFsIG1ldGhvZHMgZm9yIHR5aW5nIGludG8gY2VydGFpbiBldmVudHMgYW5kIHN0YXR1cyB1cGRhdGVzIGluIHN0b3Jlcy5gfTwvcD5cbiAgICA8aDMgey4uLntcbiAgICAgIFwiaWRcIjogXCJyZWNlaXZlc2FjdGlvblwiXG4gICAgfX0+PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImgzXCI+e2AucmVjZWl2ZXNBY3Rpb24oKWB9PC9pbmxpbmVDb2RlPjwvaDM+XG4gICAgPHA+e2BDYWxscyBhbiBlZmZlY3QgaGFuZGxlciBldmVyeSB0aW1lIHRoZSBzdG9yZSByZWNlaXZlcyBhbiBhY3Rpb24uYH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c1wiXG4gICAgICB9fT57YGltcG9ydCB7IHVzZUF0b21JbnN0YW5jZSwgd2hlbiB9IGZyb20gJ0B6ZWR1eC9yZWFjdCdcblxuZnVuY3Rpb24gQXBwKCkge1xuICBjb25zdCB7IHN0b3JlIH0gPSB1c2VBdG9tSW5zdGFuY2UobXlBdG9tKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gaGlnaGxpZ2h0LW5leHQtbGluZVxuICAgIGNvbnN0IHsgc3Vic2NyaXB0aW9uIH0gPSB3aGVuKHN0b3JlKS5yZWNlaXZlc0FjdGlvbihcbiAgICAgICh7IGFjdGlvbiwgbmV3U3RhdGUsIG9sZFN0YXRlIH0pID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ3N0b3JlIHJlY2VpdmVkIGFjdGlvbicsIHsgYWN0aW9uLCBuZXdTdGF0ZSwgb2xkU3RhdGUgfSlcbiAgICAgIH1cbiAgICApXG5cbiAgICByZXR1cm4gKCkgPT4gc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKClcbiAgfSwgW3N0b3JlXSlcbiAgLi4uXG59XG5gfTwvY29kZT48L3ByZT5cbiAgICA8cD48aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgLnJlY2VpdmVzQWN0aW9uKClgfTwvaW5saW5lQ29kZT57YCBjYW4gYmUgZ2l2ZW4gYSBzcGVjaWZpYyBgfTxhIHBhcmVudE5hbWU9XCJwXCIgey4uLntcbiAgICAgICAgXCJocmVmXCI6IFwiLi4vYXBpL3R5cGVzL0FjdGlvbkZhY3RvcnlcIlxuICAgICAgfX0+e2BBY3Rpb25GYWN0b3J5YH08L2E+e2Agb3IgYWN0aW9uIHR5cGU6YH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c1wiXG4gICAgICB9fT57YGltcG9ydCB7IGFjdGlvbkZhY3RvcnksIHdoZW4gfSBmcm9tICdAemVkdXgvcmVhY3QnXG5cbmNvbnN0IGxvZ2luID0gYWN0aW9uRmFjdG9yeSgnbG9naW4nKVxud2hlbihteVN0b3JlKS5yZWNlaXZlc0FjdGlvbihsb2dpbiwgZG9TdHVmZk9uTG9naW4pXG5gfTwvY29kZT48L3ByZT5cbiAgICA8cD57YEluIHRoaXMgd2F5LCBzdG9yZXMgY2FuIGVhc2lseSBiZSBjb25zdW1lZCBhcyBzdHJlYW1zIG9mIGFjdGlvbnMuYH08L3A+XG4gICAgPGg0IHsuLi57XG4gICAgICBcImlkXCI6IFwic2V0c3RhdGVcIlxuICAgIH19PjxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJoNFwiPntgLnNldFN0YXRlKClgfTwvaW5saW5lQ29kZT48L2g0PlxuICAgIDxwPntgV2hlbiBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2BzdG9yZS5zZXRTdGF0ZSgpYH08L2lubGluZUNvZGU+e2AgaXMgY2FsbGVkLCBaZWR1eCB0cmFuc2xhdGVzIHRoYXQgaW50byBhIGRpc3BhdGNoIG9mIHRoZSBzcGVjaWFsIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YEhZRFJBVEVgfTwvaW5saW5lQ29kZT57YCBhY3Rpb24uIFRvIGxpc3RlbiB0byBvbmx5IHRoaXMgYWN0aW9uLCBpbXBvcnQgdGhlIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGFjdGlvblR5cGVzYH08L2lubGluZUNvZGU+e2Agb2JqZWN0IGFuZCB1c2UgdGhlIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YC5IWURSQVRFYH08L2lubGluZUNvZGU+e2AgcHJvcGVydHk6YH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c1wiXG4gICAgICB9fT57YGltcG9ydCB7IGFjdGlvblR5cGVzLCB3aGVuIH0gZnJvbSAnQHplZHV4L3JlYWN0J1xuXG53aGVuKHN0b3JlKS5yZWNlaXZlc0FjdGlvbihhY3Rpb25UeXBlcy5IWURSQVRFLCBoYW5kbGVTZXRTdGF0ZSlcbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxoMyB7Li4ue1xuICAgICAgXCJpZFwiOiBcInN0YXRlY2hhbmdlc1wiXG4gICAgfX0+PGlubGluZUNvZGUgcGFyZW50TmFtZT1cImgzXCI+e2Auc3RhdGVDaGFuZ2VzKClgfTwvaW5saW5lQ29kZT48L2gzPlxuICAgIDxwPntgQ2FsbHMgYW4gZWZmZWN0IGhhbmRsZXIgZXZlcnkgdGltZSB0aGUgc3RvcmUncyBzdGF0ZSBjaGFuZ2VzIGluIHJlc3BvbnNlIHRvIGFuIGFjdGlvbiAod2hpY2ggaW5jbHVkZXMgZXZlcnkgdGltZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2Auc2V0U3RhdGUoKWB9PC9pbmxpbmVDb2RlPntgIGlzIGNhbGxlZCkuYH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c1wiXG4gICAgICB9fT57YHdoZW4obXlTdG9yZSkuc3RhdGVDaGFuZ2VzKCh7IGFjdGlvbiwgbmV3U3RhdGUsIG9sZFN0YXRlIH0pID0+IHtcbiAgY29uc29sZS5sb2coJ3N0b3JlIHN0YXRlIGNoYW5nZWQnLCB7IGFjdGlvbiwgbmV3U3RhdGUsIG9sZFN0YXRlIH0pXG59KVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPGgzIHsuLi57XG4gICAgICBcImlkXCI6IFwic3RhdGVtYXRjaGVzXCJcbiAgICB9fT48aW5saW5lQ29kZSBwYXJlbnROYW1lPVwiaDNcIj57YC5zdGF0ZU1hdGNoZXMoKWB9PC9pbmxpbmVDb2RlPjwvaDM+XG4gICAgPHA+e2BDYWxscyBhbiBlZmZlY3QgaGFuZGxlciBldmVyeSB0aW1lIHRoZSBzdG9yZSdzIHN0YXRlIHVwZGF0ZXMgdG8gbWF0Y2ggdGhlIHBhc3NlZCBwcmVkaWNhdGUuIERvZXMgbm90IGNhbGwgdGhlIGhhbmRsZXIgaWYgdGhlIHByZXZpb3VzIHN0YXRlIGFsc28gbWF0Y2hlZCB0aGUgcHJlZGljYXRlLmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIlxuICAgICAgfX0+e2Bjb25zdCBjb3VudGVyU3RvcmUgPSBjcmVhdGVTdG9yZShudWxsLCAwKVxuXG53aGVuKGNvdW50ZXJTdG9yZSkuc3RhdGVNYXRjaGVzKFxuICBudW0gPT4gbnVtID4gMSxcbiAgKHsgbmV3U3RhdGUsIG9sZFN0YXRlIH0pID0+IHtcbiAgICBjb25zb2xlLmxvZygndHJpZ2dlcmVkIScsIHsgbmV3U3RhdGUsIG9sZFN0YXRlIH0pXG4gIH1cbilcblxuY291bnRlclN0b3JlLnNldFN0YXRlKDEpXG5jb3VudGVyU3RvcmUuc2V0U3RhdGUoMikgLy8gdHJpZ2dlcmVkISB7IG5ld1N0YXRlOiAyLCBvbGRTdGF0ZTogMSB9XG5jb3VudGVyU3RvcmUuc2V0U3RhdGUoMylcbmNvdW50ZXJTdG9yZS5zZXRTdGF0ZSgwKVxuY291bnRlclN0b3JlLnNldFN0YXRlKDQpIC8vIHRyaWdnZXJlZCEgeyBuZXdTdGF0ZTogNCwgb2xkU3RhdGU6IDAgfVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPHA+e2BUbyBwZXJmb3JtIGEgc2lkZSBlZmZlY3Qgb24gZXZlcnkgYWN0aW9uIG9yIGV2ZXJ5IHN0YXRlIGNoYW5nZSB3aGlsZSB0aGUgcHJlZGljYXRlIGlzIG1hdGNoZWQsIHJlZ2FyZGxlc3Mgb2YgcHJldmlvdXMgc3RhdGUsIHVzZSBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2AucmVjZWl2ZXNBY3Rpb24oKWB9PC9pbmxpbmVDb2RlPntgIG9yIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YC5zdGF0ZUNoYW5nZXMoKWB9PC9pbmxpbmVDb2RlPntgIHdpdGggYSBub3JtYWwgaWYgc3RhdGVtZW50OmB9PC9wPlxuICAgIDxwcmU+PGNvZGUgcGFyZW50TmFtZT1cInByZVwiIHsuLi57XG4gICAgICAgIFwiY2xhc3NOYW1lXCI6IFwibGFuZ3VhZ2UtdHNcIlxuICAgICAgfX0+e2B3aGVuKGNvdW50ZXJTdG9yZSkucmVjZWl2ZXNBY3Rpb24oKHsgbmV3U3RhdGUsIG9sZFN0YXRlIH0pID0+IHtcbiAgaWYgKG5ld1N0YXRlID4gMSkge1xuICAgIGNvbnNvbGUubG9nKCd0cmlnZ2VyZWQhJywgeyBuZXdTdGF0ZSwgb2xkU3RhdGUgfSlcbiAgfVxufSlcblxuY291bnRlclN0b3JlLnNldFN0YXRlKDEpXG5jb3VudGVyU3RvcmUuc2V0U3RhdGUoMikgLy8gdHJpZ2dlcmVkISB7IG5ld1N0YXRlOiAyLCBvbGRTdGF0ZTogMSB9XG5jb3VudGVyU3RvcmUuc2V0U3RhdGUoMykgLy8gdHJpZ2dlcmVkISB7IG5ld1N0YXRlOiAzLCBvbGRTdGF0ZTogMiB9XG5jb3VudGVyU3RvcmUuc2V0U3RhdGUoMClcbmNvdW50ZXJTdG9yZS5zZXRTdGF0ZSg0KSAvLyB0cmlnZ2VyZWQhIHsgbmV3U3RhdGU6IDQsIG9sZFN0YXRlOiAwIH1cbmB9PC9jb2RlPjwvcHJlPlxuICAgIDxoMyB7Li4ue1xuICAgICAgXCJpZFwiOiBcImNoYWluaW5nXCJcbiAgICB9fT57YENoYWluaW5nYH08L2gzPlxuICAgIDxwPntgTXVsdGlwbGUgaGFuZGxlcnMgY2FuIGJlIGNoYWluZWQgdG9nZXRoZXIuYH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c1wiXG4gICAgICB9fT57YHdoZW4obXlTdG9yZSkucmVjZWl2ZXNBY3Rpb24obG9nQWN0aW9uKS5zdGF0ZUNoYW5nZXMocGVyc2lzdFN0YXRlQ2hhbmdlKVxuXG4vLyBPclxuY29uc3Qgd2hlbk15U3RvcmUgPSB3aGVuKG15U3RvcmUpXG5cbndoZW5NeVN0b3JlLnJlY2VpdmVzQWN0aW9uKGxvZ0FjdGlvbilcbndoZW5NeVN0b3JlLnN0YXRlQ2hhbmdlcyhwZXJzaXN0U3RhdGVDaGFuZ2UpXG5gfTwvY29kZT48L3ByZT5cbiAgICA8aDMgey4uLntcbiAgICAgIFwiaWRcIjogXCJjbGVhbnVwXCJcbiAgICB9fT57YENsZWFudXBgfTwvaDM+XG4gICAgPHA+e2BBcyB3aXRoIGFsbCBzdWJzY3JpcHRpb25zLCBpdCdzIGltcG9ydGFudCB0byBjbGVhbiB1cCBlZmZlY3RzIHN1YnNjcmliZXJzIHdoZW4gdGhlaXIgY29udGV4dCBpcyBkZXN0cm95ZWQgKGUuZy4gdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQgb3IgdGhlIGF0b20gaW5zdGFuY2UgaXMgZGVzdHJveWVkKS5gfTwvcD5cbiAgICA8cD48aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgd2hlbigpYH08L2lubGluZUNvZGU+e2AgYnVpbGRlcnMgaGF2ZSBhIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YHN1YnNjcmlwdGlvbmB9PC9pbmxpbmVDb2RlPntgIHByb3BlcnR5LCB3aGljaCBpcyBhIHJlZmVyZW5jZSB0byB0aGUgc3RvcmUgc3Vic2NyaXB0aW9uIGNyZWF0ZWQgYnkgdGhlIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YHdoZW4oKWB9PC9pbmxpbmVDb2RlPntgIGNhbGwuIFJlbWVtYmVyIHRvIGNhbGwgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKClgfTwvaW5saW5lQ29kZT57YCBpbiBgfTxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJwXCI+e2B1c2VFZmZlY3RgfTwvaW5saW5lQ29kZT57YCBhbmQgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgaW5qZWN0RWZmZWN0YH08L2lubGluZUNvZGU+e2A6YH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c3hcIixcbiAgICAgICAgXCJtZXRhc3RyaW5nXCI6IFwibGl2ZSBlY29zeXN0ZW1JZD1zaWRlLWVmZmVjdHMvY2xlYW51cCByZXN1bHRWYXI9QnV0dG9uXCIsXG4gICAgICAgIFwibGl2ZVwiOiB0cnVlLFxuICAgICAgICBcImVjb3N5c3RlbUlkXCI6IFwic2lkZS1lZmZlY3RzL2NsZWFudXBcIixcbiAgICAgICAgXCJyZXN1bHRWYXJcIjogXCJCdXR0b25cIlxuICAgICAgfX0+e2Bjb25zdCB0cmlnZ2VyQWxlcnQgPSBhY3Rpb25GYWN0b3J5KCd0cmlnZ2VyQWxlcnQnKVxuXG5jb25zdCBidXR0b25QcmVzc0F0b20gPSBhdG9tKCdidXR0b25QcmVzcycsICgpID0+IHtcbiAgY29uc3Qgc3RvcmUgPSBpbmplY3RTdG9yZSgpXG5cbiAgaW5qZWN0RWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB7IHN1YnNjcmlwdGlvbiB9ID0gd2hlbihzdG9yZSkucmVjZWl2ZXNBY3Rpb24odHJpZ2dlckFsZXJ0LCAoKSA9PlxuICAgICAgYWxlcnQoJ2NvbnNpZGVyIGl0IGRvbmUnKVxuICAgIClcblxuICAgIHJldHVybiAoKSA9PiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKVxuICB9LCBbc3RvcmVdKSAvLyBkb24ndCBoYXZlIHRvIHBhc3Mgc3RvcmUgc2luY2UgaXQncyBhIHN0YWJsZSByZWZlcmVuY2VcblxuICByZXR1cm4gc3RvcmVcbn0pXG5cbmZ1bmN0aW9uIEJ1dHRvbigpIHtcbiAgY29uc3QgeyBkaXNwYXRjaCB9ID0gdXNlQXRvbUluc3RhbmNlKGJ1dHRvblByZXNzQXRvbSlcblxuICByZXR1cm4gPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBkaXNwYXRjaCh0cmlnZ2VyQWxlcnQoKSl9PkRvIEl0PC9idXR0b24+XG59XG5gfTwvY29kZT48L3ByZT5cbiAgICA8cD57YEZvciB0aGUgZnVsbCBBUEksIHNlZSBgfTxhIHBhcmVudE5hbWU9XCJwXCIgey4uLntcbiAgICAgICAgXCJocmVmXCI6IFwiL25vdC1kb25lXCJcbiAgICAgIH19PjxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJhXCI+e2B3aGVuKClgfTwvaW5saW5lQ29kZT48L2E+e2AuYH08L3A+XG4gICAgPGgyIHsuLi57XG4gICAgICBcImlkXCI6IFwib2RkLWxvb2tpbmctYWN0aW9uc1wiXG4gICAgfX0+e2BPZGQtTG9va2luZyBBY3Rpb25zYH08L2gyPlxuICAgIDxwPntgWmVkdXgnIHN0b3JlIGNvbXBvc2l0aW9uIG1vZGVsIHdvcmtzIGJ5IG1ha2luZyBhY3Rpb25zIHRoZW1zZWx2ZXMgY29tcG9zYWJsZSBvYmplY3RzIGNhbGxlZCBBY3Rpb25DaGFpbnMuIFRoZSBBY3Rpb25DaGFpbiBjb250YWlucyBuZWVkZWQgbWV0YWRhdGEgZm9yIFplZHV4IHRvIHBlcmZvcm0gaXRzIHN0b3JlIGNvbXBvc2l0aW9uIG1hZ2ljLiBBY3Rpb25DaGFpbnMgY29uc2lzdCBvZiBhbnkgbnVtYmVyIG9mIFwibWV0YSBub2Rlc1wiIHdpdGggdGhlIHdyYXBwZWQgYWN0aW9uIGJlaW5nIHRoZSBsYXN0IG5vZGUgaW4gdGhlIGNoYWluLmB9PC9wPlxuICAgIDxwPntgV2UnbGwgZ28gb3ZlciB0aGUgc3BlY2lmaWNzIG9mIFplZHV4JyBzdG9yZSBjb21wb3NpdGlvbiBtb2RlbCBpbiBgfTxhIHBhcmVudE5hbWU9XCJwXCIgey4uLntcbiAgICAgICAgXCJocmVmXCI6IFwiLi4vYWR2YW5jZWQvdGltZS10cmF2ZWxcIlxuICAgICAgfX0+e2B0aGUgdGltZSB0cmF2ZWwgd2Fsa3Rocm91Z2hgfTwvYT57YC4gRm9yIG5vdyB5b3UganVzdCBuZWVkIHRvIGtub3cgdGhhdCwgZGVwZW5kaW5nIG9uIHlvdXIgc3RvcmUgc2V0dXAsIHlvdSBtYXkgc2VlIHRoZXNlIEFjdGlvbkNoYWluIG9iamVjdHMgYXMgdGhlIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGFjdGlvbmB9PC9pbmxpbmVDb2RlPntgIHByb3BlcnR5IGluIHlvdXIgZWZmZWN0cyBoYW5kbGVycy4gWmVkdXggZG9lc24ndCB1bndyYXAgdGhlIGFjdGlvbiBiZWNhdXNlIHNvbWV0aW1lcyB5b3Ugd2lsbCBuZWVkIHRvIG9ic2VydmUgdGhlIG1ldGFkYXRhIHRoZSBhY3Rpb24gaXMgd3JhcHBlZCBpbi5gfTwvcD5cbiAgICA8cD57YElmIHlvdSBkb24ndCBjYXJlIGFib3V0IHRoZSBtZXRhZGF0YSwgeW91IGNhbiBnZXQgdGhlIHdyYXBwZWQgYWN0aW9uIHdpdGggYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwicFwiPntgcmVtb3ZlQWxsTWV0YWB9PC9pbmxpbmVDb2RlPjwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzXCJcbiAgICAgIH19PntgaW1wb3J0IHsgcmVtb3ZlQWxsTWV0YSwgd2hlbiB9IGZyb20gJ0B6ZWR1eC9yZWFjdCdcblxud2hlbihzdG9yZSkucmVjZWl2ZXNBY3Rpb24oKHsgYWN0aW9uIH0pID0+IHtcbiAgY29uc3QgdW53cmFwcGVkQWN0aW9uID0gcmVtb3ZlQWxsTWV0YShhY3Rpb24pXG5cbiAgc3dpdGNoICh1bndyYXBwZWRBY3Rpb24udHlwZSkgeyAuLi4gfVxufSlcblxuc3RvcmUuc3Vic2NyaWJlKChuZXdTdGF0ZSwgb2xkU3RhdGUsIGFjdGlvbkNoYWluKSA9PiB7XG4gIGNvbnN0IGFjdGlvbiA9IHJlbW92ZUFsbE1ldGEoYWN0aW9uQ2hhaW4pXG59KVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPGgyIHsuLi57XG4gICAgICBcImlkXCI6IFwib2JzZXJ2YWJsZXNcIlxuICAgIH19PntgT2JzZXJ2YWJsZXNgfTwvaDI+XG4gICAgPHA+e2BaZWR1eCBzdG9yZXMgYXJlIGEgdHlwZSBvZiBvYnNlcnZhYmxlLiBIb3dldmVyLCBaZWR1eCBkb2Vzbid0IGhhdmUgYW55IGJ1aWx0LWluIGhlbHBlcnMgKGN1cnJlbnRseSkgZm9yIGludGVncmF0aW5nIHdpdGggb2JzZXJ2YWJsZSBsaWJyYXJpZXMgc3VjaCBhcyBgfTxhIHBhcmVudE5hbWU9XCJwXCIgey4uLntcbiAgICAgICAgXCJocmVmXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL1JlYWN0aXZlWC9yeGpzXCJcbiAgICAgIH19PntgUnhKU2B9PC9hPntgLiBCdXQgWmVkdXgnIGV4dHJlbWUgZmxleGliaWxpdHkgbWFrZXMgd29ya2luZyB3aXRoIG9ic2VydmFibGVzIGVhc3kuYH08L3A+XG4gICAgPHA+e2BGb3IgZXhhbXBsZSwgYW55IGF0b20ncyB2YWx1ZSBjYW4gYmUgYW4gb2JzZXJ2YWJsZTpgfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzXCJcbiAgICAgIH19PntgaW1wb3J0IHsgYXRvbSB9IGZyb20gJ0B6ZWR1eC9yZWFjdCdcbmltcG9ydCB7IG9mIH0gZnJvbSAncnhqcydcblxuY29uc3Qgb2JzZXJ2YWJsZVZhbHVlID0gYXRvbSgnb2JzZXJ2YWJsZVZhbHVlJywgb2YoJ2hlbGxvLCB3b3JsZCcpKVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPHA+e2BUaGlzIGNhbiBiZSB1c2VmdWwgZm9yIHRha2luZyBhZHZhbnRhZ2Ugb2YgWmVkdXgnIGNhY2hpbmcgYWJpbGl0aWVzIHRvIHNoYXJlIG9ic2VydmFibGUgcmVmZXJlbmNlcy5gfTwvcD5cbiAgICA8cD57YFlvdSBjYW4gZXhwb3J0IGFuIG9ic2VydmFibGUgZnJvbSBhbnkgYXRvbTpgfTwvcD5cbiAgICA8cHJlPjxjb2RlIHBhcmVudE5hbWU9XCJwcmVcIiB7Li4ue1xuICAgICAgICBcImNsYXNzTmFtZVwiOiBcImxhbmd1YWdlLXRzXCJcbiAgICAgIH19PntgaW1wb3J0IHsgYXBpLCBhdG9tLCBpbmplY3RNZW1vIH0gZnJvbSAnQHplZHV4L3JlYWN0J1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJ3J4anMnXG5cbmNvbnN0IHVzZXJzU3RyZWFtQXRvbSA9IGF0b20oJ3VzZXJzU3RyZWFtJywgKCkgPT4ge1xuICBjb25zdCB1c2VycyQgPSBpbmplY3RNZW1vKCgpID0+IGZyb20oc3RyZWFtVXNlcnMoKSksIFtdKVxuXG4gIHJldHVybiBhcGkoKS5zZXRFeHBvcnRzKHtcbiAgICB1c2VycyQsXG4gIH0pXG59KVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPHA+e2BIYW5kbGluZyBvYnNlcnZhYmxlIHN1YnNjcmlwdGlvbnMgaXMgZWFzeSB3aXRoIGB9PGlubGluZUNvZGUgcGFyZW50TmFtZT1cInBcIj57YGluamVjdEVmZmVjdCgpYH08L2lubGluZUNvZGU+e2A6YH08L3A+XG4gICAgPHByZT48Y29kZSBwYXJlbnROYW1lPVwicHJlXCIgey4uLntcbiAgICAgICAgXCJjbGFzc05hbWVcIjogXCJsYW5ndWFnZS10c1wiXG4gICAgICB9fT57YGltcG9ydCB7IGF0b20sIGluamVjdEF0b21WYWx1ZSwgaW5qZWN0RWZmZWN0LCBpbmplY3RTdG9yZSB9IGZyb20gJ0B6ZWR1eC9yZWFjdCdcblxuY29uc3QgdXNlckF0b20gPSBhdG9tKCd1c2VyJywgKCkgPT4ge1xuICBjb25zdCB1c2VyJCA9IGluamVjdEF0b21WYWx1ZSh1c2VyU3RyZWFtQXRvbSlcbiAgY29uc3Qgc3RvcmUgPSBpbmplY3RTdG9yZShudWxsKVxuXG4gIGluamVjdEVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gdXNlciQuc3Vic2NyaWJlKHZhbCA9PiBzdG9yZS5zZXRTdGF0ZSh2YWwpKVxuXG4gICAgcmV0dXJuICgpID0+IHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpXG4gIH0sIFt1c2VyJF0pXG5cbiAgcmV0dXJuIHN0b3JlXG59KVxuYH08L2NvZGU+PC9wcmU+XG4gICAgPGgyIHsuLi57XG4gICAgICBcImlkXCI6IFwicmVjYXBcIlxuICAgIH19PntgUmVjYXBgfTwvaDI+XG4gICAgPHVsPlxuICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPjxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgaW5qZWN0RWZmZWN0KClgfTwvaW5saW5lQ29kZT57YCBpcyBhIHNpbXBsZSB0b29sIGZvciBydW5uaW5nIHNpZGUgZWZmZWN0cyBvbiBjaGFuZ2VzIHRoYXQgdHJpZ2dlciBhdG9tIHJlZXZhbHVhdGlvbi4gSXQncyBhbHNvIGdvb2QgZm9yIG1hbmFnaW5nIGNsZWFudXAuYH08L2xpPlxuICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPntgQlVUIHlvdSBtYXkgbm90IG5lZWQgYH08aW5saW5lQ29kZSBwYXJlbnROYW1lPVwibGlcIj57YGluamVjdEVmZmVjdCgpYH08L2lubGluZUNvZGU+e2AuYH08L2xpPlxuICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPjxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgd2hlbihzdG9yZSkucmVjZWl2ZXNBY3Rpb24oKWB9PC9pbmxpbmVDb2RlPntgIHJ1bnMgYSBzaWRlIGVmZmVjdCBvbiBldmVyeSBhY3Rpb24uYH08L2xpPlxuICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPjxpbmxpbmVDb2RlIHBhcmVudE5hbWU9XCJsaVwiPntgd2hlbihzdG9yZSkuc3RhdGVDaGFuZ2VzKClgfTwvaW5saW5lQ29kZT57YCBydW5zIGEgc2lkZSBlZmZlY3Qgb24gZXZlcnkgc3RhdGUgY2hhbmdlLmB9PC9saT5cbiAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj48aW5saW5lQ29kZSBwYXJlbnROYW1lPVwibGlcIj57YHdoZW4oc3RvcmUpLnN0YXRlTWF0Y2hlcygpYH08L2lubGluZUNvZGU+e2AgcnVucyBhIHNpZGUgZWZmZWN0IHdoZW4gdGhlIHN0b3JlJ3MgbmV3IHN0YXRlIHBhc3NlcyB0aGUgcHJlZGljYXRlIGZ1bmN0aW9uLCBidXQgdGhlIG9sZCBzdGF0ZSBkaWQgbm90LmB9PC9saT5cbiAgICAgIDxsaSBwYXJlbnROYW1lPVwidWxcIj48aW5saW5lQ29kZSBwYXJlbnROYW1lPVwibGlcIj57YHdoZW4oc3RvcmUpLnN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpYH08L2lubGluZUNvZGU+e2AgY2xlYW5zIHVwIHRoZSBzdWJzY3JpcHRpb24uYH08L2xpPlxuICAgICAgPGxpIHBhcmVudE5hbWU9XCJ1bFwiPntgWmVkdXggY2FuIGhhbmRsZSBldmVyeSBwb3NzaWJsZSBhc3luY2hyb25vdXMgZmxvdywgZS5nLiBSeEpTIHN0cmVhbXMsIGdlbmVyYXRvcnMsIHByb21pc2VzLCBzb2NrZXRzLCBldGNgfTwvbGk+XG4gICAgPC91bD5cbiAgICA8aDIgey4uLntcbiAgICAgIFwiaWRcIjogXCJuZXh0LXN0ZXBzXCJcbiAgICB9fT57YE5leHQgU3RlcHNgfTwvaDI+XG4gICAgPHA+e2BMZXQncyB0YWtlIGEgY2xvc2VyIGxvb2sgYXQgdXNpbmcgYH08YSBwYXJlbnROYW1lPVwicFwiIHsuLi57XG4gICAgICAgIFwiaHJlZlwiOiBcImN1c3RvbS1pbmplY3RvcnNcIlxuICAgICAgfX0+e2BjdXN0b20gaW5qZWN0b3JzYH08L2E+e2AgdG8gc2ltcGxpZnkgbWFuYWdpbmcgc2lkZSBlZmZlY3RzLmB9PC9wPlxuICAgIDwvTURYTGF5b3V0Pjtcbn1cbjtcbk1EWENvbnRlbnQuaXNNRFhDb21wb25lbnQgPSB0cnVlO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwibWR4IiwiZnJvbnRNYXR0ZXIiLCJpZCIsInRpdGxlIiwiY29udGVudFRpdGxlIiwidW5kZWZpbmVkIiwibWV0YWRhdGEiLCJhc3NldHMiLCJ0b2MiLCJ2YWx1ZSIsImxldmVsIiwibGF5b3V0UHJvcHMiLCJNRFhMYXlvdXQiLCJNRFhDb250ZW50IiwiY29tcG9uZW50cyIsInByb3BzIiwiaXNNRFhDb21wb25lbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///23\n')}}]);